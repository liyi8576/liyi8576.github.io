{"version":3,"sources":["webpack:///static/js/app.8e71bc39.js","webpack:///./src/templates/strategy/create/strategy_node_select.tpl","webpack:///./src/collections/ModelNodeCollection.js","webpack:///./src/templates/common/modal-alert.tpl","webpack:///./src/utils/localStorageUtil.js","webpack:///./src/templates/strategy/create/node/modelJoin/modelJoinField.tpl","webpack:///./src/views/strategy/create/context_menu_config.json","webpack:///./src/models/ModelNode.js","webpack:///./src/api/MockApi.js","webpack:///./src/templates/main/layout.tpl","webpack:///./src/templates/strategy/create/node/modelConfig/modelsField.tpl","webpack:///./src/templates/strategy/create/diagram_tips.tpl","webpack:///./src/views/strategy/create/ContextMenuView.js","webpack:///./src/views/strategy/details/subviews/StrategyDetailView.js","webpack:///./src/views/main/NavMenuView.js","webpack:///./src/views/strategy/create/DiagramView.js","webpack:///./src/views/strategy/create/DiagramNodeConfigView.js","webpack:///./src/views/strategy/create/NodeSelectorView.js","webpack:///./src/templates/strategy/create/diagram_toolbar.tpl","webpack:///./src/templates/strategy/manage/strategyData.tpl","webpack:///./src/views/strategy/create/RaphaelExtend.js","webpack:///./src/templates/strategy/manage/strategyQuery.tpl","webpack:///./src/models/strategy/ModelConfigModel.js","webpack:///./src/views/common/MessageView.js","webpack:///./src/collections/NodeConnectionCollection.js","webpack:///./src/views/strategy/create/BusiSelectorView.js","webpack:///./src/views/strategy/create/DiagramTipsView.js","webpack:///./src/templates/strategy/details/diagram.tpl","webpack:///./src/views/strategy/create/node/modelJoin/ModelJoinFieldView.js","webpack:///./src/models/strategy/StrategyHistoryModel.js","webpack:///./src/templates/strategy/create/node/modelJoin/modelJoin.tpl","webpack:///./src/views/strategy/create/node/modelConfig/FieldFilterView.js","webpack:///./src/collections/NavMenuCollection.js","webpack:///./src/collections/strategy/StrategyMgrCollection.js","webpack:///./src/views/strategy/details/StrategyDetailsMain.js","webpack:///./src/models/NodeConnection.js","webpack:///./src/utils/BackbonePreParse.js","webpack:///./src/models/strategy/RecommendTypeModel.js","webpack:///./src/models/strategy/StrategyMgrModel.js","webpack:///./src/views/common/ModalView.js","webpack:///./src/templates/strategy/details/modellogs.tpl","webpack:///./src/views/strategy/create/DataNodeView.js","webpack:///./src/templates/main/nav_menu.tpl","webpack:///./src/api/mock/Mock_Irec.js","webpack:///./src/templates/strategy/create/strategy_save.tpl","webpack:///./src/templates/strategy/manage/main.tpl","webpack:///./src/templates/strategy/create/node/modelConfig/fieldFilter.tpl","webpack:///./src/models/DataNode.js","webpack:///./src/templates/strategy/manage/recommendType.tpl","webpack:///./src/collections/strategy/RecommendTypeCollection.js","webpack:///./src/templates/strategy/create/context_menu.tpl","webpack:///./src/views/strategy/manage/subviews/RecommendTypeView.js","webpack:///./src/templates/strategy/create/busi-selector.tpl","webpack:///./src/views/MainView.js","webpack:///./src/routers/Router.js","webpack:///./src/models/strategy/StrategyTemplateModel.js","webpack:///./src/views/strategy/manage/subviews/StrategyMgrView.js","webpack:///./src/utils/App.js","webpack:///./src/index.js","webpack:///./src/views/strategy/create/node/modelConfig/ModelConfigView.js","webpack:///./src/templates/strategy/create/strategy_datanode.tpl","webpack:///./src/templates/common/modal.tpl","webpack:///./src/templates/strategy/details/detail.tpl","webpack:///./src/templates/common/message.tpl","webpack:///./src/templates/common/modal-confirm.tpl","webpack:///./src/views/strategy/details/subviews/StrategyHistoryView.js","webpack:///./src/views/strategy/manage/StrategyManageMain.js","webpack:///./src/views/strategy/create/StrategyCreateView.js","webpack:///./src/models/strategy/StrategyModel.js","webpack:///./src/templates/strategy/create/strategy_create.tpl","webpack:///./src/templates/strategy/manage/strategyState.tpl","webpack:///./src/collections/DataNodeCollection.js","webpack:///./src/views/strategy/create/node/modelJoin/ModelJoinView.js","webpack:///./src/views/main/FooterView.js","webpack:///./src/templates/main/footer.tpl","webpack:///./src/models/NavMenu.js","webpack:///./src/core/Client.js","webpack:///./src/views/strategy/create/DiagramToolbarView.js","webpack:///./src/views/strategy/details/subviews/StrategyModelLogsView.js","webpack:///./src/templates/strategy/details/history.tpl","webpack:///./src/views/strategy/create/StrategySaveView.js"],"names":["webpackJsonp","+Tc7","module","exports","/xF0","__webpack_require__","_","obj","print","__p","__j","call","arguments","__t","Array","prototype","join","each","nodes","node","index","calNodes","0","1GNk","1dB9","1qZb","Backbone","ModelNode","ModelNodeCollection","Collection","extend","model","initialize","options","this","url","busiCode","setBusiCode","2uJk","2yj7","keyPrefix","util","saveModelToLocalStorage","window","localStorage","setItem","id","JSON","stringify","delModelFromLocalStorage","removeItem","resetModelToLocalStorage","models","clearLocalStorage","restoreFromLocalStorage","result","i","length","key","substr","push","parse","getItem","keyAry","4Xlg","viewType","nodeData","params","data","fields","field","fieldd","node_id","fieldName","4Yid","LINE","handler","name","icon","DATA_NODE","type","OUTPUT","FINAL_OUTPUT","4v29","Model","default","idAttribute","response","nodeName","modelName","nodeId","modelId","modelType","nodeType","5nOS","67t3","6OAF","Mock","setup","timeout","7nbV","85QJ","9Mej","datas","fieldList","undefined","a","A3K+","Bjpo","$","DataNode","menuConfig","ContextMenuView","View","className","template","toggle","events","click.diagram.menu li:not(.separator)","menu_hanlder","_bind_contextmenu_event","render","renderMenu","nodeTypeId","menus","getNodeTypeCode","nodeMenus","dnMenus","concat","diagram","hasChildNode","_menu","findWhere","without","sortBy","$el","html","showMenu","e","hasClass","closeMenu","position","getMenuPosition","$node","target","closest","attr","css","addClass","fadeIn","on","proxy","_handleMenuClick","trigger","handleFunc","currentTarget","stopPropagation","raphaelid","removeClass","fadeOut","removeData","off","addMenuHandler","menuHandler","document","mouseX","clientX","mouseY","clientY","boundsX","width","boundsY","height","menuWidth","outerWidth","menuHeight","outerHeight","top","left","parentOffset","scrollTop","scrollLeft","parent","offset","getAllHandler","reduce","values","union","pluck","destroy","undelegateEvents","stopListening","remove","C/b2","StrategyModel","StrategyDetailView","click [data-action=\"backRoute\"]","onload","noop","strategyId","strategieId","fetch","listenTo","renderData","toJSON","isFunction","getDiagramConfigJSON","get","backRoute","history","navigate","Fe6q","NavMenuCollection","NavMenuView","tagName","click li","collection","add","href","bind","menuId","activeMenu","menuNav","menu","replace","activeMenuId","loadUrl","isString","unActive","active","FfQT","Raphael","DataNodeCollection","NodeConnectionCollection","DataNodeView","DiagramToolbarView","ModalView","App","DiagramTipsView","DiagramNodeConfigView","DiagramView","styles","DRAGGING_ADD_CURSOR","stroke","stroke-width","cursor","BG_LINE","stroke-opacity","TMP_LINE","stroke-dasharray","click.diagram .diagram-canvas","animation","line","0%","25%","50%","75%","100%","repeat","Infinity","editModel","layout","zoomScale","connCollection","loaded","dataNodeViews","toolbarView","contextMenuView","nodeConfigView","closeNodeConfig","bindEventHandler","diagramTipsView","onShow","onDestroy","initializeListen","renderDataNode","removeDataNode","renderConnectionByConnModel","removeConnection","_renderCanvasElement","apply","initConnection","_$canvas","empty","append","el","paper","collectionSet","set","allowDiagramDrag","show","diagramConfig","isStore","console","trace","isShow","warn","configJSON","reset","silent","initSyncLocalStorageListen","self","dataNode","connectionNode","context","handlers","property","clearEventHandler","changeLayout","reRender","getZoomScale","zoom","scale","transform","revert","animate","clearCanvas","clearDataNode","unhover","unmousedown","clear","clearDiagram","dataNodeView","getContainerOffset","getContainerSize","getContainerSpacing","_spacing","draggable","start","_diagramSize","canvas_width","canvas_height","drag","ui","_judgeCanvasBoundary","stop","newPos","$target","pos","size","minLeft","minTop","getCanvasContainer","addConnection","fromId","toId","from","to","addDataNode","nodeModel","x","y","parseInt","txt","coordinate","addCalcNode","calcType","calcTxt","NODE_TYPE","removeNodeById","dataNodeId","confirm","removeConnectorById","connectorId","ids","split","removeConnectionByFromToId","removeConnectionsByNodeId","success","connModel","attributes","fromView","toView","lineId","line_bg_id","getById","line_bg","getConnPortCoord","isCalcNode","connection","bg","_handleCollectionEvent","bgline","clearDescendantNodeConfByConnector","isContainParmNode","nodeIds","getDescendantNodesByNodeId","clearConfig","renderConnectionByNodeId","dataNodelId","conns","getCollectionsById","item","renderTempConnection","tmpConnection","removeTempConnection","layoutDirection","isFrom","pos_x","pos_y","showNodeConfig","allowNodeMix","close","addComment","isObject","hover","substring","mousedown","button","nodeConfig","select","viewData","modalView","title","closeDestroy","open","viewLogs","isConnected","isExist","showTips","validateGrpah","problemNodes","_validateLog","hasSelfJoin","hasIsolated","startNodes","getStartNodes","filter","endNodes","getEndNodes","isFinalNode","calcNodes","where","fromNodes","getFromNodesByNodeId","getUnConfigNode","highlightProblemNodes","highlight","msg","error","table","getModelsByIdArray","asFinalNode","datanodeId","existFinalNode","datanode","cancelAsFinalNode","getConfigJson","connectors","GAJD","_defineProperty","value","Object","defineProperty","enumerable","configurable","writable","ModelConfigView","ModelJoinView","_configViewMap","dataNodeModel","configViewMap","MODEL","ConfigView","configName","getName","trim","getConfigParams","modelsName","find","hide","validateConfig","setStatus","NODE_STATUS","CONF_YES","CONF_ERROR","conf","getModelConfigData","IMAn","NodeSelectView","NODE_DRAGGING","CALC_DRAGGING","selectors","CALC_NODE","reload","desc","handelNodeDraggable","tooltip","placement","container","acceptDrop","getNodeSelector","getModelNode","_getDragHelper","children","clone","_handleNodeDragging","of","helper","_handleNodeDragStop","spacing","_left","_top","text","scroll","opacity","appendTo","$dropEl","droppable","accept","IRzy","IdGR","statusClassName","strategyStateName","statusClass","错误","执行中","待执行","完成","enumData","enumKey","strategyState","enumValue","cycleClass","1","2","3","cycleClassName","cycle","executeState","dataCount","endTime","Ip8O","fn","obj1","obj2","bb1","getBBox","bb2","p","d","dis","j","dx","Math","abs","dy","res","min","x1","y1","x4","y4","max","x2","toFixed","y2","x3","y3","path","fill","JMxK","LBT6","LQyq","ModelConfigModel","setNotChecked","mName","newField","checked","splice","LW5F","MessageView","TYPES","INFO","message","$msg","ICONS","toUpperCase","_width","margin-left","slideDown","delay","duration","slideUp","SUCCESS","ERROR","WARN","M0mP","NodeConnection","nodeConnectionModel","fromNodeId","toNodeId","matches","froms","tos","difference","uniq","_getChildNodes","conn","resultAry","getToNodesByNodeId","getInstance","instance","list","MFDE","RecommendTypeCollection","BusiSelectorView","click [data-action=\"selectBusi\"]","onSelect","recommendTypeCollection","renderSelectorView","$backdrop","closeSelector","selectBusi","busiId","MWdg","click .close","NXCX","NXnP","ModelJoinFieldView","click #deleteDiv","click #deleteJoin","change .selectWidth","changeSelect","lef","domEle","val","bol","border","join_field","getJoinFieldData","dataValidateConfig","join_fields","bool","errorMsg","l","node_name","joinItemDom","nodeid","json","deleteJoin","siblings","deleteDiv","PSHn","StrategyHistoryModel","defaults","RaMd","join_type","Sh8O","StaT","UL2X","FieldFilterView","renderView","getFilterData","cond_exp","filterDiv","cond_exps","Umb4","NavMenu","activatedMenu","UpkV","StrategyMgrModel","StrategyMgrCollection","VEcT","StrategyHistoryView","StrategyModelLogsView","StrategyDetailsMain","detailView","loadDiagram","historyView","modelLogsView","diagramView","tpl","$container","VZB+","uniqueId","WlOc","sync","method","beforeSend","WqAD","RecommendTypeModel","urlRoot","selected","updateSelected","boole","WtOp","XqRw","showCloseButton","backdrop","showHeader","buttons","onHide","click .modal-footer>.btn","tabindex","role","view","content","modal","addButton","addButtons","setContent","setFooter","destroyFunc","body","_handleButtonClick","dataId","YhFD","aFww","aJUM","selector","NODE_PORT","click","mouseout","dblclick .data-node-input","dblclick .tips-content","click .data-node-input,.node-tips","option","renderDom","_handleConfChange","_initNodeDraggable","data-id","data-type","_initNodePortDraggable","cancel","containment","_handlerNodeDragMove","_startDrawConnection","_drawingConnection","_endDrawConnection","unselect","changeLeft","originalPosition","newLeft","changeTop","newTop","originalEvent","one","stopImmediatePropagation","_handleMouseLeave","$parent","pos_p","w","h","pos_s","startCoord","sx","sy","_drawTempConnection","_allowConnect","allow","$ele","_judgeOverDataNode","$dataNode","overEle","_handlePreventEvent","_handleNodeInput","$input","focus","blur","loopingFunction","times","toggleClass","setTimeout","abAR","b26c","mock","busiName","busiDesc","busiIcon","count","updateTime","fieldDesc","fieldType","enumGroup","strategyName","createTime","updateTimes","strategyConf","strategyDesc","state","creater","modifier","modifyTime","nodeList","nodeDesc","nodeObject","nodeConf","invokeIndex","logId","dealState","bHox","cLf+","eV6Y","operations","and","operation","euKX","alias","status","CONF_NOT","toString","isModelNode","isUserNode","USER_GROUP","isItemNode","ITEM","isLabelNode","LABEL","isStrategyNode","STRATEGY","isRuleNode","RULE","isSqlNode","SQL","isImportNode","IMPORT","isSilent","getOutputFields","getModelNodeConfigParams","getCalcNodeConfigParams","dataNodeCol","nodeConnectCol","parentNodes","modelNode","nodeParam","validate","attrs","PROCESS_WAIT","PROCESSING","PROCESS_FAILURE","PROCESS_SUCCESS","invert","evK5","fWFK","fyoS","gPQY","RecommendTypeView","Events","clickRecedType","gY3Z","idx","h2Q7","FooterView","MainView","CONTENT","prepend","navMenu","footer","currentView","loadContentView","hvIA","StrategyCreateView","StrategyManageMain","Router","mainView","route","routes","","strategies/manage","strategies/manage/:id","businesses/strategies","businesses/:id/strategies","strategie/view/:id","strategies/create/:busiCode","strategies/create","strategies/edit/:id","models/manage","data/manage","system/manage","list_strategies","create_strategy","edit_strategy","view_strategy","model_manage","alert","data_manage","sys_manage","i9yh","StrategyTemplateModel","iIyS","StrategyMgrView","click .enumKey","click [data-action=\"view\"]","click .dropdown-menu > li[data-action]","click #searchAll","keypress #strategyName ","click #creationStrategy","getRecedType","creationStrategy","viewDetail","clickMgr","action","handleStrategy","handleName","ajaxType","ajax","dataType","keypress","which","renderStrategy","clickSearchAll","clickState","renderStrategyView","arg1","arg2","strategyStateEnum","renderStateView","strategyStateData","renderState","getRecommendTypeId","kE97","confirmTpl","alertTpl","callback","cancelCallbak","okTxt","cancelTxt","primary","info","lVK7","Client","pushState","root","lvMg","click input:checkbox","click #addFilter","click .filter-delete","modelConfigModel","getModelConfig","initializeFilter","fieldFilterView","addFilter","initializeField","checkedField","dataset","mBmd","nwP+","o8y0","oP/2","p2hu","pN6t","click [data-action=\"download\"]","downloadList","pwsA","renderRecommendType","recommendTypeView","renderStrategyMgr","strategyMgrView","q22K","NodeSelectorView","StrategySaveView","click [data-action=\"save\"]","click [data-action=\"back\"]","_handleFullDiagram","createModel","renderDiagram","nodeSelector","showDiagram","listenToOnce","renderNodeSelector","getBusiCode","oldBusiCode","configObj","selectorWidth","backClick","saveClick","validateResult","_saveStrategy","configJson","setDiagramConf","saveAndExecute","save","isValid","patch","saveSuccess","saveFailure","resp","$selector","is","qWxm","validation","required","maxLength","isNew","encodeURIComponent","qb6w","r9M3","rlNS","t61T","indexOf","tEKr","currentIndex","click #addJoin","addJoin","modelJoinFieldView","cal_type","validateModelField","u6y5","uVyg","v2Nc","x2ZJ","xdsZ","win","evt","prop","location","protocol","host","slice","preventDefault","xjDc","DiagramToolBarView","_handleToolBarClick","zoomOut","zoomIn","showComment","fullScreen","layoutDir","xmkW","ykGu","zaJj","Validation","configure","forceUpdate","callbacks","valid","$group","invalid","bindings","[name=strategyName]","observe","setOptions","stickit","setStrategyName","unbind","unstickit"],"mappings":"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","file":"static/js/app.8e71bc39.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"+Tc7\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"/xF0\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(_) {module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<div class=\"strategy-data-nodes\">\\n\t<h4 class=\"box-title\">数据节点</h4>\\n\t<div>\\n\\n\t</div>\\n\t<ul class=\"data-nodes\">\\n\t';\n _.each(nodes,function(node,index){ ;\n__p += '\\n\t\t<li class=\"' +\n((__t = ((index%2==0?\"odd\":\"even\"))) == null ? '' : __t) +\n'\" data-id=\"' +\n((__t = (node.nodeId)) == null ? '' : __t) +\n'\">\\n\t\t\t<i class=\"iconfont ' +\n((__t = (node.icon)) == null ? '' : __t) +\n'\"></i><span>' +\n((__t = (node.nodeName)) == null ? '' : __t) +\n'</span>\\n\t\t</li>\\n\t';\n }) ;\n__p += '\\n\t</ul>\\n</div>\\n<div class=\"strategy-calc-nodes\">\\n\t<h4 class=\"box-title box-title-calc\">操作节点</h4>\\n\t<div class=\"calc-nodes\">\\n\t';\n _.each(calNodes,function(node,index){ ;\n__p += '\\n\t\t';\n if(index%2 ===0) {;\n__p += '\\n\t\t<div class=\"calc-nodes-row\">\\n\t\t';\n};\n__p += '\\n\t\t\t<div class=\"calc-node ' +\n((__t = ((index%2===0?'pull-left':'pull-right'))) == null ? '' : __t) +\n'\" data-id=\"' +\n((__t = (node.type)) == null ? '' : __t) +\n'\" data-icon=\"' +\n((__t = (node.icon)) == null ? '' : __t) +\n'\" title=\"' +\n((__t = (node.desc)) == null ? '' : __t) +\n'\">\\n\t\t\t\t<i class=\"iconfont ' +\n((__t = (node.icon)) == null ? '' : __t) +\n'\" data-id=\"' +\n((__t = (node.type)) == null ? '' : __t) +\n'\"></i>\\n\t\t\t\t<span>' +\n((__t = (node.name)) == null ? '' : __t) +\n'</span>\\n\t\t\t</div>\\n\t\t';\n if(index%2 !==0) {;\n__p += '\\n\t\t</div>\\n\t\t';\n};\n__p += '\\n\t';\n }) ;\n__p += '\\n\t</div>\\n</div>\\n';\n\n}\nreturn __p\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"rdLu\")))\n\n/***/ }),\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"lVK7\");\n\n\n/***/ }),\n\n/***/ \"1GNk\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"1dB9\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"1qZb\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * 模型节点Model集合\n * @export ModelNodeCollection\n * @extends Backbone.Collection\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\nvar _ = __webpack_require__(\"rdLu\");\nvar ModelNode = __webpack_require__(\"4v29\");\n\nvar ModelNodeCollection = Backbone.Collection.extend({\n  model: ModelNode,\n  initialize: function initialize(options) {\n    _.extend(this, options);\n  },\n  url: function url() {\n    return 'businesses/' + this.busiCode + '/models/public';\n  },\n  setBusiCode: function setBusiCode(busiCode) {\n    this.busiCode = busiCode;\n  }\n});\n\nmodule.exports = ModelNodeCollection;\n\n/***/ }),\n\n/***/ \"2uJk\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"modal-confirm\">\\n\t<i class=\"iconfont icon-gaojing\"></i>\\n\t<span class=\"confirm-title\">' +\n((__t = (title)) == null ? '' : __t) +\n'</span>\\n\t<div class=\"confirm-content\">' +\n((__t = (content)) == null ? '' : __t) +\n'</div>\\n</div>';\n\n}\nreturn __p\n}\n\n/***/ }),\n\n/***/ \"2yj7\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * 画布保存localStrorage 操作工具函数\n * @export Object\n * @author liyi\n * @modifier\n */\nvar _ = __webpack_require__(\"rdLu\");\nmodule.exports = function (keyPrefix) {\n  var util = {\n    saveModelToLocalStorage: function saveModelToLocalStorage(model) {\n      if (window.localStorage) {\n        window.localStorage.setItem(keyPrefix + model.id, JSON.stringify(model));\n      }\n    },\n    delModelFromLocalStorage: function delModelFromLocalStorage(model) {\n      if (window.localStorage) {\n        window.localStorage.removeItem(keyPrefix + model.id);\n      }\n    },\n    resetModelToLocalStorage: function resetModelToLocalStorage(models) {\n      util.clearLocalStorage();\n      _.each(models || [], function (model) {\n        util.saveModelToLocalStorage(model);\n      });\n    },\n    restoreFromLocalStorage: function restoreFromLocalStorage() {\n      var result = [];\n      if (window.localStorage) {\n        for (var i = 0; i < window.localStorage.length; i++) {\n          var key = window.localStorage.key(i);\n          if (key.substr(0, keyPrefix.length) === keyPrefix) {\n            result.push(JSON.parse(window.localStorage.getItem(key)));\n          }\n        }\n      }\n      return result;\n    },\n    clearLocalStorage: function clearLocalStorage() {\n      if (window.localStorage) {\n        var keyAry = [];\n        for (var i = 0; i < window.localStorage.length; i++) {\n          var key = window.localStorage.key(i);\n          if (key.substr(0, keyPrefix.length) === keyPrefix) {\n            keyAry.push(key);\n          }\n        }\n        _.each(keyAry, function (key) {\n          window.localStorage.removeItem(key);\n        });\n      }\n    }\n  };\n  return util;\n};\n\n/***/ }),\n\n/***/ \"4Xlg\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(_) {module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n\nif(viewType!=\"view\"){;\n__p += '\\n<span class=\"join-delete\" id=\"deleteDiv\" title=\"删除\">×</span>\\n';\n};\n__p += '\\n';\nif(!nodeData){;\n__p += '\\n\t';\n_.each(field,function(fieldd){;\n__p += '\\n\t\t\t';\nfor(var key in fieldd){;\n__p += '\\n\t\t\t\t';\n _.each(params,function(data){ ;\n__p += '\\n\t\t\t\t\t';\nif(key==data.node_id){;\n__p += '\\n\t\t\t\t\t\t';\nif(viewType==\"view\"){;\n__p += '\\n\t\t\t\t\t\t\t<div class=\"join-item\">\\n\t\t\t\t\t\t\t\t<span title=\"' +\n((__t = (data.node_name)) == null ? '' : __t) +\n'\" >' +\n((__t = (data.node_name)) == null ? '' : __t) +\n'：</span>\\n\t\t\t\t\t\t\t\t';\n _.each(data.fields,function(field){ ;\n__p += '\\n\t\t\t\t\t\t\t\t\t';\nif(fieldd[key]==field.fieldName){;\n__p += '\\n\t\t\t\t\t\t\t\t\t\t<span title=\"' +\n((__t = (field.fieldName)) == null ? '' : __t) +\n'\" >' +\n((__t = (field.fieldName)) == null ? '' : __t) +\n'</span>\\n\t\t\t\t\t\t\t\t\t';\n};\n__p += '\\n\t\t\t\t\t\t\t\t';\n }) ;\n__p += '\\n\t\t\t\t\t\t\t</div>\\n\t\t\t\t\t\t';\n}else{;\n__p += '\\n\t\t\t\t\t\t\t<div class=\"join-item\">\\n\t\t\t\t\t\t\t\t<input type=\"hidden\"  value=\"' +\n((__t = (data.node_id)) == null ? '' : __t) +\n'\" />\\n\t\t\t\t\t\t\t\t<span class=\"model-title\" title=\"' +\n((__t = (data.node_name)) == null ? '' : __t) +\n'\" name=\"' +\n((__t = (data.node_id)) == null ? '' : __t) +\n'\">' +\n((__t = (data.node_name)) == null ? '' : __t) +\n'：</span>\\n\t\t\t\t\t\t\t\t<select name=\"' +\n((__t = (data.node_id)) == null ? '' : __t) +\n'\"  class=\"selectWidth\">\\n\t\t\t\t\t\t\t\t\t<option value =\"0\" selected>请选择</option>\\n\t\t\t\t\t\t\t\t\t\t';\n _.each(data.fields,function(field){ ;\n__p += '\\n\t\t\t\t\t\t\t\t\t\t\t';\nif(fieldd[key]==field.fieldName){;\n__p += '\\n\t\t\t\t\t\t\t\t\t\t\t\t<option value =\"' +\n((__t = (field.fieldName)) == null ? '' : __t) +\n'\" selected>' +\n((__t = (field.fieldDesc)) == null ? '' : __t) +\n'</option>\\n\t\t\t\t\t\t\t\t\t\t\t';\n}else{;\n__p += '\\n\t\t\t\t\t\t\t\t\t\t\t\t<option value =\"' +\n((__t = (field.fieldName)) == null ? '' : __t) +\n'\">' +\n((__t = (field.fieldDesc)) == null ? '' : __t) +\n'</option>\\n\t\t\t\t\t\t\t\t\t\t';\n }}) ;\n__p += '\\n\t\t\t\t\t\t\t\t</select>\\n\t\t\t\t\t\t\t\t<i id=\"deleteJoin\" class=\"iconfont icon-error join-item-delete\"  nodeid=\"' +\n((__t = (data.node_id)) == null ? '' : __t) +\n'\" title=\"删除\"></i>\\n\t\t\t\t\t\t\t</div>\\n\t\t\t\t\t\t';\n};\n__p += '\\n\t\t\t\t\t';\n};\n__p += '\\n\t\t\t\t';\n }) ;\n__p += '\\n\t\t\t';\n};\n__p += '\\n\t';\n});\n__p += '\\n';\n}else{;\n__p += '\\n\t';\n _.each(nodeData.params,function(data){ ;\n__p += '\\n\t\t\t<div class=\"join-item\">\\n\t\t\t\t<input type=\"hidden\"  value=\"' +\n((__t = (data.node_id)) == null ? '' : __t) +\n'\" />\\n\t\t\t\t<span class=\"model-title\" title=\"' +\n((__t = (data.node_name)) == null ? '' : __t) +\n'\">' +\n((__t = (data.node_name)) == null ? '' : __t) +\n'：</span>\\n\t\t\t\t<select name=\"' +\n((__t = (data.node_id)) == null ? '' : __t) +\n'\" class=\"selectWidth\">\\n\t\t\t\t\t<option value =\"0\">请选择</option>\\n\t\t\t\t\t';\n _.each(data.fields,function(field){ ;\n__p += '\\n\t\t\t\t\t\t<option value =\"' +\n((__t = (field.fieldName)) == null ? '' : __t) +\n'\">' +\n((__t = (field.fieldDesc)) == null ? '' : __t) +\n'</option>\\n\t\t\t\t\t';\n }) ;\n__p += '\\n\t\t\t\t</select>\\n\t\t\t\t<i id=\"deleteJoin\" class=\"iconfont icon-error join-item-delete\" nodeid=\"' +\n((__t = (data.node_id)) == null ? '' : __t) +\n'\"  title=\"删除\"></i>\\n\t\t\t</div>\\n\t';\n }) ;\n__p += '\\n';\n};\n__p += '\\n';\n\n}\nreturn __p\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"rdLu\")))\n\n/***/ }),\n\n/***/ \"4Yid\":\n/***/ (function(module, exports) {\n\nmodule.exports = {\"LINE\":[{\"handler\":\"removeConnectorById\",\"name\":\"删除连线\",\"icon\":\"icon-shanchu\"}],\"DATA_NODE\":[{\"handler\":\"removeNodeById\",\"name\":\"删除节点\",\"icon\":\"icon-shanchu\",\"index\":10},{\"handler\":\"addComment\",\"name\":\"添加备注\",\"icon\":\"icon-beizhu\",\"index\":20},{\"type\":\"separator\",\"index\":30},{\"handler\":\"executeNode\",\"name\":\"执行节点\",\"icon\":\"icon-zhixing\",\"index\":40},{\"handler\":\"nodeConfig\",\"name\":\"节点配置\",\"icon\":\"icon-peizhi\",\"index\":50},{\"type\":\"separator\",\"index\":60},{\"handler\":\"viewData\",\"name\":\"查看数据\",\"icon\":\"icon-chakan\",\"index\":70},{\"handler\":\"exportData\",\"name\":\"导出数据\",\"icon\":\"icon-daochu\",\"index\":80},{\"handler\":\"viewLogs\",\"name\":\"查看日志\",\"icon\":\"icon-rizhi11\",\"index\":90}],\"OUTPUT\":[{\"handler\":\"asFinalNode\",\"name\":\"作为推荐结果输出\",\"icon\":\"icon-tuijian\",\"index\":11}],\"FINAL_OUTPUT\":[{\"handler\":\"cancelAsFinalNode\",\"name\":\"取消推荐结果输出\",\"icon\":\"icon-tuijian\",\"index\":11}]}\n\n/***/ }),\n\n/***/ \"4v29\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * 模型节点Model\n * @export ModelNode\n * @extends Backbone.Model\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\n\nvar ModelNode = Backbone.Model.extend({\n  \"default\": {},\n  idAttribute: 'nodeId',\n  parse: function parse(response) {\n    response['nodeName'] = response.nodeName || response.modelName || '';\n    response['nodeId'] = response.nodeId || response.modelId || '';\n    response['modelType'] = response.modelType || '1';\n    response['nodeType'] = response.nodeType || 1;\n    response['icon'] = response.icon || 'icon-shujumoxing-';\n    delete response.modelName;\n    return response;\n  }\n});\n\nmodule.exports = ModelNode;\n\n/***/ }),\n\n/***/ \"5nOS\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"67t3\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"6OAF\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Mock = __webpack_require__(\"zNUS\");\n\n__webpack_require__(\"b26c\");\nMock.setup({\n  timeout: '10-50'\n});\n\n/***/ }),\n\n/***/ \"7nbV\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"85QJ\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<header id=\"header-wrap\" class=\"irec-header\">\\n\t<div class=\"container-fluid\">\\n\t\t<div class=\"irec-logo pull-left\">\\n\t\t\t<span class=\"logo pull-left\"></span>\\n\t\t\t<span>智能推荐中心</span>\\n\t\t</div>\\n\t\t<nav id=\"navMenu\" class=\"irec-nav-menu pull-right\"></nav>\\n\t</div>\\n</header>\\n<div class=\"irec-container\">\\n\t<div class=\"irec-content\" id=\"container\"></div>\\n</div>\\n<footer class=\"irec-footer\" id=\"footer\"></footer>';\n\n}\nreturn __p\n}\n\n/***/ }),\n\n/***/ \"9Mej\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(_) {module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<div class=\"node-title\">\\n\t' +\n((__t = (modelsName)) == null ? '' : __t) +\n'\\n</div>\\n<ul class=\"node-model-log\">\\n\t<li class=\"info-label\">列表数量:</li><li>' +\n((__t = (datas.dataCount)) == null ? '' : __t) +\n'</li>\\n\t<li class=\"info-label\">更新周期：</li><li>' +\n((__t = (datas.cycle)) == null ? '' : __t) +\n'</li>\\n\t<li class=\"info-label\">最近更新时间:</li><li>' +\n((__t = (datas.updateTime)) == null ? '' : __t) +\n'</li>\\n</ul>\\n<div class=\"node-config-box\">\\n\t<div class=\"config-box-title\">模型输出字段选择:</div>\\n\t<div class=\"config-box-content\">\\n\t\t<table  id=\"modelFieldTable\" class=\"table  table-striped ui-table-cell\">\\n\t\t\t<thead>\\n\t\t\t\t<tr>\\n\t\t\t\t\t<th>字段名称</th>\\n\t\t\t\t\t<th>是否选择</th>\\n\t\t\t\t</tr>\\n\t\t\t</thead>\\n\t\t\t<tbody>\\n\t\t\t';\n _.each(datas.fieldList,function(data){ ;\n__p += '\\n\t\t\t\t<tr>\\n\t\t\t\t\t<td class=\"text-left first\" style=\"width: 70%;\">' +\n((__t = (data.fieldDesc)) == null ? '' : __t) +\n'(' +\n((__t = (data.fieldName)) == null ? '' : __t) +\n')</td>\\n\t\t\t\t\t';\nif(fields!=undefined){\n\t\t\t\t\tvar a=true;\n\t\t\t\t\tfor(var i=0;i<fields.length;i++){\n\t\t\t\t\tif(fields[i].fieldName==data.fieldName){;\n__p += '\\n\t\t\t\t\t<td class=\"text-center\"><input ' +\n((__t = (viewType!=\"edit\"?\"disabled\":\"\")) == null ? '' : __t) +\n' id=\"checkbox-orig\" type=\"checkbox\" data-value=\"' +\n((__t = (data.fieldName)) == null ? '' : __t) +\n'\" data-desc=\"' +\n((__t = (data.fieldDesc)) == null ? '' : __t) +\n'\" checked/></td>\\n\t\t\t\t\t';\na=false;break;;\n__p += '\\n\t\t\t\t\t';\n};\n__p += '\\n\t\t\t\t\t';\n}\n\t\t\t\t\tif(a){;\n__p += '\\n\t\t\t\t\t<td class=\"text-center\"><input ' +\n((__t = (viewType!=\"edit\"?\"disabled\":\"\")) == null ? '' : __t) +\n' id=\"checkbox-orig\" type=\"checkbox\" data-value=\"' +\n((__t = (data.fieldName)) == null ? '' : __t) +\n'\" data-desc=\"' +\n((__t = (data.fieldDesc)) == null ? '' : __t) +\n'\"/></td>\\n\t\t\t\t\t';\n};\n__p += '\\n\t\t\t\t\t';\n}else{;\n__p += '\\n\t\t\t\t\t<td class=\"text-center\"><input id=\"checkbox-orig\" ' +\n((__t = (viewType!=\"edit\"?\"disabled\":\"\")) == null ? '' : __t) +\n' type=\"checkbox\" data-value=\"' +\n((__t = (data.fieldName)) == null ? '' : __t) +\n'\" data-desc=\"' +\n((__t = (data.fieldDesc)) == null ? '' : __t) +\n'\" checked/></td>\\n\t\t\t\t\t';\n};\n__p += '\\n\t\t\t\t</tr>\\n\t\t\t\t';\n }) ;\n__p += '\\n\t\t\t</tbody>\\n\t\t</table>\\n\t</div>\\n</div>\\n\\n<div class=\"node-config-box filter-setting\">\\n\t<div class=\"config-box-title\">数据条件过滤:\\n\t\t';\nif(viewType!=\"view\"){;\n__p += '\\n\t\t<span class=\"btn-add-filter\" id=\"addFilter\">\\n\t\t\t<i  class=\"iconfont icon-icon02\"></i>添加过滤\\n\t\t</span>\\n\t\t';\n};\n__p += '\\n\t</div>\\n\t<div class=\"config-box-content filter-output\" ></div>\\n</div>\\n';\n\n}\nreturn __p\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"rdLu\")))\n\n/***/ }),\n\n/***/ \"A3K+\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<a href=\"#\" class=\"close\">\\n&times;\\n</a>\\n<i class=\"iconfont icon-xinxi tips-icon\"></i>\\n<h4><span class=\"tips-title\">策略流程图使用提示</span></h4>\\n<p>连线说明:</p>\\n<ol>\\n<li>数据节点作为输入节点，只能与操作节点连接</li>\\n<li>操作节点作为输入节点，只能与操作节点连接</li>\\n</ol>\\n<p>图形绘制限制：</p>\\n<ol>\\n<li>关联、融合的操作节点的输入节点必须大于两个</li>\\n<li>操作节点不能作为初始节点</li>\\n<li>流程图绘制完毕时，必须通过最后节点的菜单，添加推荐结果节点</li>\\n</ol>\\n';\n\n}\nreturn __p\n}\n\n/***/ }),\n\n/***/ \"Bjpo\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * 策略流程图画布右键菜单组件\n * @export ContextMenuView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\nvar $ = __webpack_require__(\"7t+N\");\nvar _ = __webpack_require__(\"rdLu\");\nvar DataNode = __webpack_require__(\"euKX\");\nvar menuConfig = __webpack_require__(\"4Yid\");\n__webpack_require__(\"1GNk\");\nvar ContextMenuView = Backbone.View.extend({\n  className: 'diagram-menu-div',\n  template: __webpack_require__(\"fyoS\"),\n  toggle: '[data-toggle=\"diagram-context\"]',\n  events: {\n    'click.diagram.menu li:not(.separator)': '_handleMenuClick'\n  },\n  initialize: function initialize(options) {\n    _.extend(this, options);\n    this.menu_hanlder = {};\n    this._bind_contextmenu_event();\n  },\n  render: function render() {\n    return this;\n  },\n  renderMenu: function renderMenu(nodeTypeId, nodeId) {\n    var menus = [];\n    if (nodeTypeId !== 'LINE') {\n      var nodeType = DataNode.getNodeTypeCode(nodeTypeId),\n          nodeMenus = menuConfig[nodeType],\n          dnMenus = menuConfig['DATA_NODE'];\n      menus = menus.concat(nodeMenus || []).concat(dnMenus || []);\n      // 如果有子节点，删除作为推荐结果输出的菜单项\n      if (this.diagram && this.diagram.hasChildNode(nodeId)) {\n        var _menu = _.findWhere(menus, { handler: 'asFinalNode' });\n        menus = _.without(menus, _menu);\n      }\n    } else {\n      menus = menuConfig[nodeTypeId];\n    }\n    menus = _.sortBy(menus, 'index');\n    this.$el.html(this.template({ menus: menus }));\n  },\n  /**\n   * 弹出菜单显示\n   * @param e\n   * @param nodeType 节点类型\n   * @param nodeId   节点编码\n   * @returns {boolean}\n   */\n  showMenu: function showMenu(e, nodeType, nodeId) {\n    if (this.$el.hasClass('opened')) {\n      this.closeMenu(e);\n    } else {\n      var position = this.getMenuPosition(e);\n      if (!nodeType) {\n        var $node = $(e.target).closest('.data-node,.data-calc-node');\n        // $node.addClass('selected');\n        nodeId = $node.attr('data-id');\n        nodeType = $node.attr('data-type');\n      }\n      this.renderMenu(nodeType, nodeId);\n      this.$el.data('data-id', nodeId).data('data-type', nodeType).css(position).addClass('opened').fadeIn('fast');\n      $('html').on('click.diagram-context', $.proxy(this.closeMenu, this));\n    }\n    return false;\n  },\n  /**\n   * 处理菜单点击事件\n   * @param e\n   */\n  _handleMenuClick: function _handleMenuClick(e) {\n    Backbone.trigger('diagram:closeConfigView');\n    var handleFunc = $(e.currentTarget).attr('data-action'),\n        nodeId = this.$el.data('data-id');\n    Backbone.trigger('diagram-menu.' + handleFunc, nodeId);\n    this.closeMenu(e);\n    e.stopPropagation();\n  },\n  /**\n   * 关闭菜单，取消事件绑定\n   * @returns {boolean}\n   */\n  closeMenu: function closeMenu(e) {\n    if (this.$el.hasClass('opened') && !e.target.raphaelid && !$(e.target).hasClass('diagram-menu')) {\n      this.$el.removeClass('opened').fadeOut('fast');\n      this.$el.removeData('data-id');\n      $('html').off('click.diagram-context');\n    }\n    return false;\n  },\n\n  /**\n   * 添加菜单处理函数\n   * @param menuHandler 处理函数\n   */\n  addMenuHandler: function addMenuHandler(menuHandler) {\n    _.extend(this.menu_hanlder, menuHandler);\n  },\n  /**\n   * document上绑定右键菜单事件\n   * @private\n   */\n  _bind_contextmenu_event: function _bind_contextmenu_event() {\n    $(document).on('contextmenu.diagram-context', this.toggle, $.proxy(this.showMenu, this)).on('contextmenu.diagram-context', $.proxy(this.closeMenu, this)).on('click.diagram-node', this.toggle, $.proxy(this.closeMenu, this)).on('mousedown.diagram-node', this.toggle, $.proxy(this.closeMenu, this));\n  },\n  /**\n   * 获取右键菜单弹出位置\n   * @param e\n   * @returns {{left: number, top: number}}\n   */\n  getMenuPosition: function getMenuPosition(e) {\n    var mouseX = e.clientX,\n        mouseY = e.clientY,\n        boundsX = $(window).width(),\n        boundsY = $(window).height(),\n        menuWidth = this.$el.outerWidth(),\n        menuHeight = this.$el.outerHeight();\n    var top = 0,\n        left = 0,\n        parentOffset = void 0;\n    if (mouseY + menuHeight > boundsY) {\n      top = mouseY - menuHeight + $(window).scrollTop();\n    } else {\n      top = mouseY + $(window).scrollTop();\n    }\n    if (mouseX + menuWidth > boundsX && mouseX - menuWidth > 0) {\n      left = mouseX - menuWidth + $(window).scrollLeft();\n    } else {\n      left = mouseX + $(window).scrollLeft();\n    }\n    parentOffset = this.$el.parent().offset();\n    left -= parentOffset.left;\n    top -= parentOffset.top;\n    return { left: left, top: top };\n  },\n  /**\n   * 获取所有的菜单处理函数ID\n   */\n  getAllHandler: function getAllHandler() {\n    return _.reduce(_.values(menuConfig), function (result, menus) {\n      result = _.union(result, _.pluck(menus, 'handler'));\n      return _.without(result, undefined);\n    }, []);\n  },\n  /**\n   * 组件销毁\n   */\n  destroy: function destroy() {\n    this.undelegateEvents();\n    this.$el.removeData();\n    delete this.menu_hanlder;\n    $(document).off('contextmenu.diagram-context', this.toggle);\n    $(document).off('contextmenu.diagram-context');\n    $(document).off('click.diagram-node', this.toggle);\n    $(document).off('mousedown.diagram-node', this.toggle);\n    $('html').off('click.diagram-context');\n    this.stopListening();\n    this.remove();\n  }\n});\nmodule.exports = ContextMenuView;\n\n/***/ }),\n\n/***/ \"C/b2\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar _ = __webpack_require__(\"rdLu\");\nvar StrategyModel = __webpack_require__(\"qWxm\");\nvar StrategyDetailView = Backbone.View.extend({\n  template: __webpack_require__(\"o8y0\"),\n  events: {\n    'click [data-action=\"backRoute\"]': 'backRoute'\n  },\n  initialize: function initialize(options) {\n    this.onload = _.noop;\n    _.extend(this, options);\n    this.model = new StrategyModel({\n      strategyId: this.strategieId\n    });\n    this.model.fetch();\n    this.listenTo(this.model, 'change', this.renderData);\n  },\n  render: function render() {\n    // this.renderData();\n    return this;\n  },\n  renderData: function renderData() {\n    this.$el.html(this.template({ model: this.model.toJSON() }));\n    if (this.onload && _.isFunction(this.onload)) {\n      this.onload.call();\n    }\n  },\n  /**\n   * 获取策略配置JSON对象\n   * @return {*}\n   */\n  getDiagramConfigJSON: function getDiagramConfigJSON() {\n    return this.model.get('strategyConf') || {};\n  },\n  //返回列表页\n  backRoute: function backRoute(obj) {\n    Backbone.history.navigate('strategies/manage/' + this.model.get('busiCode'), {\n      trigger: true\n    });\n  },\n  destroy: function destroy() {\n    this.stopListening();\n    this.undelegateEvents();\n    this.remove();\n  }\n});\nmodule.exports = StrategyDetailView;\n\n/***/ }),\n\n/***/ \"Fe6q\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar $ = __webpack_require__(\"7t+N\");\nvar _ = __webpack_require__(\"rdLu\");\nvar NavMenuCollection = __webpack_require__(\"Umb4\");\n\nvar NavMenuView = Backbone.View.extend({\n  tagName: 'ul',\n  events: {\n    'click li': 'menuNav'\n  },\n  template: __webpack_require__(\"abAR\"),\n  initialize: function initialize() {\n    this.collection = new NavMenuCollection();\n    this.collection.add([{ id: 'create_strategy', name: '新建策略', href: 'strategies/create' }, { id: 'list_strategies', name: '策略管理', href: 'strategies/manage' }, { id: 'model_manage', name: '模型管理', href: 'models/manage' }, { id: 'data_manage', name: '数据管理', href: 'data/manage' }, { id: 'sys_manage', name: '系统管理', href: 'system/manage' }]);\n    this.listenTo(this.collection, 'reset', this.render);\n    this.listenTo(this.collection, 'change', this.render);\n    Backbone.on('irec.navMenu', _.bind(function (menuId) {\n      this.activeMenu(menuId);\n    }, this));\n  },\n  render: function render() {\n    this.$el.html(this.template(this.collection.toJSON()));\n    return this;\n  },\n  menuNav: function menuNav(e) {\n    var id = $(e.currentTarget).attr('data-value');\n    var menu = this.collection.get(id);\n    if (menu) {\n      this.activeMenu(menu);\n      Backbone.history.navigate(menu.get('href'), {\n        trigger: true,\n        replace: true\n      });\n      if (this.activeMenuId === id) {\n        Backbone.history.loadUrl();\n      }\n      this.activeMenuId = menu.id;\n    }\n  },\n  activeMenu: function activeMenu(menu) {\n    var _menu = _.isString(menu) ? this.collection.get(menu) : menu;\n    if (_menu) {\n      this.collection.unActive();\n      _menu.active();\n    }\n  }\n});\nmodule.exports = NavMenuView;\n\n/***/ }),\n\n/***/ \"FfQT\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * 策略流程图画布视图组件\n * @export DiagramView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\nvar _ = __webpack_require__(\"rdLu\");\nvar $ = __webpack_require__(\"7t+N\");\n__webpack_require__(\"F8S1\");\nvar Raphael = __webpack_require__(\"Ip8O\");\nvar DataNodeCollection = __webpack_require__(\"t61T\");\nvar NodeConnectionCollection = __webpack_require__(\"M0mP\");\nvar DataNode = __webpack_require__(\"euKX\");\nvar DataNodeView = __webpack_require__(\"aJUM\");\nvar ContextMenuView = __webpack_require__(\"Bjpo\");\nvar DiagramToolbarView = __webpack_require__(\"xjDc\");\nvar ModalView = __webpack_require__(\"XqRw\");\nvar App = __webpack_require__(\"kE97\");\nvar DiagramTipsView = __webpack_require__(\"MWdg\");\nvar DiagramNodeConfigView = __webpack_require__(\"GAJD\");\n__webpack_require__(\"5nOS\");\n\nvar DiagramView = Backbone.View.extend({\n  className: 'diagram-container',\n  styles: {\n    DRAGGING_ADD_CURSOR: 'node-dragging-cursor', //节点拖动中的鼠标添加指针样式\n    LINE: {\n      // 画布上节点正式连线的样式\n      stroke: '#22B1E9',\n      'stroke-width': '2',\n      cursor: 'pointer'\n    },\n    BG_LINE: {\n      stroke: '#22B1E9',\n      'stroke-opacity': 0,\n      'stroke-width': '12',\n      cursor: 'pointer'\n    },\n    TMP_LINE: {\n      // 画布上，手动连线时线段的样式\n      stroke: '#22B1E9',\n      'stroke-width': '2',\n      'stroke-dasharray': '-'\n    }\n  },\n  events: {\n    'click.diagram .diagram-canvas': 'closeNodeConfig'\n  },\n  animation: {\n    line: Raphael.animation(\n    //连线动画效果\n    {\n      '0%': { 'stroke-width': '3' },\n      '25%': { 'stroke-width': '3.2' },\n      '50%': { 'stroke-width': '3.5' },\n      '75%': { 'stroke-width': '3.2' },\n      '100%': { 'stroke-width': '3' }\n    }, 500, '<>', function () {}).repeat(Infinity)\n  },\n  /**\n   * 组件初始化\n   */\n  initialize: function initialize(options) {\n    this.editModel = true;\n    this.layout = 'horizontal'; //默认水平布局\n    this.zoomScale = 1.0; //默认画布缩放系数\n    this.collection = new DataNodeCollection();\n    this.connCollection = new NodeConnectionCollection();\n    _.extend(this, options);\n    this.loaded = false;\n    this.dataNodeViews = {}; //用于缓存数据节点视图的对象\n    this.toolbarView = new DiagramToolbarView({ editModel: this.editModel }); // 画布工具栏视图组件\n    if (this.editModel) {\n      // 编辑模式才有右键菜单\n      this.contextMenuView = new ContextMenuView({ diagram: this }); // 右键菜单视图组件\n    }\n    // 新建节点配置视图组件\n    this.nodeConfigView = new DiagramNodeConfigView({\n      editModel: this.editModel,\n      diagram: this\n    });\n    Backbone.on('diagram:closeConfigView', _.bind(this.closeNodeConfig, this));\n    this.bindEventHandler('diagram-toolbar', this.toolbarView.getAllHandler());\n    if (this.editModel) {\n      this.bindEventHandler('diagram-menu', this.contextMenuView.getAllHandler());\n    }\n    // 新建画布使用说明提示组件\n    this.diagramTipsView = new DiagramTipsView();\n    this.onShow = this.onShow || $.noop;\n    this.onDestroy = this.onDestroy || $.noop;\n  },\n\n  /**初始化事件监听\n   */\n  initializeListen: function initializeListen() {\n    this.collection = this.collection || new DataNodeCollection();\n    this.connCollection = this.connCollection || new NodeConnectionCollection();\n    this.listenTo(this.collection, 'add', this.renderDataNode);\n    this.listenTo(this.collection, 'remove', this.removeDataNode);\n    this.listenTo(this.connCollection, 'add', this.renderConnectionByConnModel);\n    this.listenTo(this.connCollection, 'remove', this.removeConnection);\n    this._renderCanvasElement();\n    this.loaded = true;\n    if (_.isFunction(this.onShow)) {\n      this.onShow.apply(this);\n    }\n  },\n  /**\n   * 初始化获取数据节点和连接节点集合\n   * 从localStorage中恢复未保存的画布配置\n   */\n  initConnection: function initConnection() {\n    this.initializeListen();\n  },\n  /**\n   * 组件渲染\n   * @returns {DiagramView}\n   */\n  render: function render() {\n    this._$canvas = $('<div class=\"diagram-canvas\"/>');\n    this.$el.empty().append(this._$canvas).append(this.toolbarView.render().el).append(this.nodeConfigView.render().el).append(this.diagramTipsView.render().el);\n    if (this.editModel) {\n      this.$el.append(this.contextMenuView.render().el);\n    }\n    this.paper = new Raphael(this._$canvas.get(0), '100%', '100%');\n    this.collectionSet = this.paper.set();\n    this.allowDiagramDrag();\n    return this;\n  },\n  /**\n   * 展示图形画布\n   * diagramConfig 图形配置对象{nodes:[],connectors:[]}\n   * isStore 是否存储至localStorage\n   */\n  show: function show(diagramConfig, isStore) {\n    console.trace('000');\n    if (this.isShow === true) {\n      console.warn('画布已初始化,不能再调用show方法!');\n      return;\n    }\n    if (diagramConfig) {\n      var configJSON = diagramConfig;\n      if (_.isString(diagramConfig)) {\n        configJSON = JSON.parse(diagramConfig);\n      }\n      this.collection.reset(configJSON['nodes'] || [], { silent: true });\n      this.connCollection.reset(configJSON['connectors'] || [], {\n        silent: true\n      });\n    }\n    this.initConnection();\n    if (isStore === true) {\n      this.collection.initSyncLocalStorageListen();\n      this.connCollection.initSyncLocalStorageListen();\n    }\n    this.onShow.apply(this);\n    this.isShow = true;\n  },\n\n  /**\n   * 渲染数据节点、连线节点集合数据至画布\n   */\n  _renderCanvasElement: function _renderCanvasElement() {\n    var self = this;\n    this.collection.each(function (dataNode) {\n      self.renderDataNode(dataNode);\n    });\n    this.connCollection.each(function (connectionNode) {\n      self.renderConnectionByConnModel(connectionNode);\n    });\n  },\n\n  /**\n   * 绑定事件处理函数\n   * @param context  事件上下文\n   * @param handlers  处理函数ID数组\n   */\n  bindEventHandler: function bindEventHandler(context, handlers) {\n    var self = this;\n    _.each(handlers, function (handler) {\n      var handleFunc = _.property(handler)(self);\n      if (!handleFunc || !_.isFunction(handleFunc)) {\n        Backbone.on(context + '.' + handler, function () {\n          App.warn('\\u6B64\\u53F3\\u952E\\u529F\\u80FD\\u64CD\\u4F5C\\u51FD\\u6570\\u5C1A\\u672A\\u5B9E\\u73B0\\uFF01');\n          console.warn && console.warn('\\u6B64\\u53F3\\u952E\\u529F\\u80FD\\u64CD\\u4F5C\\u51FD\\u6570' + handler + '\\u5C1A\\u672A\\u5B9E\\u73B0\\uFF01');\n        });\n      } else {\n        Backbone.on(context + '.' + handler, _.bind(handleFunc, self));\n      }\n    });\n  },\n  /**\n   * 清除事件绑定\n   * @param context\n   * @param handlers\n   */\n  clearEventHandler: function clearEventHandler(context, handlers) {\n    _.each(handlers, function (handler) {\n      Backbone.off(context + '.' + handler);\n    });\n  },\n  /**\n   * 设置画布布局\n   */\n  changeLayout: function changeLayout(layout) {\n    this.layout = layout;\n    this.reRender();\n  },\n  /**\n   * 获取当前画布缩放比例\n   * @return\n   */\n  getZoomScale: function getZoomScale() {\n    return this.zoomScale;\n  },\n  /**\n   * 缩放画布\n   * @param scale\n   */\n  zoom: function zoom(scale) {\n    this.zoomScale = scale;\n    this._$canvas.css({\n      transform: 'scale(' + this.zoomScale + ')'\n    });\n  },\n  /**\n   * 还原画布\n   */\n  revert: function revert() {\n    this.zoom(1.0);\n    this._$canvas.animate({ left: 0, top: 0 }, 'fast');\n  },\n  /**\n   * 清空画布，重新渲染\n   */\n  reRender: function reRender() {\n    this.clearCanvas();\n    this.clearDataNode();\n    this._renderCanvasElement();\n  },\n\n  /**\n   * 清空canvas\n   */\n  clearCanvas: function clearCanvas() {\n    if (this.collectionSet) {\n      this.collectionSet.unhover();\n      this.collectionSet.unmousedown();\n      this.collectionSet.clear();\n    }\n    this.paper && this.paper.clear();\n  },\n  /**\n   * 清空画布\n   */\n  clearDiagram: function clearDiagram() {\n    this.clearCanvas();\n    this.clearDataNode();\n    this.collection && this.collection.reset();\n    this.connCollection && this.connCollection.reset();\n  },\n  /**\n   * 清除画布上所有的节点\n   */\n  clearDataNode: function clearDataNode() {\n    _.each(_.values(this.dataNodeViews || {}), function (dataNodeView) {\n      dataNodeView.destroy();\n    });\n    this.dataNodeViews = {};\n  },\n  /**\n   * 获取画布容器offset\n   * @returns {*}\n   */\n  getContainerOffset: function getContainerOffset() {\n    return this._$canvas.offset();\n  },\n  getContainerSize: function getContainerSize() {\n    return {\n      width: this._$canvas.width(),\n      height: this._$canvas.height()\n    };\n  },\n  /**\n   * 获取画布容器边距（margin+padding）\n   * @returns {{left: number, top: number}|*}\n   */\n  getContainerSpacing: function getContainerSpacing() {\n    if (!this._spacing) {\n      this._spacing = {\n        left: (this._$canvas.outerWidth(true) - this._$canvas.width()) / 2,\n        top: (this._$canvas.outerHeight(true) - this._$canvas.height()) / 2\n      };\n    }\n    return this._spacing;\n  },\n  /**\n   * 允许画布拖拽移动\n   */\n  allowDiagramDrag: function allowDiagramDrag() {\n    var self = this;\n    this._$canvas.draggable({\n      start: function start() {\n        self._diagramSize = {\n          width: self.$el.outerWidth(),\n          height: self.$el.outerHeight(),\n          canvas_width: self._$canvas.outerWidth(),\n          canvas_height: self._$canvas.outerHeight()\n        };\n        $(this).addClass('grabbing');\n      },\n      drag: function drag(e, ui) {\n        var newPos = self._judgeCanvasBoundary(ui, $(this), 100);\n        if (newPos !== null) {\n          $(this).css('cursor', 'not-allowed');\n          return false;\n        }\n      },\n      stop: function stop(e, ui) {\n        var newPos = self._judgeCanvasBoundary(ui, $(this), 0);\n        if (newPos !== null) {\n          self._$canvas.animate({ left: newPos.left, top: newPos.top });\n        }\n        $(this).removeClass('grabbing').css('cursor', '');\n      }\n    });\n  },\n  /**\n   * 判断画布拖拽超出边界\n   * @private\n   */\n  _judgeCanvasBoundary: function _judgeCanvasBoundary(ui, $target, offset) {\n    var pos = ui.position,\n        size = this._diagramSize;\n    var minLeft = -(size.canvas_width - size.width);\n    var maxLeft = 0;\n    var minTop = -(size.canvas_height - size.height);\n    var maxTop = 0;\n    if (pos.left < minLeft - offset || pos.left > maxLeft + offset || pos.top < minTop - offset || pos.top > maxTop + offset) {\n      var left = pos.left,\n          top = pos.top;\n      if (pos.left < minLeft - offset) left = minLeft;\n      if (pos.left > maxLeft + offset) left = maxLeft;\n      if (pos.top < minTop - offset) top = minTop;\n      if (pos.top > maxTop + offset) top = maxTop;\n      return { left: left, top: top };\n    }\n    return null;\n  },\n\n  /**\n   * 获取画布容器DIV对象\n   * @returns {jquery} jquery包装后的div对象\n   */\n  getCanvasContainer: function getCanvasContainer() {\n    return this._$canvas;\n  },\n  /**\n   * 根据两个节点di，添加两个节点间的连线\n   * @param fromId\n   * @param toId\n   */\n  addConnection: function addConnection(fromId, toId) {\n    this.connCollection.add({\n      from: fromId,\n      to: toId\n    });\n  },\n  /**\n   * 添加数据节点\n   * @param nodeModel  数据节点对象\n   * @param x 节点添加到画布上的x坐标\n   * @param y 节点添加到画布上的y坐标\n   */\n  addDataNode: function addDataNode(nodeModel, x, y) {\n    this.collection.add({\n      modelId: nodeModel.modelId,\n      type: parseInt(nodeModel.nodeType),\n      txt: nodeModel.nodeName,\n      icon: nodeModel.icon,\n      coordinate: { x: x, y: y }\n    });\n  },\n\n  /**\n   * 添加计算操作节点\n   * @param calcType 计算节点类型\n   * @param calcTxt  计算节点名称\n   * @param icon 节点图标\n   * @param x  节点x坐标\n   * @param y  节点y坐标\n   */\n  addCalcNode: function addCalcNode(calcType, calcTxt, icon, x, y) {\n    this.collection.add({\n      type: DataNode.NODE_TYPE.OUTPUT,\n      txt: calcTxt,\n      calcType: calcType,\n      icon: icon,\n      coordinate: { x: x, y: y }\n    });\n  },\n  /**\n   * 渲染数据节点至画布上\n   * @param dataNode\n   */\n  renderDataNode: function renderDataNode(dataNode) {\n    var dataNodeView = new DataNodeView({\n      model: dataNode,\n      diagram: this\n    });\n    dataNodeView.render(this._$canvas);\n    this.dataNodeViews[dataNode.id] = dataNodeView;\n  },\n  /**\n   * 删除节点\n   * @param dataNodeId\n   */\n  removeNodeById: function removeNodeById(dataNodeId) {\n    App.confirm('确定要删除该数据节点么？', '删除数据节点后，将删除与此节点相关的子节点的配置信息,需对子节点进行重新配置', _.bind(this.collection.remove, this.collection, dataNodeId));\n  },\n  /**\n   * 删除连线\n   * @param connectorId\n   */\n  removeConnectorById: function removeConnectorById(connectorId) {\n    var ids = connectorId.split('-');\n    App.confirm('确定要删除该节点连线么？', '删除节点连线后，将删除与此连线连接的相关子节点的配置信息,需对子节点进行重新配置', _.bind(this.connCollection.removeConnectionByFromToId, this.connCollection, ids[0], ids[1]));\n  },\n  /**\n   * 删除节点时，销毁节点视图，并删除节点连线\n   * @param dataNode\n   */\n  removeDataNode: function removeDataNode(dataNode) {\n    this.connCollection.removeConnectionsByNodeId(dataNode.id);\n    var dataNodeView = this.dataNodeViews[dataNode.id];\n    dataNodeView && dataNodeView.destroy();\n    delete this.dataNodeViews[dataNode.id];\n    App.success('删除节点 [ ' + dataNode.get('txt') + ' ] 成功！');\n    // 删除节点时，删除其子孙节点的配置\n    // this.clearDescendantNodeConfByConnector(dataNode.id, false);\n  },\n  /**\n   * 根据存入的连线对象，在画布上绘制连线\n   * @param connModel\n   */\n  renderConnectionByConnModel: function renderConnectionByConnModel(connModel) {\n    var fromId = connModel.attributes.from,\n        toId = connModel.attributes.to,\n        fromView = this.dataNodeViews[fromId],\n        toView = this.dataNodeViews[toId],\n        lineId = 'line-' + fromId + '-' + toId,\n        line_bg_id = 'line-bg-' + fromId + '-' + toId,\n        line = this.paper.getById(lineId),\n        line_bg = this.paper.getById(line_bg_id),\n        from = this.getConnPortCoord(this.layout, true, fromView.model.get('coordinate').x, fromView.model.get('coordinate').y, fromView.width, fromView.height, fromView.model.isCalcNode()),\n        to = this.getConnPortCoord(this.layout, false, toView.model.get('coordinate').x, toView.model.get('coordinate').y, toView.width, toView.height, toView.model.isCalcNode());\n    if (!line) {\n      var connection = this.paper.connection(from, to, this.styles.LINE, this.styles.BG_LINE);\n      this.collectionSet.push(connection.line);\n      if (connection.bg) {\n        connection.bg.id = line_bg_id;\n        this.collectionSet.push(connection.bg);\n      }\n      connection.line.id = lineId;\n      this._handleCollectionEvent();\n    } else {\n      this.paper.connection({\n        from: from,\n        to: to,\n        line: line,\n        bg: line_bg\n      });\n    }\n  },\n  /**\n   * 删除连线\n   * @param connModel\n   */\n  removeConnection: function removeConnection(connModel) {\n    var from = connModel.attributes.from,\n        to = connModel.attributes.to,\n        line = this.paper.getById('line-' + from + '-' + to);\n    if (line) {\n      line.remove();\n      var bgline = this.paper.getById('line-bg-' + from + '-' + to);\n      if (bgline) {\n        bgline.remove();\n      }\n      this.clearDescendantNodeConfByConnector(to, true);\n      App.success('删除连线成功！');\n    }\n  },\n\n  /**\n   * 根据dataNode id，删除其后代节点的节点配置\n   * @param nodeId\n   * @param isContainParmNode\n   */\n  clearDescendantNodeConfByConnector: function clearDescendantNodeConfByConnector(nodeId, isContainParmNode) {\n    //获取所有的子孙节点ID数组\n    var self = this;\n    var nodeIds = [];\n    if (isContainParmNode) nodeIds.push(nodeId);\n    nodeIds = nodeIds.concat(this.connCollection.getDescendantNodesByNodeId(nodeId));\n    _.each(nodeIds, function (nodeId) {\n      var dataNode = self.collection.get(nodeId);\n      if (dataNode) {\n        dataNode.clearConfig();\n      }\n    });\n  },\n  /**\n   * 根据数据节点id，获取与此节点有连接的所有连线，对连线进行重新渲染\n   * @param dataNodelId\n   */\n  renderConnectionByNodeId: function renderConnectionByNodeId(dataNodelId) {\n    var conns = this.connCollection.getCollectionsById(dataNodelId);\n    var self = this;\n    _.each(conns, function (item) {\n      self.renderConnectionByConnModel(item);\n    });\n  },\n  /**\n   * 渲染临时连线，根据连线的开始、结束两个临时端点\n   * @returns {*|Raphael.Element}\n   */\n  renderTempConnection: function renderTempConnection(connection) {\n    if (!this.tmpConnection) {\n      this.tmpConnection = this.paper.connection(connection.from, connection.to, this.styles.TMP_LINE);\n    } else {\n      this.tmpConnection.to = connection.to;\n      this.paper.connection(this.tmpConnection);\n    }\n    return this.tmpConnection;\n  },\n\n  /**\n   * 清空临时元素，清除缓存，从画布上移除\n   */\n  removeTempConnection: function removeTempConnection() {\n    this.tmpConnection && this.tmpConnection.line && this.tmpConnection.line.remove() && this.tmpConnection.bg && this.tmpConnection.bg.remove();\n    delete this.tmpConnection;\n  },\n  /**\n   * 获取连线端点的坐标\n   * @param layoutDirection 布局方向\n   * @param isFrom  是否输入节点\n   * @param pos_x   数据节点x坐标\n   * @param  pos_y   数据节点y坐标\n   * @param width   数据节点宽度\n   * @param height  数据节点高度\n   * @param isCalcNode 是否计算节点\n   * @returns {{}}\n   */\n  getConnPortCoord: function getConnPortCoord(layoutDirection, isFrom, pos_x, pos_y) {\n    var width = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    var height = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n    var isCalcNode = arguments[6];\n\n    var x = 0,\n        y = 0;\n    if (layoutDirection === 'horizontal') {\n      x = isFrom ? pos_x + width - 2 : pos_x + 2;\n      y = pos_y + height / 2;\n    } else {\n      x = pos_x + width / 2;\n      if (isCalcNode) {\n        x = pos_x + 30;\n      }\n      y = isFrom ? pos_y + height - 2 : pos_y + 2;\n    }\n    return {\n      x: x,\n      y: y,\n      width: 2,\n      height: 2\n    };\n  },\n  /**\n   * 显示节点配置面板\n   * @param nodeId\n   */\n  showNodeConfig: function showNodeConfig(nodeId) {\n    if (this.collection.get(nodeId).isCalcNode() && !this.connCollection.allowNodeMix(nodeId)) {\n      App.warn('操作节点只有一个输入节点,不满足配置条件！');\n      return;\n    }\n    this.nodeConfigView.show(this.collection.get(nodeId));\n  },\n  /**\n   * 关闭节点配置面板\n   */\n  closeNodeConfig: function closeNodeConfig() {\n    this.nodeConfigView.close();\n    this.$('.selected').removeClass('selected');\n  },\n\n  /**\n   * 给数据节点增加注释\n   * @param dataNode\n   */\n  addComment: function addComment(dataNode) {\n    var nodeId = _.isObject(dataNode) ? dataNode.id : dataNode,\n        dataNodeView = this.dataNodeViews[nodeId];\n    if (dataNodeView) {\n      dataNodeView.addComment();\n    }\n  },\n  /**\n   * 处理canvas连线的hover及右键菜单事件\n   * @private\n   */\n  _handleCollectionEvent: function _handleCollectionEvent() {\n    var self = this;\n    this.collectionSet.unhover();\n    this.collectionSet.hover(function () {\n      var line_bg = this;\n      if (this.id.substring(0, 7) !== 'line-bg') {\n        line_bg = this.paper.getById('line-bg' + this.id.substring(4));\n      }\n      line_bg.attr('stroke-opacity', '0.3');\n    }, function () {\n      var line_bg = this;\n      if (this.id.substring(0, 7) !== 'line-bg') {\n        line_bg = this.paper.getById('line-bg' + this.id.substring(4));\n      }\n      line_bg.attr('stroke-opacity', '0');\n    });\n    this.collectionSet.unmousedown();\n    this.collectionSet.mousedown(function (e) {\n      if (e.button === 2) {\n        self.contextMenuView.showMenu(e, 'LINE', this.id.replace('line-bg-', '').replace('line-', ''));\n      }\n      e.stopPropagation();\n    });\n  },\n  /**\n   * 节点配置\n   * @param dataNode\n   */\n  nodeConfig: function nodeConfig(dataNode) {\n    var nodeId = _.isObject(dataNode) ? dataNode.id : dataNode,\n        dataNodeView = this.dataNodeViews[nodeId];\n    if (dataNodeView) {\n      dataNodeView.select();\n    }\n  },\n  /**\n   * 查看节点数据\n   */\n  viewData: function viewData(dataNode) {\n    var model = this.collection.get(dataNode);\n    var modalView = new ModalView({\n      title: '查看节点数据 - ' + model.get('txt'),\n      closeDestroy: true\n    });\n    modalView.render();\n    modalView.open();\n  },\n  /**\n   * 查看节点日志\n   */\n  viewLogs: function viewLogs(dataNode) {\n    var model = this.collection.get(dataNode);\n    var modalView = new ModalView({\n      title: '查看处理日志 - ' + model.get('txt'),\n      closeDestroy: true\n    });\n    modalView.render();\n    modalView.open();\n  },\n  /**\n   * 判断两个节点是否已连接\n   */\n  isConnected: function isConnected(fromId, toId) {\n    return this.connCollection.isExist(fromId, toId);\n  },\n  /**\n   * 展示画布使用说明\n   */\n  showTips: function showTips() {\n    this.diagramTipsView.toggle();\n  },\n  /**\n   * 验证图形连接是否正确\n   */\n  validateGrpah: function validateGrpah() {\n    var problemNodes = [];\n    var self = this;\n    if (this.collection.length === 0) {\n      this._validateLog([], '尚未设定策略处理流程!');\n      return [];\n    }\n    // 1. 验证是否有自连接的连线\n    problemNodes = this.connCollection.hasSelfJoin();\n    if (problemNodes.length > 0) {\n      this._validateLog(problemNodes, '01.图形校验失败！画布上存在自连接的节点');\n      return problemNodes;\n    }\n    // 2. 验证是否有孤立节点\n    var nodeIds = this.collection.pluck('id');\n    problemNodes = this.connCollection.hasIsolated(nodeIds);\n    if (problemNodes && problemNodes.length > 0) {\n      this._validateLog(problemNodes, '图形校验失败！画布上存在孤立节点');\n      return problemNodes;\n    }\n    // 3. 验证起始节点是否为数据节点\n    var startNodes = this.connCollection.getStartNodes();\n    problemNodes = _.filter(startNodes, function (nodeId) {\n      var node = self.collection.get(nodeId);\n      return node && node.isCalcNode();\n    });\n    if (problemNodes && problemNodes.length > 0) {\n      this._validateLog(problemNodes, '图形校验失败！画布上存在为操作节点的起始节点');\n      return problemNodes;\n    }\n    // 4. 验证终止节点是否唯一，是否为推荐结果节点\n    var endNodes = this.connCollection.getEndNodes();\n    if (endNodes.length >= 1) {\n      problemNodes = _.filter(endNodes, function (nodeId) {\n        var node = self.collection.get(nodeId);\n        return node && !node.isFinalNode();\n      });\n    }\n    if (problemNodes && problemNodes.length > 0) {\n      this._validateLog(problemNodes, '图形校验失败！画布上未设置最终推荐结果输出的节点');\n      return problemNodes;\n    }\n    // 5. 验证操作节点是否有超过两个的输入节点\n    var calcNodes = _.pluck(this.collection.where({ type: 99 }), 'id');\n    _.each(calcNodes, function (nodeId) {\n      var fromNodes = self.connCollection.getFromNodesByNodeId(nodeId);\n      if (fromNodes.length < 2) {\n        problemNodes = _.union(problemNodes, fromNodes);\n      }\n    });\n    if (problemNodes && problemNodes.length > 0) {\n      this._validateLog(problemNodes, '图形校验失败！画布上存在操作节点仅有一个输入节点');\n      return problemNodes;\n    }\n    // 6. 校验所有节点是否都已经配置完成\n    problemNodes = this.collection.getUnConfigNode();\n    if (problemNodes && problemNodes.length > 0) {\n      this._validateLog(problemNodes, '图形校验失败！画布上存在未配置或配置错误的节点，请配置正确后再提交!');\n      return problemNodes;\n    }\n    return true;\n  },\n  /**\n   * 高亮显示问题节点\n   * @param problemNodes 问题节点ID数组\n   */\n  highlightProblemNodes: function highlightProblemNodes(problemNodes) {\n    var self = this;\n    _.each(problemNodes, function (nodeId) {\n      var nodeView = self.dataNodeViews[nodeId];\n      nodeView.highlight();\n    });\n  },\n\n  _validateLog: function _validateLog(problemNodes, msg) {\n    App.error(msg);\n    console.error && console.error(msg);\n    console.table && console.table(_.pluck(this.collection.getModelsByIdArray(problemNodes), 'attributes'), ['id', 'txt']);\n  },\n  /**\n   * 根据节点ID，判断与其连接的是否有子节点\n   * @param nodeId\n   */\n  hasChildNode: function hasChildNode(nodeId) {\n    return this.connCollection.hasChildNode(nodeId);\n  },\n  /**\n   * 作为最终推荐结果输出节点\n   */\n  asFinalNode: function asFinalNode(datanodeId) {\n    if (this.connCollection.hasChildNode(datanodeId)) {\n      return;\n    }\n    if (this.collection.existFinalNode()) {\n      App.warn('已存在推荐结果节点，同一个流程只允许有一个推荐结果输出节点!');\n      return;\n    }\n    var datanode = this.collection.get(datanodeId);\n    if (datanode) {\n      datanode.asFinalNode();\n    }\n  },\n\n  clearLocalStorage: function clearLocalStorage() {\n    window.localStorage && window.localStorage.clear();\n  },\n\n  /**\n   * 取消作为最终推荐结果输出节点\n   */\n  cancelAsFinalNode: function cancelAsFinalNode(datanodeId) {\n    var datanode = this.collection.get(datanodeId);\n    if (datanode) {\n      datanode.cancelAsFinalNode();\n    }\n  },\n  /**\n   * 获取配置结果JSON对象\n   */\n  getConfigJson: function getConfigJson() {\n    return {\n      nodes: this.collection.toJSON(),\n      connectors: this.connCollection.toJSON()\n    };\n  },\n\n  /**\n   * 组件销毁方法\n   */\n  destroy: function destroy() {\n    if (_.isFunction(this.onDestroy)) {\n      this.onDestroy.apply(this);\n    }\n    this.clearCanvas();\n    this.clearDataNode();\n    this.stopListening();\n    this.collection && this.collection.stopListening().reset([], { silent: true });\n    this.connCollection && this.connCollection.stopListening().reset([], { silent: true });\n    if (this.contextMenuView) {\n      this.clearEventHandler('diagram-menu', this.contextMenuView.getAllHandler());\n      this.contextMenuView.destroy();\n    }\n    if (this.toolbarView) {\n      this.clearEventHandler('diagram-toolbar', this.toolbarView.getAllHandler());\n      this.toolbarView.destroy();\n    }\n    Backbone.off('diagram:closeConfigView');\n    this.diagramTipsView && this.diagramTipsView.destroy();\n    this.nodeConfigView && this.nodeConfigView.destroy();\n    if (this._$canvas && this._$canvas.hasClass('ui-draggable')) {\n      this._$canvas.draggable('destroy');\n    }\n    this.remove();\n  }\n});\nmodule.exports = DiagramView;\n\n/***/ }),\n\n/***/ \"GAJD\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * 策略节点配置视图\n * @export DiagramNodeConfigView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\nvar $ = __webpack_require__(\"7t+N\");\nvar _ = __webpack_require__(\"rdLu\");\nvar DataNode = __webpack_require__(\"euKX\");\n__webpack_require__(\"F8S1\");\nvar App = __webpack_require__(\"kE97\");\nvar ModelConfigView = __webpack_require__(\"lvMg\");\nvar ModelJoinView = __webpack_require__(\"tEKr\");\n__webpack_require__(\"x2ZJ\");\nvar DiagramNodeConfigView = Backbone.View.extend({\n  className: 'diagram-node-config',\n  initialize: function initialize(options) {\n    var _configViewMap;\n\n    this.editModel = false;\n    _.extend(this, options);\n    this.nodeConfig = null;\n    this.dataNodeModel = null;\n    this.isShow = false;\n    this.configViewMap = (_configViewMap = {}, _defineProperty(_configViewMap, DataNode.NODE_TYPE.MODEL, ModelConfigView), _defineProperty(_configViewMap, DataNode.NODE_TYPE.OUTPUT, ModelJoinView), _defineProperty(_configViewMap, DataNode.NODE_TYPE.FINAL_OUTPUT, ModelJoinView), _configViewMap);\n  },\n  render: function render() {\n    return this;\n  },\n  /**\n   * 展示节点配置面板\n   * @param dataNodeModel  数据节点模型对象\n   */\n  show: function show(dataNodeModel) {\n    if (this.nodeConfig) {\n      this.nodeConfig.destroy();\n    }\n    this.dataNodeModel = dataNodeModel;\n    var ConfigView = this.configViewMap[dataNodeModel.get('type')];\n    if (!ConfigView) {\n      console.error('未实现此节点类型[' + dataNodeModel.get('type') + ']的配置视图组件');\n    } else {\n      var configName = dataNodeModel.getName();\n      if (dataNodeModel.isCalcNode() && $.trim(dataNodeModel.get('alias')).length > 0) {\n        configName += ' [ ' + dataNodeModel.get('alias') + ' ] ';\n      }\n      this.nodeConfig = new ConfigView({\n        el: this.$el,\n        nodeData: dataNodeModel.getConfigParams(this.diagram.collection, this.diagram.connCollection),\n        modelsName: configName, //选择模型名称\n        viewType: this.editModel ? 'edit' : 'view' //edit 编辑  view 查看\n      });\n    }\n    this.$el.show().animate({ width: 300 }, 'fast');\n    this.isShow = true;\n  },\n  /**\n   * 关闭节点配置面板，并校验及保存配置结果\n   */\n  close: function close() {\n    if (!this.isShow) return;\n    this.$el.find('.selected').removeClass('selected');\n    this.$el.animate({ width: 0 }, 'fast', function () {\n      $(this).hide();\n    });\n    if (this.editModel && _.isFunction(_.property('validateConfig')(this.nodeConfig))) {\n      var validateResult = this.nodeConfig.validateConfig();\n      if (!validateResult) {\n        this.dataNodeModel.setStatus(DataNode.NODE_STATUS.CONF_ERROR, false);\n        App.error('节点 [ ' + this.dataNodeModel.get('txt') + ' ] 配置不正确,请检查并修正节点配置！');\n      } else {\n        this.dataNodeModel.setStatus(DataNode.NODE_STATUS.CONF_YES, false);\n      }\n    }\n    if (this.nodeConfig) {\n      if (this.editModel) {\n        var conf = this.nodeConfig.getModelConfigData();\n        this.dataNodeModel.set('conf', conf || {});\n      }\n      this.nodeConfig.destroy();\n      this.nodeConfig = null;\n    }\n    this.isShow = false;\n  },\n  destroy: function destroy() {\n    if (this.nodeConfig) {\n      this.nodeConfig.destroy();\n    }\n    this.undelegateEvents();\n    this.stopListening();\n    this.$el.off();\n    this.remove();\n  }\n});\nmodule.exports = DiagramNodeConfigView;\n\n/***/ }),\n\n/***/ \"IMAn\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * 数据节点选择视图对象\n * @export DataNodeView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nvar $ = __webpack_require__(\"7t+N\");\nvar Backbone = __webpack_require__(\"aGLy\");\nvar _ = __webpack_require__(\"rdLu\");\n__webpack_require__(\"mXlc\");\nvar ModelNodeCollection = __webpack_require__(\"1qZb\");\n\n__webpack_require__(\"YhFD\");\n\nvar NodeSelectView = Backbone.View.extend({\n  className: 'node-selector',\n  template: __webpack_require__(\"/xF0\"),\n  styles: {\n    NODE_DRAGGING: 'data-node-dragging',\n    CALC_DRAGGING: 'calc-node-dragging'\n  },\n  selectors: {\n    DATA_NODE: '.data-nodes li',\n    CALC_NODE: '.calc-nodes .calc-node'\n  },\n  initialize: function initialize(options) {\n    _.extend(this, options);\n    this.collection = new ModelNodeCollection({ busiCode: this.busiCode });\n    this.listenTo(this.collection, 'reset', this.renderData);\n    if (!this.busiCode) {\n      this.collection.reset([]);\n    } else {\n      this.collection.fetch({ reset: true });\n    }\n  },\n  reload: function reload(busiCode) {\n    this.collection.setBusiCode(busiCode);\n    this.collection.fetch({ reset: true });\n  },\n  renderData: function renderData() {\n    var calNodes = [{\n      type: 'join',\n      name: '关联',\n      icon: 'icon-guanlian',\n      desc: '关联操作用于多个模型结果进行组合，取交集或者字段合并'\n    }, {\n      type: 'merge',\n      name: '融合',\n      icon: 'icon-shujuronghe',\n      desc: '融合操作用于多个模型结果加权合并、串联过滤、交叉合并等操作'\n    }, {\n      type: 'filter',\n      name: '过滤',\n      icon: 'icon-guolv',\n      desc: '用于对推荐结果进行产品或内容关键字或标签的过滤'\n    }, {\n      type: 'sort',\n      name: '排序',\n      icon: 'icon-paixu',\n      desc: '用于对推荐结果进行重排序，以使推荐结果输出的优先级顺序更精准'\n    }];\n    this.$el.html(this.template({\n      nodes: this.collection.toJSON(),\n      calNodes: calNodes\n    }));\n    this.handelNodeDraggable();\n    this.$('.calc-node').tooltip({\n      placement: 'top',\n      container: this.$el\n    });\n    this.acceptDrop();\n  },\n  render: function render() {\n    return this;\n  },\n  /**\n   * 获取允许拖动的数据节点和计算节点选择器\n   * @return {*}\n   */\n  getNodeSelector: function getNodeSelector() {\n    return this.$(this.selectors.DATA_NODE + ', ' + this.selectors.CALC_NODE);\n  },\n  /**\n   * 根据模型id，获取模型集合中的模型对象\n   * @param modelId\n   */\n  getModelNode: function getModelNode(modelId) {\n    return this.collection.get(modelId).attributes;\n  },\n  /**\n   * 获取用于返回生成拖拽中效果DOM元素的函数\n   * @return {Function}\n   * @private\n   */\n  _getDragHelper: function _getDragHelper() {\n    var self = this;\n    return function () {\n      return $('<div/>').append($(this).children().clone()).addClass($(this).hasClass('calc-node') ? self.styles.CALC_DRAGGING : self.styles.NODE_DRAGGING);\n    };\n  },\n  /**\n   * 处理节点拖动中的事件\n   * @param e\n   * @param ui\n   * @private\n   */\n  _handleNodeDragging: function _handleNodeDragging(e, ui) {\n    var of = this.diagram.getCanvasContainer().offset();\n    if (ui.offset.top >= of.top && ui.offset.left >= of.left) {\n      ui.helper.addClass(this.diagram.styles.DRAGGING_ADD_CURSOR);\n    } else {\n      ui.helper.removeClass(this.diagram.styles.DRAGGING_ADD_CURSOR);\n    }\n  },\n  /**\n   * 处理节点拖动结束的事件\n   * @param e\n   * @param ui\n   * @private\n   */\n  _handleNodeDragStop: function _handleNodeDragStop(e, ui) {\n    var $target = $(e.target),\n        offset = this.diagram.getContainerOffset(),\n        spacing = this.diagram.getContainerSpacing(),\n        scale = this.diagram.getZoomScale(),\n        left = ui.offset.left - offset.left - spacing.left,\n        top = ui.offset.top - offset.top - spacing.top;\n    var _left = left / scale,\n        _top = top / scale;\n    if (!$target.data('_revert')) {\n      if ($target.hasClass('calc-node')) {\n        this.diagram.addCalcNode($target.attr('data-id'), $.trim($target.text()), $target.attr('data-icon'), _left < 0 ? 0 : _left, _top < 0 ? 0 : _top);\n      } else {\n        var model = this.getModelNode($target.attr('data-id'));\n        this.diagram.addDataNode(model, _left < 0 ? 0 : _left, _top < 0 ? 0 : _top);\n      }\n    }\n    $target.removeData('_revert');\n  },\n  /**\n   * 处理节点，使节点支持拖拽至画布\n   */\n  handelNodeDraggable: function handelNodeDraggable() {\n    this.getNodeSelector().draggable({\n      revert: function revert(result) {\n        $(this).data('_revert', !result);\n        return !result;\n      },\n      helper: this._getDragHelper(),\n      cursor: 'move',\n      scroll: true,\n      opacity: 0.5,\n      appendTo: this.$dropEl,\n      drag: _.bind(this._handleNodeDragging, this),\n      stop: _.bind(this._handleNodeDragStop, this)\n    });\n  },\n  /**\n   * 接收元素拖拽放入画布\n   */\n  acceptDrop: function acceptDrop() {\n    if (this.$dropEl) {\n      this.$dropEl.droppable({\n        accept: this.getNodeSelector()\n      });\n    }\n  },\n  destroy: function destroy() {\n    this.undelegateEvents();\n    this.$('.calc-node').tooltip('destroy');\n    this.$el.off();\n    if (this.getNodeSelector().hasClass('ui-draggable')) {\n      this.getNodeSelector().draggable('destroy');\n    }\n    if (this.$dropEl && this.$dropEl.hasClass('ui-droppable')) {\n      this.$dropEl.droppable('destroy');\n    }\n    this.getNodeSelector().off();\n    this.stopListening();\n    this.remove();\n  }\n});\nmodule.exports = NodeSelectView;\n\n/***/ }),\n\n/***/ \"IRzy\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<ul>\\n<!--[if (gte IE 9)|!(IE)]><!-->\\n<li title=\"放大\" data-action=\"zoomOut\">\\n\t<i title=\"放大\" class=\"iconfont icon-fangda\"></i>\\n</li>\\n<li title=\"缩小\" data-action=\"zoomIn\">\\n\t<i title=\"缩小\" class=\"iconfont icon-suoxiao\"></i>\\n</li>\\n<li title=\"还原\"  data-action=\"revert\">\\n\t<i title=\"还原\" class=\"iconfont icon-huanyuan\"></i>\\n</li>\\n<!--<![endif]-->\\n';\nif(this.editModel){;\n__p += '\\n<li title=\"显示节点备注\"  data-action=\"showComment\">\\n\t<i title=\"显示节点备注\" class=\"iconfont icon-icon1\"></i>\\n</li>\\n<li title=\"全屏展示\"  data-action=\"fullScreen\">\\n\t<i title=\"全屏展示\" class=\"iconfont icon-quanping\"></i>\\n</li>\\n<li title=\"布局方式\" data-action=\"layoutDir\">\\n\t<i title=\"布局方式\" class=\"iconfont icon-layout\"></i>\\n</li>\\n<li title=\"清空画布\"  data-action=\"clearDiagram\">\\n\t<i title=\"清空画布\" class=\"iconfont icon-ziyuan\"></i>\\n</li>\\n<li title=\"使用提示\"  data-action=\"showTips\">\\n\t<i title=\"使用提示\" class=\"iconfont icon-bangzhu\"></i>\\n</li>\\n';\n};\n__p += '\\n</ul>';\n\n}\nreturn __p\n}\n\n/***/ }),\n\n/***/ \"IdGR\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(_) {module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n\nif(datas.length>0){;\n__p += '\\n\t';\n _.each(datas,function(data){ ;\n__p += '\\n\t\t';\n\n\t\t\tvar statusClass={\n\t\t\t\t\"错误\":\"fright ui-error-text\",\n\t\t\t\t\"执行中\":\"fright ui-running-text\",\n\t\t\t\t\"待执行\":\"fright ui-execution-text ui-editing-text\",\n\t\t\t\t\"完成\":\"fright ui-execution-text\"\n\t\t\t};\n\t\t\tvar statusClassName;\n\t\t\tvar strategyStateName;\n\t\t\tfor(var i=0;i<enumData.length;i++){\n\t\t\t\tif(enumData[i].enumKey==data.strategyState){\n\t\t\t\t\tstatusClassName=statusClass[enumData[i].enumValue];\n\t\t\t\t\tstrategyStateName=enumData[i].enumValue;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar cycleClass={\n\t\t\t\t1:\"icon-day\",\n\t\t\t\t2:\"icon-week\",\n\t\t\t\t3:\"icon-month\"\n\t\t\t};\n\t\t\tvar cycleClassName=cycleClass[data.cycle];\n\t\t\tif(data.executeState!=-1){\n\t\t\t\tcycleClassName+=\" toggle-on\";\n\t\t\t}\n\t\t;\n__p += '\\n\t\t<div class=\"strategy-item\" data-id=\"' +\n((__t = (data.strategyId)) == null ? '' : __t) +\n'\">\\n\t\t\t<h5 class=\"strategy-item-title\">\\n\t\t\t\t<span>' +\n((__t = (data.strategyName)) == null ? '' : __t) +\n'</span>\\n\t\t\t\t<span class=\"' +\n((__t = (statusClassName)) == null ? '' : __t) +\n'\">' +\n((__t = (strategyStateName)) == null ? '' : __t) +\n'</span>\\n\t\t\t</h5>\\n\t\t\t<div class=\"strategy-item-content\">\\n\t\t\t\t<ul class=\"item-indis\">\\n\t\t\t\t\t<li>\\n\t\t\t\t\t\t<label>推荐用户数</label>\\n\t\t\t\t\t\t<span><strong>23,333</strong> (人)</span>\\n\t\t\t\t\t</li>\\n\t\t\t\t\t<li>\\n\t\t\t\t\t\t<label>推荐条数</label>\\n\t\t\t\t\t\t<span><strong>' +\n((__t = (data.dataCount!=null?data.dataCount:0)) == null ? '' : __t) +\n'</strong> (条)</span>\\n\t\t\t\t\t</li>\\n\t\t\t\t</ul>\\n\t\t\t\t<div class=\"item-logs\">\\n\t\t\t\t\t<span>\\n\t\t\t\t\t\t<i class=\"iconfont ' +\n((__t = (cycleClassName)) == null ? '' : __t) +\n'\"></i>' +\n((__t = (data.updateTimes)) == null ? '' : __t) +\n' 次\\n\t\t\t\t\t</span>\\n\t\t\t\t\t<span>\\n\t\t\t\t\t\t最近更新时间：' +\n((__t = (data.endTime!=null?data.endTime:\"暂无\")) == null ? '' : __t) +\n'\\n\t\t\t\t\t</span>\\n\t\t\t\t</div>\\n\t\t\t</div>\\n\t\t\t<ul class=\"strategy-item-func\">\\n\t\t\t\t<li data-action=\"view\" title=\"查看策略详情\" class=\"func-item\">详情</li>\\n\t\t\t\t<li class=\"dropdown func-item\" >\\n\t\t\t\t\t<p data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n\t\t\t\t\t\t<span>操作</span>\\n\t\t\t\t\t\t<span class=\"caret\"></span>\\n\t\t\t\t\t</p>\\n\t\t\t\t\t<ul class=\"dropdown-menu \">\\n\t\t\t\t\t\t<li data-action=\"update\">修改</li>\\n\t\t\t\t\t\t<li data-action=\"delete\">删除</li>\\n\t\t\t\t\t\t<li role=\"separator\" class=\"divider\"></li>\\n\t\t\t\t\t\t<li data-action=\"suspend\">暂停</li>\\n\t\t\t\t\t\t<li data-action=\"continue\">继续</li>\\n\t\t\t\t\t\t<li data-action=\"stop\">停止</li>\\n\t\t\t\t\t</ul>\\n\t\t\t\t</li>\\n\t\t\t</ul>\\n\t\t</div>\\n\t';\n }) ;\n__p += '\\n';\n}else{;\n__p += '\\n\t<span class=\"spanCenter\">暂无数据！</span>\\n';\n};\n\n\n}\nreturn __p\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"rdLu\")))\n\n/***/ }),\n\n/***/ \"Ip8O\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * 给Raphael扩展增加元素间连线的函数\n * @export Raphael\n * @author liyi\n * @modifier\n */\nvar Raphael = __webpack_require__(\"s6bQ\");\n/**\n * 传入的第一个参数是connection对象时，修改连线；否则绘制连线\n * @param obj1 {Object|Raphael.Element|DataNode}\n * @param obj2 {Raphael.Element|DataNode}\n * @param line {Object} 连线样式\n * @param bg  {Object} 背景连线样式\n * @returns {Object} {bg: *, line, from: *, to: *}\n */\nRaphael.fn.connection = function (obj1, obj2, line, bg) {\n  if (obj1.line && obj1.from && obj1.to) {\n    line = obj1;\n    obj1 = line.from;\n    obj2 = line.to;\n  }\n  var bb1 = obj1.getBBox ? obj1.getBBox() : obj1,\n      bb2 = obj2.getBBox ? obj2.getBBox() : obj2,\n      p = [{ x: bb1.x + bb1.width / 2, y: bb1.y - 1 }, { x: bb1.x + bb1.width / 2, y: bb1.y + bb1.height + 1 }, { x: bb1.x - 1, y: bb1.y + bb1.height / 2 }, { x: bb1.x + bb1.width + 1, y: bb1.y + bb1.height / 2 }, { x: bb2.x + bb2.width / 2, y: bb2.y - 1 }, { x: bb2.x + bb2.width / 2, y: bb2.y + bb2.height + 1 }, { x: bb2.x - 1, y: bb2.y + bb2.height / 2 }, { x: bb2.x + bb2.width + 1, y: bb2.y + bb2.height / 2 }],\n      d = {},\n      dis = [];\n  for (var i = 0; i < 4; i++) {\n    for (var j = 4; j < 8; j++) {\n      var _dx = Math.abs(p[i].x - p[j].x),\n          _dy = Math.abs(p[i].y - p[j].y);\n      if (i === j - 4 || (i !== 3 && j !== 6 || p[i].x < p[j].x) && (i !== 2 && j !== 7 || p[i].x > p[j].x) && (i !== 0 && j !== 5 || p[i].y > p[j].y) && (i !== 1 && j !== 4 || p[i].y < p[j].y)) {\n        dis.push(_dx + _dy);\n        d[dis[dis.length - 1]] = [i, j];\n      }\n    }\n  }\n  var res = void 0;\n  if (dis.length === 0) {\n    res = [0, 4];\n  } else {\n    res = d[Math.min.apply(Math, dis)];\n  }\n  var x1 = p[res[0]].x,\n      y1 = p[res[0]].y,\n      x4 = p[res[1]].x,\n      y4 = p[res[1]].y,\n      dx = Math.max(Math.abs(x1 - x4) / 2, 10),\n      dy = Math.max(Math.abs(y1 - y4) / 2, 10);\n  var x2 = [x1, x1, x1 - dx, x1 + dx][res[0]].toFixed(3),\n      y2 = [y1 - dy, y1 + dy, y1, y1][res[0]].toFixed(3),\n      x3 = [0, 0, 0, 0, x4, x4, x4 - dx, x4 + dx][res[1]].toFixed(3),\n      y3 = [0, 0, 0, 0, y1 + dy, y1 - dy, y4, y4][res[1]].toFixed(3);\n  var path = ['M', x1.toFixed(3), y1.toFixed(3), 'C', x2, y2, x3, y3, x4.toFixed(3), y4.toFixed(3)].join(',');\n  if (line && line.line) {\n    line.bg && line.bg.attr({ path: path });\n    line.line.attr({ path: path });\n  } else {\n    return {\n      bg: bg && this.path(path).attr(bg),\n      line: this.path(path).attr(line || { fill: 'none', stroke: '#000' }),\n      from: obj1,\n      to: obj2\n    };\n  }\n};\nmodule.exports = Raphael;\n\n/***/ }),\n\n/***/ \"JMxK\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"ui-query-builder\">\\n\t<form class=\"form-inline\" onsubmit=\"return false;\">\\n\t\t<div>\\n\t\t\t <div class=\"ui-search-filter input-group  ui-search-tactics form-group\">\\n\t\t\t\t<input type=\"text\" class=\"form-control br0\" placeholder=\"策略名称\" id=\"strategyName\">\\n\t\t\t\t<span class=\"glyphicon input-group-addon\" id=\"searchAll\"></span>\\n\t\t\t</div>\\n\t\t\t<div class=\"form-group ui-select-tactics\">\\n\t\t\t\t<button id=\"creationStrategy\" type=\"button\" class=\"btn btn-primary ui-create-tactics\">创建策略</button>\\n\t\t\t</div>\\n\t\t</div>\\n\t\t<div class=\"clearfix ui-tactics-item\">\\n\t\t\t<label class=\"ui-tactics-status fleft\">状态：</label>\\n\t\t\t<div class=\"ui-status-btn-box fleft\" id=\"statusContent\">\\n\\n\t\t\t</div>\\n\t\t</div>\\n\t</from>\\n</div>';\n\n}\nreturn __p\n}\n\n/***/ }),\n\n/***/ \"LBT6\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"LQyq\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\n\nvar ModelConfigModel = Backbone.Model.extend({\n  idAttribute: \"modelId\", //到一个从key到 id 的一个透明映射中。\n  setNotChecked: function setNotChecked(mName) {\n    if (this.get(\"fieldList\").length != 0) {\n      for (var i = 0; i < this.get(\"fieldList\").length; i++) {\n        if (this.get(\"fieldList\")[i].fieldName == mName) {\n          var newField = this.get(\"fieldList\")[i];\n          newField.checked = this.get(\"fieldList\")[i].checked ? false : true;\n          this.get(\"fieldList\").splice(i, 1);\n          this.get(\"fieldList\").push(newField);\n          this.set({ \"fieldList\": this.get(\"fieldList\") });\n          break;\n        }\n      }\n    }\n  }\n});\n\nmodule.exports = ModelConfigModel;\n\n/***/ }),\n\n/***/ \"LW5F\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {\n\n/**\n * 全局消息提示view组件\n * @export Backbone.View\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\nvar _ = __webpack_require__(\"rdLu\");\n__webpack_require__(\"ok1o\");\n\nvar MessageView = Backbone.View.extend({\n  className: 'message-notice-content',\n  template: __webpack_require__(\"oP/2\"),\n  initialize: function initialize(options) {\n    this.type = MessageView.TYPES.INFO;\n    this.message = '';\n    _.extend(this, options);\n  },\n  render: function render(container) {\n    var $msg = $('.' + this.className);\n    $msg.length > 0 && $msg.remove();\n    this.$el.html(this.template({\n      type: this.type,\n      icon: MessageView.ICONS[this.type.toUpperCase()] || MessageView.ICONS.INFO,\n      message: this.message\n    }));\n    this.$el.appendTo(container);\n    return this;\n  },\n  show: function show() {\n    var self = this,\n        _width = this.$el.outerWidth();\n    this.$el.hide();\n    this.$el.css({ 'margin-left': -(_width / 2), top: 20 });\n    this.$el.slideDown('fast', function () {\n      _.delay(_.bind(self.destroy, self), self.duration * 1000);\n    });\n  },\n  destroy: function destroy() {\n    var self = this;\n    this.$el.slideUp('fast', function () {\n      self.remove();\n    });\n  }\n});\nMessageView.TYPES = {\n  INFO: 'info',\n  SUCCESS: 'success',\n  ERROR: 'error',\n  WARN: 'warn'\n};\nMessageView.ICONS = {\n  INFO: 'icon-xinxi',\n  SUCCESS: 'icon-chenggong1',\n  ERROR: 'icon-shibai',\n  WARN: 'icon-jinggao'\n};\nmodule.exports = MessageView;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"7t+N\")))\n\n/***/ }),\n\n/***/ \"M0mP\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * 节点连线Model集合\n * @export NodeConnectionCollection\n * @extends Backbone.Collection\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\nvar _ = __webpack_require__(\"rdLu\");\nvar NodeConnection = __webpack_require__(\"VZB+\");\nvar util = __webpack_require__(\"2yj7\")('NODECONNECTION_COLLECTION:');\n\nvar NodeConnectionCollection = Backbone.Collection.extend({\n  model: NodeConnection,\n\n  initialize: function initialize() {},\n\n  initSyncLocalStorageListen: function initSyncLocalStorageListen() {\n    this.listenTo(this, 'add', util.saveModelToLocalStorage);\n    this.listenTo(this, 'remove', util.delModelFromLocalStorage);\n    this.listenTo(this, 'change', util.saveModelToLocalStorage);\n    this.listenTo(this, 'reset', util.resetModelToLocalStorage);\n  },\n\n  /**\n   * 根据数据节点id，获取与此数据节点有连线的所有连线对象\n   * @param dataNodelId\n   */\n  getCollectionsById: function getCollectionsById(dataNodelId) {\n    return this.filter(function (item) {\n      return item.attributes.from === dataNodelId || item.attributes.to === dataNodelId;\n    });\n  },\n  /**\n   * 根据数据节点id，删除与此节点有连线的所有连线对象\n   * @param dataNodeId\n   */\n  removeConnectionsByNodeId: function removeConnectionsByNodeId(dataNodeId) {\n    var self = this;\n    _.each(this.getCollectionsById(dataNodeId), function (nodeConnectionModel) {\n      self.remove(nodeConnectionModel);\n    });\n  },\n\n  /**\n   * 根据数据节点id，删除与此数据节点有连线的所有连线对象\n   * @param fromNodeId\n   * @param toNodeId\n   */\n  removeConnectionByFromToId: function removeConnectionByFromToId(fromNodeId, toNodeId) {\n    if (!fromNodeId && !toNodeId) {\n      var matches = this.where({ from: fromNodeId, to: toNodeId });\n      this.remove(matches);\n    } else {\n      if (fromNodeId) {\n        var _matches = this.where({ from: fromNodeId });\n        this.remove(_matches);\n      } else {\n        var _matches2 = this.where({ to: toNodeId });\n        this.remove(_matches2);\n      }\n    }\n  },\n  /**\n   * 根据传入的from、to节点id，判断是否集合中存在该连线对象\n   * @param fromNodeId\n   * @param toNodeId\n   * @return {boolean}\n   */\n  isExist: function isExist(fromNodeId, toNodeId) {\n    return this.where({ from: fromNodeId, to: toNodeId }).length > 0;\n  },\n  /**\n   * 获取所有的开始节点\n   * @return {Array}\n   */\n  getStartNodes: function getStartNodes() {\n    var froms = this.pluck('from'),\n        tos = this.pluck('to');\n    return _.difference(froms, tos);\n  },\n\n  /**\n   * 获取所有的结束节点\n   * @return {Array}\n   */\n  getEndNodes: function getEndNodes() {\n    this.pluck('from');\n    var froms = this.pluck('from'),\n        tos = this.pluck('to');\n    return _.uniq(_.difference(tos, froms));\n  },\n  /**\n   * 根据节点id，获取与此节点连接的其他所有子节点\n   * @param nodeId\n   * @return Array\n   */\n  getDescendantNodesByNodeId: function getDescendantNodesByNodeId(nodeId) {\n    var resultAry = [],\n        self = this;\n    function _getChildNodes(nodeId) {\n      var conns = self.where({ from: nodeId });\n      _.each(conns, function (conn) {\n        var toId = conn.attributes.to;\n        if (toId) {\n          resultAry.push(toId);\n        }\n        _getChildNodes(toId);\n      });\n      return resultAry;\n    }\n    return _getChildNodes(nodeId);\n  },\n  /**\n   * 根据节点ID,获取连向此节点的所有父节点\n   * @param nodeId\n   * @return Array\n   */\n  getFromNodesByNodeId: function getFromNodesByNodeId(nodeId) {\n    var nodes = this.where({ to: nodeId });\n    return _.pluck(_.pluck(nodes, 'attributes'), 'from');\n  },\n  /**\n   * 根据节点ID,获取由此节点开始，连接的其他子节点\n   * @param nodeId\n   * @return Array\n   */\n  getToNodesByNodeId: function getToNodesByNodeId(nodeId) {\n    var nodes = this.where({ from: nodeId });\n    return _.pluck(_.pluck(nodes, 'attributes'), 'to');\n  },\n  /**\n   * 判断是否有自连接的节点\n   */\n  hasSelfJoin: function hasSelfJoin() {\n    return this.filter(function (model) {\n      return model.get('from') === model.get('to');\n    });\n  },\n  /**\n   * 根据节点ID，判断与其连接的是否有子节点\n   * @param nodeId\n   */\n  hasChildNode: function hasChildNode(nodeId) {\n    return this.getToNodesByNodeId(nodeId).length > 0;\n  },\n\n  /**\n   * 是否允许节点关联或融合；判断节点的输入节点是否超过2个\n   * @param nodeId\n   * @return {boolean}\n   */\n  allowNodeMix: function allowNodeMix(nodeId) {\n    return this.getFromNodesByNodeId(nodeId).length >= 2;\n  },\n  /**\n   * 判断是否有孤立，未连接的节点\n   */\n  hasIsolated: function hasIsolated(nodes) {\n    var froms = this.pluck('from'),\n        tos = this.pluck('to');\n    return _.difference(nodes, _.union(froms, tos));\n  }\n});\nNodeConnectionCollection.getInstance = function () {\n  var instance = new NodeConnectionCollection();\n  if (window.localStorage) {\n    var list = util.restoreFromLocalStorage();\n    instance.add(list, { silent: true });\n  }\n  return instance;\n};\nmodule.exports = NodeConnectionCollection;\n\n/***/ }),\n\n/***/ \"MFDE\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * 业务选择弹出遮罩层视图组件\n * @export BusiSelectorView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nvar $ = __webpack_require__(\"7t+N\");\nvar Backbone = __webpack_require__(\"aGLy\");\nvar _ = __webpack_require__(\"rdLu\");\nvar RecommendTypeCollection = __webpack_require__(\"fWFK\");\n\n__webpack_require__(\"LBT6\");\n\nvar BusiSelectorView = Backbone.View.extend({\n  className: 'busi-selector',\n  template: __webpack_require__(\"gY3Z\"),\n  events: {\n    'click [data-action=\"selectBusi\"]': 'selectBusi'\n  },\n  initialize: function initialize(options) {\n    this.onSelect = _.noop;\n    _.extend(this, options);\n    this.recommendTypeCollection = new RecommendTypeCollection();\n    this.listenTo(this.recommendTypeCollection, 'reset', this.renderSelectorView);\n    this.recommendTypeCollection.fetch({ reset: true });\n  },\n  render: function render() {\n    this.$el.html(this.template({ datas: [] }));\n    this.$backdrop = $('<div class=\"content-modal-backdrop\"/>');\n    $('.irec-content').append(this.$backdrop).append(this.$el);\n    return this;\n  },\n  renderSelectorView: function renderSelectorView() {\n    this.$el.html(this.template({ datas: this.recommendTypeCollection.toJSON() }));\n  },\n  closeSelector: function closeSelector() {\n    this.destroy();\n  },\n  selectBusi: function selectBusi(e) {\n    var $target = $(e.target),\n        busiId = $target.closest('.busi-item-box').attr('data-id');\n    this.closeSelector();\n    this.onSelect.call(null, busiId);\n  },\n  destroy: function destroy() {\n    this.$backdrop.remove();\n    this.remove();\n  }\n});\nmodule.exports = BusiSelectorView;\n\n/***/ }),\n\n/***/ \"MWdg\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * 策略流程图使用提示组件\n * @export DiagramTipsView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\n__webpack_require__(\"lv2Q\");\n\nvar DiagramTipsView = Backbone.View.extend({\n  className: 'diagram-tips',\n  template: __webpack_require__(\"A3K+\"),\n  events: {\n    'click .close': 'close'\n  },\n  initialize: function initialize() {\n    this.$el.addClass('alert alert-info');\n  },\n  render: function render() {\n    return this;\n  },\n  show: function show() {\n    this.$el.append(this.template());\n    this.isShow = true;\n    this.$el.fadeIn('fast');\n  },\n  close: function close() {\n    this.$el.empty();\n    this.isShow = false;\n    this.$el.fadeOut('fast');\n  },\n  toggle: function toggle() {\n    this.isShow ? this.close() : this.show();\n  },\n  destroy: function destroy() {\n    this.undelegateEvents();\n    this.stopListening();\n    this.$el.off();\n    this.remove();\n  }\n});\nmodule.exports = DiagramTipsView;\n\n/***/ }),\n\n/***/ \"NXCX\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"ui-tactics-container\">\\n  <h5 >策略流程配置</h5>\\n\t<div class=\"container-table\" style=\"padding:0 5px;\"></div>\\n</div>;\\n';\n\n}\nreturn __p\n}\n\n/***/ }),\n\n/***/ \"NXnP\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar $ = __webpack_require__(\"7t+N\");\nvar _ = __webpack_require__(\"rdLu\");\nvar App = __webpack_require__(\"kE97\");\nvar ModelJoinFieldView = Backbone.View.extend({\n  className: 'joinModelDiv',\n  events: {\n    'click #deleteDiv': 'deleteDiv', //点击删除DIV\n    'click #deleteJoin': 'deleteJoin', //点击删除DIV\n    'change .selectWidth': 'changeSelect' //点击删除DIV\n  },\n  template: __webpack_require__(\"4Xlg\"),\n  initialize: function initialize(options) {\n    //当数据数据加载完毕将第一条数据勾选上\n    _.extend(this, options);\n    this.render();\n  },\n  changeSelect: function changeSelect(e) {\n    var lef = this;\n    this.$(e.target).find('option').each(function (index, domEle) {\n      if (lef.$(domEle).val() != e.target.value) {\n        lef.$(domEle).attr('selected', false);\n      }\n    });\n    this.$(e.target).find(\"option[value='\" + e.target.value + \"']\").attr('selected', true);\n  },\n  /**\n   * 验证\n   */\n  validateConfig: function validateConfig() {\n    var bol = true;\n    this.$el.parent().find('.joinModelDiv select').each(function () {\n      $(this).css({ border: '' });\n      if (this.value == '0') {\n        $(this).css({ border: '1px solid red' });\n        $(this).attr('title', '请选择关联条件!');\n        bol = false;\n      }\n    });\n    this.join_field = this.getJoinFieldData();\n    //數據驗證\n    if (this.join_field != undefined && this.params != undefined) {\n      //var dataValidateConfig = new dataValidateConfig();\n      var msg = this.dataValidateConfig(this.params, this.join_field);\n      if (msg != \"\") {\n        bol = false;\n        App.error(msg);\n      }\n    }\n    return bol;\n  },\n  /**\n   * 組件數據驗證\n   * @param params 輸入節點參數\n   * @param join_fields 已有節點參數校驗\n   */\n  dataValidateConfig: function dataValidateConfig(params, join_fields) {\n    var bool = true;\n    var errorMsg = \"\";\n    for (var i = 0; i < params.length; i++) {\n      bool = false;\n      for (var j = 0; j < join_fields.length; j++) {\n        for (var l = 0; l < join_fields[j].length; l++) {\n          for (var key in join_fields[j][l]) {\n            if (params[i].node_id == key) {\n              bool = true;\n              break;\n            }\n          }\n          if (bool) {\n            break;\n          }\n        }\n      }\n      if (!bool) {\n        errorMsg = params[i].node_name + \"节点未在关联条件中存在！\";\n        break;\n      }\n    }\n    return errorMsg;\n  },\n  /**\n   * 获取组件值\n   */\n  getJoinFieldData: function getJoinFieldData() {\n    var self = this;\n    var join_fields = [];\n    this.joinItemDom.find('.joinModelDiv').each(function (index, domEle) {\n      var join_field = [];\n      for (var i = 1; i < domEle.children.length; i++) {\n        var nodeid = domEle.children[i].children[2].name;\n        var fieldName = domEle.children[i].children[2].value;\n        var json = {};\n        json[nodeid] = fieldName;\n        join_field.push(json);\n      }\n      join_fields.push(join_field);\n    });\n    return join_fields;\n  },\n\n  render: function render() {\n    this.$el.html(this.template({\n      viewType: this.viewType,\n      nodeData: this.nodeData,\n      params: this.params,\n      field: this.join_field\n    }));\n    return this;\n  },\n  //删除关联模型条件\n  deleteJoin: function deleteJoin(e) {\n    var $target = $(e.target).parent('.join-item');\n    if ($target.siblings().length === 2) {\n      App.error('无法删除！关联条件必须选择2个！');\n    } else {\n      $target.remove();\n    }\n  },\n  //删除关联节点DIV\n  deleteDiv: function deleteDiv(e) {\n    if (this.$el.parent().find('.joinModelDiv').length === 1) {\n      App.error('至少添加一个关联条件！');\n    } else {\n      this.$el.fadeOut('fast', function () {\n        $(this).remove();\n      });\n    }\n  },\n  //清空事件\n  destroy: function destroy() {\n    this.undelegateEvents();\n    this.$el.off();\n    this.$el.empty();\n  }\n});\nmodule.exports = ModelJoinFieldView;\n\n/***/ }),\n\n/***/ \"PSHn\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\n\nvar StrategyHistoryModel = Backbone.Model.extend({\n  defaults: {},\n  idAttribute: \"logId\" //到一个从key到 id 的一个透明映射中。\n});\nmodule.exports = StrategyHistoryModel;\n\n/***/ }),\n\n/***/ \"RaMd\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<div class=\"node-title\">\\n\t' +\n((__t = (modelsName)) == null ? '' : __t) +\n'\\n</div>\\n<div class=\"node-config-box\">\\n\t<div class=\"config-box-title\">数据源关联设置</div>\\n\t<div class=\"config-box-content\">\\n\t\t';\nif(viewType==\"view\"){;\n__p += '\\n\t\t\t<div class=\"join-view-type\">\\n\t\t\t\t<span>关联类型：</span>\\n\t\t\t\t<span>' +\n((__t = (nodeData.conf.join_type)) == null ? '' : __t) +\n'</span>\\n\t\t\t</div>\\n\t\t\t<div class=\"join-items\">\\n\\n\t\t\t</div>\\n\t\t';\n}else{;\n__p += '\\n\t\t<div class=\"joinType\">\\n\t\t\t<div class=\"join-row\">\\n\t\t\t\t<span>关联类型：</span>\\n\t\t\t\t<select style=\"width: 60%;\" class=\"joinTypeSelect\">\\n\t\t\t\t\t<option value =\"INNER\" ' +\n((__t = (nodeData.conf && nodeData.conf.join_type==\"INNER\"?\"selected\":\"\")) == null ? '' : __t) +\n'>INNER</option>\\n\t\t\t\t\t<option value =\"OUTER\" ' +\n((__t = (nodeData.conf && nodeData.conf.join_type==\"OUTER\"?\"selected\":\"\")) == null ? '' : __t) +\n'>OUTER</option>\\n\t\t\t\t</select>\\n\t\t\t</div>\\n\t\t\t<div class=\"join-row\">\\n\t\t\t\t<span id=\"addJoin\" class=\"btn-add-join\">\\n\t\t\t\t\t<i  class=\"iconfont icon-icon02\"></i>添加关联条件\\n\t\t\t\t</span>\\n\t\t\t</div>\\n\t\t\t<div class=\"join-items\">\\n\\n\t\t\t</div>\\n\t\t</div>\\n\t\t';\n};\n__p += '\\n\t</div>\\n</div>\\n';\n\n}\nreturn __p\n}\n\n/***/ }),\n\n/***/ \"Sh8O\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"StaT\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"UL2X\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar $ = __webpack_require__(\"7t+N\");\nvar _ = __webpack_require__(\"rdLu\");\nvar FieldFilterView = Backbone.View.extend({\n  events: {},\n  template: __webpack_require__(\"eV6Y\"),\n  initialize: function initialize(options) {\n    _.extend(this, options);\n    this.renderView();\n  },\n  getFilterData: function getFilterData() {\n    var cond_exp = [];\n    for (var i = 0; i < this.$el[0].children.length; i++) {\n      var filterDiv = this.$el[0].children[i].children;\n      if (filterDiv.length == 4) {\n        var json = {};\n        json[filterDiv[1].value] = [filterDiv[0].value, filterDiv[2].value];\n        cond_exp.push(json);\n      }\n    }\n    return cond_exp;\n  },\n  destroy: function destroy() {\n    this.undelegateEvents();\n    this.$el.off();\n    this.$el.empty();\n  },\n  renderView: function renderView() {\n    this.$el.append(this.template({\n      datas: this.field,\n      cond_exps: this.cond_exps,\n      viewType: this.viewType\n    }));\n  }\n});\n\nmodule.exports = FieldFilterView;\n\n/***/ }),\n\n/***/ \"Umb4\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar NavMenu = __webpack_require__(\"v2Nc\");\n\nvar NavMenuCollection = Backbone.Collection.extend({\n  model: NavMenu,\n  url: '',\n  //取消所有菜单激活选中状态\n  unActive: function unActive() {\n    var activatedMenu = this.findWhere({ active: true });\n    activatedMenu && activatedMenu.set({ active: false });\n  }\n});\nmodule.exports = NavMenuCollection;\n\n/***/ }),\n\n/***/ \"UpkV\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar StrategyMgrModel = __webpack_require__(\"WtOp\");\n\nvar StrategyMgrCollection = Backbone.Collection.extend({\n  model: StrategyMgrModel\n});\nmodule.exports = StrategyMgrCollection;\n\n/***/ }),\n\n/***/ \"VEcT\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar _ = __webpack_require__(\"rdLu\");\nvar $ = __webpack_require__(\"7t+N\");\nvar StrategyDetailView = __webpack_require__(\"C/b2\");\nvar StrategyHistoryView = __webpack_require__(\"pN6t\");\nvar StrategyModelLogsView = __webpack_require__(\"xmkW\");\nvar DiagramView = __webpack_require__(\"FfQT\");\n\n__webpack_require__(\"Sh8O\");\n__webpack_require__(\"7nbV\");\n__webpack_require__(\"+Tc7\");\n\nvar StrategyDetailsMain = Backbone.View.extend({\n  initialize: function initialize(options) {\n    _.extend(this, options);\n    this.detailView = new StrategyDetailView({\n      strategieId: this.strategieId,\n      onload: _.bind(this.loadDiagram, this)\n    });\n    this.historyView = new StrategyHistoryView({\n      strategieId: this.strategieId\n    });\n    this.modelLogsView = new StrategyModelLogsView({\n      strategieId: this.strategieId\n    });\n    this.diagramView = new DiagramView({\n      editModel: false\n    });\n  },\n  loadDiagram: function loadDiagram() {\n    var diagramConfig = this.detailView.getDiagramConfigJSON();\n    this.diagramView.show(diagramConfig);\n  },\n  render: function render() {\n    var tpl = __webpack_require__(\"NXCX\");\n    var $container = $(tpl());\n    this.$el.append(this.detailView.render().el);\n    this.$el.append(this.historyView.render().el);\n    this.$el.append($container);\n    $('.container-table', $container).append(this.diagramView.render().el);\n    this.$el.append(this.modelLogsView.render().el);\n  },\n  destroy: function destroy() {\n    this.detailView.destroy();\n    this.historyView.destroy();\n    this.modelLogsView.destroy();\n    this.diagramView.destroy();\n    this.undelegateEvents();\n    this.stopListening();\n  }\n});\n\nmodule.exports = StrategyDetailsMain;\n\n/***/ }),\n\n/***/ \"VZB+\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(_) {\n\n/**\n * 节点连线Model\n * @export NodeConnection\n * @extends Backbone.Model\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\n\nvar NodeConnection = Backbone.Model.extend({\n  defaults: function defaults() {\n    return {\n      id: _.uniqueId()\n    };\n  }\n});\n\nmodule.exports = NodeConnection;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"rdLu\")))\n\n/***/ }),\n\n/***/ \"WlOc\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar sync = Backbone.sync;\nvar API_ROOT_URL = '/irec/';\nBackbone.Model.prototype.parse = function (response, options) {\n  return response.data || response;\n};\nBackbone.Collection.prototype.parse = function (response, options) {\n  if (!response.data) {\n    // this.trigger('error', this, response, options);\n    // return [];\n  }\n  return response.data || response;\n};\n\nBackbone.sync = function (method, model, options) {\n  options.beforeSend = function () {\n    this.url = API_ROOT_URL + (this.url.substr(0, 1) === '/' ? this.url.substr(1) : this.url);\n  };\n  return sync.call(this, method, model, options);\n};\n\n/***/ }),\n\n/***/ \"WqAD\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\n\nvar RecommendTypeModel = Backbone.Model.extend({\n  urlRoot: 'businesses/count',\n  defaults: {\n    \"selected\": false //选中的策略类型\n  },\n  initialize: function initialize() {},\n  idAttribute: \"busiCode\", //到一个从key到 id 的一个透明映射中。\n  updateSelected: function updateSelected(boole) {\n    this.set({ \"selected\": boole });\n  }\n});\n\nmodule.exports = RecommendTypeModel;\n\n/***/ }),\n\n/***/ \"WtOp\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\n\nvar StrategyMgrModel = Backbone.Model.extend({\n  idAttribute: \"strategyId\" //到一个从key到 id 的一个透明映射中。\n});\n\nmodule.exports = StrategyMgrModel;\n\n/***/ }),\n\n/***/ \"XqRw\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * 弹窗组件\n * @export ModalView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\nvar $ = __webpack_require__(\"7t+N\");\nvar _ = __webpack_require__(\"rdLu\");\n__webpack_require__(\"WlOc\");\n__webpack_require__(\"ok1o\");\n\nvar ModalView = Backbone.View.extend({\n  className: 'modal fade',\n  title: 'Modal Title',\n  template: __webpack_require__(\"nwP+\"),\n  showCloseButton: true,\n  backdrop: true,\n  showHeader: true,\n  width: 600,\n  buttons: [],\n  onHide: $.noop,\n  onShow: $.noop,\n  events: {\n    'click .modal-footer>.btn': '_handleButtonClick'\n  },\n  initialize: function initialize(options) {\n    _.extend(this, options);\n    this.$el.attr({ tabindex: '-1', role: 'dialog' });\n  },\n  render: function render(container) {\n    var self = this;\n    this.$el.append(this.template({\n      title: this.title,\n      showCloseButton: this.showCloseButton,\n      showHeader: this.showHeader,\n      buttons: this.buttons\n    }));\n    if (this.view && this.view instanceof Backbone.View) {\n      this.$('.modal-body').append(this.view.el);\n    } else if (this.content) {\n      this.$('.modal-body').html(this.content);\n    }\n    this.$('.modal-dialog').css({ width: this.width });\n    this.$el.on('hide.bs.modal', function () {\n      self.onHide.call();\n      self.close();\n    }).on('show.bs.modal', function () {\n      self.onShow.call();\n    });\n    this.$el.modal({\n      backdrop: !this.backdrop ? 'static' : true,\n      show: false\n    });\n    return this;\n  },\n  /**\n   * 添加弹窗功能按钮\n   * @param button Object {id:'按钮编码',name:'按钮名称',handler:'按钮处理函数',primary:false}\n   */\n  addButton: function addButton(button) {\n    this.buttons.push(button);\n  },\n  /**\n   * 添加弹窗功能按钮\n   * @param buttons  Array\n   */\n  addButtons: function addButtons(buttons) {\n    this.buttons.concat(buttons);\n  },\n  /**\n   * 设置弹窗内容展示区域\n   * @param tpl\n   * @param val\n   */\n  setContent: function setContent(tpl, val) {\n    this.$('.modal-body').html(tpl({\n      data: val\n    }));\n  },\n  /**\n   * 设置弹窗底部功能区域\n   * @param content\n   */\n  setFooter: function setFooter(content) {\n    this.$('.modal-footer').append(content);\n  },\n  /**\n   * 打开弹窗\n   */\n  open: function open() {\n    this.$el.modal('show');\n  },\n  /**\n   * 组件销毁\n   */\n  close: function close() {\n    if (this.view && this.view instanceof Backbone.View) {\n      var destroyFunc = _.property('destory')(this.view);\n      if (destroyFunc && _.isFunction(destroyFunc)) {\n        this.view.destroy();\n      }\n    }\n    $(document.body).removeClass('modal-open');\n    $('.modal-backdrop').remove();\n    this.buttons = [];\n    this.$el.data('bs.modal', null);\n    this.$el.data('modal', null);\n    this.$el.off();\n    this.remove();\n  },\n  /**\n   * 处理按钮点击事件\n   * @param e\n   * @return {boolean}\n   * @private\n   */\n  _handleButtonClick: function _handleButtonClick(e) {\n    var dataId = $(e.target).attr('data-id'),\n        button = _.findWhere(this.buttons, { id: dataId });\n    if (button && button.handler) {\n      if (_.isFunction(button.handler)) {\n        var result = button.handler.apply(this);\n        if (result === true) {\n          this.$el.modal('hide');\n        }\n      }\n      if (_.isString(button.handler)) {\n        if (button.handler === 'close') {\n          this.$el.modal('hide');\n        }\n      }\n    }\n    return false;\n  }\n});\nmodule.exports = ModalView;\n\n/***/ }),\n\n/***/ \"YhFD\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"aFww\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(_) {module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<div class=\"ui-tactics-container\">\\n\t<h5>策略相关模型执行状态</h5>\\n\t<div  class=\"container-table\">\\n\t\t<table class=\"common-table\">\\n\t\t\t<thead>\\n\t\t\t<tr >\\n\t\t\t\t<th style=\"width:5%;\">序号</th>\\n\t\t\t\t<th style=\"width:35%;\">模板名称</th>\\n\t\t\t\t<th style=\"width:35%;\">状态</th>\\n\t\t\t\t<th style=\"width:20%;\">更新时间</th>\\n\t\t\t</tr>\\n\t\t\t</thead>\\n\t\t\t<tbody>\\n\t\t\t';\n _.each(data,function(data,i){ ;\n__p += '\\n\t\t\t<tr class=\"content-table-tr\">\\n\t\t\t\t<td class=\"text-center\">' +\n((__t = (i++)) == null ? '' : __t) +\n'</td>\\n\t\t\t\t<td class=\"text-center\">' +\n((__t = (data.modelName)) == null ? '' : __t) +\n'</td>\\n\t\t\t\t<td class=\"text-center\">' +\n((__t = (data.dealState)) == null ? '' : __t) +\n'</td>\\n\t\t\t\t<td class=\"text-center\">' +\n((__t = (data.updateTime)) == null ? '' : __t) +\n'</td>\\n\t\t\t</tr>\\n\t\t\t';\n }) ;\n__p += '\\n\t\t\t</tbody>\\n\t\t</table>\\n\t</div>\\n</div>';\n\n}\nreturn __p\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"rdLu\")))\n\n/***/ }),\n\n/***/ \"aJUM\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * 策略流程图数据节点对象视图组件\n * @export DataNodeView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\nvar $ = __webpack_require__(\"7t+N\");\nvar _ = __webpack_require__(\"rdLu\");\nvar DataNode = __webpack_require__(\"euKX\");\n__webpack_require__(\"F8S1\");\n\nvar DataNodeView = Backbone.View.extend({\n  selector: {\n    NODE_PORT: '.node-port'\n  },\n  template: __webpack_require__(\"mBmd\"),\n  events: {\n    click: 'select',\n    mouseout: '_handleMouseLeave',\n    'dblclick .data-node-input': '_handleNodeInput',\n    'dblclick .tips-content': '_handleNodeInput',\n    'click .data-node-input,.node-tips': '_handlePreventEvent'\n  },\n  initialize: function initialize(option) {\n    _.extend(this, option);\n    this.renderDom();\n    this.$el.css({\n      position: 'absolute',\n      left: this.model.attributes.coordinate.x,\n      top: this.model.attributes.coordinate.y\n    });\n    if (!this.model.isCalcNode()) {\n      this.$el.attr('data-toggle', 'diagram-context');\n    }\n    this.$el.addClass(this.model.isCalcNode() ? 'data-calc-node' : 'data-node');\n    this.$el.css('cursor', 'pointer');\n    this.listenTo(this.model, 'change:conf', this._handleConfChange);\n    this.listenTo(this.model, 'change:type change:status', this.renderDom);\n  },\n  render: function render(container) {\n    this.$el.appendTo(container);\n    this._initNodeDraggable();\n    this.width = this.$el.outerWidth();\n    this.height = this.$el.outerHeight();\n    return this;\n  },\n  /**\n   * 渲染数据节点DOM\n   */\n  renderDom: function renderDom() {\n    this.$el.html(this.template({\n      model: this.model.attributes,\n      layout: this.diagram.layout,\n      NODE_STATUS: DataNode.NODE_STATUS,\n      NODE_TYPE: DataNode.NODE_TYPE\n    }));\n    this.$el.attr({\n      'data-id': this.model.id,\n      'data-type': this.model.get('type'),\n      title: this.model.attributes.txt\n    });\n    this._initNodePortDraggable();\n  },\n  /**\n   * 初始化节点的拖拽事件，使节点支持拖拽移动操作\n   * @private\n   */\n  _initNodeDraggable: function _initNodeDraggable() {\n    this.$el.draggable({\n      cancel: this.selector.NODE_PORT,\n      containment: 'parent',\n      start: _.bind(this._handlerNodeDragMove, this),\n      drag: _.bind(this._handlerNodeDragMove, this),\n      stop: _.bind(this._handlerNodeDragMove, this)\n    });\n  },\n  /**\n   * 初始化节点端点的拖拽事件，使端点支持拖拽，拖拽端点时，支持绘制连线\n   */\n  _initNodePortDraggable: function _initNodePortDraggable() {\n    this.$(this.selector.NODE_PORT).draggable({\n      containment: this.$el.parent().parent(),\n      revert: true,\n      helper: function helper() {\n        return '<div/>';\n      },\n      start: _.bind(this._startDrawConnection, this),\n      drag: _.bind(this._drawingConnection, this),\n      stop: _.bind(this._endDrawConnection, this)\n    });\n  },\n  /**\n   * 选中节点\n   * @param e\n   */\n  select: function select(e) {\n    this.diagram.showNodeConfig(this.model.id);\n    this.$el.siblings('.selected').removeClass('selected');\n    this.$el.addClass('selected');\n    if (e) {\n      e.stopPropagation();\n    }\n  },\n  /**\n   * 取消选中节点\n   */\n  unselect: function unselect() {\n    this.$el.removeClass('selected');\n  },\n  /**\n   * 处理数据节点的拖动移动中的事件，拖动中重新绘制与此节点相链接的连线\n   * @param e\n   * @param ui\n   * @private\n   */\n  _handlerNodeDragMove: function _handlerNodeDragMove(e, ui) {\n    var $target = $(e.target),\n        pos = $target.position();\n    if (e.type === 'dragstart') {\n      ui.position.left = 0;\n      ui.position.top = 0;\n      $target.css('cursor', 'move');\n    } else if (e.type === 'drag') {\n      var changeLeft = ui.position.left - ui.originalPosition.left;\n      var newLeft = ui.originalPosition.left + changeLeft / this.diagram.getZoomScale();\n      var changeTop = ui.position.top - ui.originalPosition.top;\n      var newTop = ui.originalPosition.top + changeTop / this.diagram.getZoomScale();\n      ui.position.left = newLeft;\n      ui.position.top = newTop;\n      this.model.set('coordinate', {\n        x: newLeft,\n        y: newTop\n      }, { silent: true });\n      this.diagram.renderConnectionByNodeId(this.model.id);\n    } else if (e.type === 'dragstop') {\n      $(e.originalEvent.target).one('click', function (e) {\n        e.stopImmediatePropagation();\n      });\n      this.model.trigger('change change:coordinate', this.model);\n      $target.css('cursor', 'pointer');\n    }\n  },\n  /**\n   * 处理配置内容变更事件\n   * @private\n   */\n  _handleConfChange: function _handleConfChange(model, conf, option) {},\n\n  _handleMouseLeave: function _handleMouseLeave() {\n    this.$el.css('cursor', '');\n  },\n  /**\n   * 开始绘制图形节点间的连线，添加临时连线端点\n   * @param e\n   * @private\n   */\n  _startDrawConnection: function _startDrawConnection(e) {\n    var $target = $(e.target),\n        $parent = $target.parent(),\n        pos_p = $parent.position(),\n        w = $parent.outerWidth(),\n        h = $parent.outerHeight(),\n        pos_s = $target.position();\n    this.$el.parent().css('cursor', 'crosshair');\n    this.tmpConnection = {\n      from: this.diagram.getConnPortCoord(this.diagram.layout, true, pos_p.left, pos_p.top, w, h),\n      startCoord: {\n        sx: pos_p.left + (pos_s.left + $target.outerWidth() / 2),\n        sy: pos_p.top + (pos_s.top + $target.outerHeight() / 2),\n        x: e.clientX,\n        y: e.clientY\n      }\n    };\n  },\n  /**\n   *连线中\n   * @param e\n   * @private\n   */\n  _drawingConnection: function _drawingConnection(e) {\n    var $target = $(e.target);\n    var conn = this._drawTempConnection(e, $target);\n    // 判断划线是否经过数据节点\n    var result = this._allowConnect(e);\n    if (!result.allow) {\n      conn && conn.line && conn.line.stop();\n      if (result.$ele) {\n        result.$ele.css('cursor', 'not-allowed');\n      }\n    } else {\n      result.$ele.css('cursor', 'wait');\n      conn && conn.line && conn.line.animate(this.diagram.animation.line);\n    }\n  },\n\n  /**\n   * 绘制连线拖动中的临时连线\n   * @param e\n   * @returns {*|Raphael.Element}\n   * @private\n   */\n  _drawTempConnection: function _drawTempConnection(e) {\n    var startCoord = this.tmpConnection.startCoord;\n    this.tmpConnection['to'] = this.diagram.getConnPortCoord(this.diagram.layout, false, this.tmpConnection.from.x + (e.clientX - startCoord.x), this.tmpConnection.from.y + (e.clientY - startCoord.y));\n    return this.diagram.renderTempConnection(this.tmpConnection);\n  },\n  /**\n   * 结束绘制节点间的连线，添加线条结束端点circle\n   * @param e\n   * @private\n   */\n  _endDrawConnection: function _endDrawConnection(e) {\n    var self = this,\n        conn = this._drawTempConnection(e),\n        line = conn && conn.line,\n        path = line && line.attr('path');\n\n    var result = this._allowConnect(e);\n    if (!result.allow) {\n      line && line.animate({ path: path[0] }, 200, '>', function () {\n        self.diagram.removeTempConnection();\n      });\n      if (result.$ele) {\n        result.$ele.css('cursor', 'pointer');\n      }\n    } else {\n      this.diagram.addConnection(this.model.id, result.id);\n      this.diagram.removeTempConnection();\n      result.$ele.css('cursor', 'pointer');\n    }\n    this.$el.parent().css('cursor', '');\n    delete this.tmpConnection;\n  },\n  /**\n   * 判断是否拖动至数据节点或计算节点\n   * @param $el\n   * @returns {null|Object} 返回节点id、节点类型，如果未拖动到数据节点，返回null\n   * @private\n   */\n  _judgeOverDataNode: function _judgeOverDataNode($el) {\n    var $dataNode = $el.closest('.data-node,.data-calc-node');\n    if ($dataNode.length > 0) {\n      return {\n        id: $dataNode.attr('data-id'),\n        isCalcNode: $dataNode.hasClass('data-calc-node'),\n        $ele: $dataNode\n      };\n    } else {\n      return null;\n    }\n  },\n  /**\n   * 判断是否允许两个节点连接\n   * @param  e\n   * @return Object\n   * @private\n   */\n  _allowConnect: function _allowConnect(e) {\n    var overEle = this._judgeOverDataNode($(e.originalEvent.target));\n    // 连线经过数据节点或计算节点时\n    if (!overEle) return { allow: false };\n    //自连接或者已经连接\n    if (overEle.id === this.model.id || this.diagram.isConnected(this.model.id, overEle.id)) return { allow: false, $ele: overEle.$ele };\n    if (\n    //连线from：数据节点  to：计算节点\n    !this.model.isCalcNode() && overEle.isCalcNode ||\n    //连线from: 计算节点  to: 计算节点\n    this.model.isCalcNode() && overEle.isCalcNode) {\n      return { allow: true, $ele: overEle.$ele, id: overEle.id };\n    }\n    return { allow: false, $ele: overEle.$ele };\n  },\n  /**\n   * 阻止事件冒泡\n   * @return {boolean}\n   * @private\n   */\n  _handlePreventEvent: function _handlePreventEvent() {\n    return false;\n  },\n  /**\n   * 处理计算节点名称、节点备注信息录入\n   * @param e\n   * @return {boolean}\n   * @private\n   */\n  _handleNodeInput: function _handleNodeInput(e) {\n    var $target = $(e.currentTarget),\n        $input = $('<textarea maxlength=\"18\"/>'),\n        self = this;\n    if ($target.hasClass('has-content')) {\n      $input.val($.trim($target.text()));\n    }\n    $target.html($input);\n    $input.focus().select();\n    $input.click(function () {\n      $(this).focus();\n    }).blur(function () {\n      var val = $.trim($(this).val());\n      if (val === '') {\n        $target.removeClass('has-content');\n        val = $target.attr('title');\n      } else {\n        $target.addClass('has-content');\n      }\n      self.model.set($target.hasClass('tips-content') ? 'desc' : 'alias', val);\n      $(this).off();\n      $target.html(val);\n    });\n    return false;\n  },\n  /**\n   * 添加节点备注\n   */\n  addComment: function addComment() {\n    this.$el.find('.node-tips').fadeIn();\n  },\n  /**\n   * 节点边框高亮闪烁动画\n   */\n  highlight: function highlight() {\n    var self = this;\n    (function loopingFunction(times) {\n      self.$el.toggleClass('warning');\n      if (times < 10) {\n        setTimeout(function () {\n          loopingFunction(times + 1);\n        }, 300);\n      } else {\n        self.$el.removeClass('warning');\n      }\n    })(0);\n  },\n  /**\n   * 组件销毁方法\n   */\n  destroy: function destroy() {\n    this.undelegateEvents();\n    this.stopListening();\n    if (this.$el.hasClass('ui-draggable')) {\n      this.$el.draggable('destroy');\n    }\n    if (this.$(this.selector.NODE_PORT).hasClass('ui-draggable')) {\n      this.$(this.selector.NODE_PORT).draggable('destroy');\n    }\n    this.$(this.selector.NODE_PORT).off();\n    this.$('.data-node-input').off();\n    this.$el.off();\n    this.remove();\n  }\n});\nmodule.exports = DataNodeView;\n\n/***/ }),\n\n/***/ \"abAR\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(_) {module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n\n_.each(obj,function(menu){;\n__p += '\\n\t';\nif(menu.active){;\n__p += '\\n\t<li data-value=\"' +\n((__t = (menu.id)) == null ? '' : __t) +\n'\" class=\"active\">' +\n((__t = (menu.name)) == null ? '' : __t) +\n'</li>\\n\t';\n};\n__p += '\\n\t';\nif(!menu.active){;\n__p += '\\n\t<li data-value=\"' +\n((__t = (menu.id)) == null ? '' : __t) +\n'\" >' +\n((__t = (menu.name)) == null ? '' : __t) +\n'</li>\\n\t';\n};\n__p += '\\n';\n});\n\n\n}\nreturn __p\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"rdLu\")))\n\n/***/ }),\n\n/***/ \"b26c\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Mock = __webpack_require__(\"zNUS\");\nMock.mock(/\\/irec\\/businesses\\/count/, {\n  success: true,\n  message: '',\n  data: [{\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    busiName: '视频推荐',\n    busiDesc: null,\n    busiIcon: 'ui-vedio',\n    count: 19\n  }, {\n    busiCode: 'ffcbd942a9c54c8f8e805e88257fceb7',\n    busiName: '音乐推荐',\n    busiDesc: null,\n    busiIcon: 'ui-music',\n    count: 0\n  }, {\n    busiCode: '962c3659fb4c4f9792d6a6dcd3e506f5',\n    busiName: '应用推荐',\n    busiDesc: null,\n    busiIcon: 'ui-app',\n    count: 0\n  }, {\n    busiCode: '351d4e4108b340649cfa2fab9a989135',\n    busiName: '游戏推荐',\n    busiDesc: null,\n    busiIcon: 'ui-game',\n    count: 0\n  }, {\n    busiCode: '1c9aeac84317474dad5e7bba880c68eb',\n    busiName: '套餐推荐',\n    busiDesc: null,\n    busiIcon: 'ui-something',\n    count: 0\n  }]\n});\n\nMock.mock(/\\/irec\\/businesses\\/4c1105f55fde46f38d4f33c1c4793c32\\/models\\/public/, {\n  success: true,\n  message: '',\n  data: [{\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    modelId: '61c1b7c205b944189cd242640743254c',\n    modelName: '咪咕存量用户'\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    modelId: '639029f9cc6941c49261b1981a0054ea',\n    modelName: '用户视频分类偏好'\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    modelId: '9c56c0e37fd04a08ab7a39357fb8f6d0',\n    modelName: '咪咕视频信息表'\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    modelId: 'b16e27014b4448198c7b06b330d6b1d5',\n    modelName: '物品关联列表'\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    modelId: 'c6e871dcb24e4d1993fddeada7c388eb',\n    modelName: '用户视频访问打分'\n  }]\n});\n\nMock.mock(/\\/irec\\/models\\/\\w+\\/fieldsAndLogs/, {\n  success: true,\n  message: '',\n  data: {\n    modelId: '61c1b7c205b944189cd242640743254c',\n    cycle: '1',\n    dataCount: 567890,\n    updateTime: '2017-11-05 02:11:00',\n    fieldList: [{ fieldDesc: '入网时长', fieldName: 'TIMELONG', fieldType: 'STRING' }, { fieldDesc: '电话号码', fieldName: 'PHONE', fieldType: 'STRING' }, { fieldDesc: '入网时间', fieldName: 'DATETIME', fieldType: 'STRING' }]\n  }\n});\n\nMock.mock(/\\/irec\\/enumDics\\/STRATEGY_STATE/, {\n  success: true,\n  message: '',\n  data: [{ enumGroup: 'STRATEGY_STATE', enumKey: 1, enumValue: '待执行' }, { enumGroup: 'STRATEGY_STATE', enumKey: 2, enumValue: '执行中' }, { enumGroup: 'STRATEGY_STATE', enumKey: 3, enumValue: '完成' }, { enumGroup: 'STRATEGY_STATE', enumKey: 4, enumValue: '错误' }]\n});\n\nMock.mock(/\\/irec\\/businesses\\/\\w+\\/strategies\\/strategyState\\/count/, {\n  success: true,\n  message: '',\n  data: [{ strategyState: '1', count: 18 }, { strategyState: '2', count: 5 }, { strategyState: '3', count: 3 }]\n});\n\nMock.mock(/\\/irec\\/businesses\\/\\w+\\/strategies(\\?\\S*)*/, {\n  success: true,\n  message: '',\n  data: [{\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: 'f646b62434364e138472a4c8a33b2d09',\n    strategyName: '咪咕视频推荐策略测试',\n    strategyState: '1',\n    createTime: '2017-12-13',\n    cycle: 1,\n    executeState: -1,\n    endTime: '2017-12-13',\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: '325b01315d224593a003bd131ecc5370',\n    strategyName: '李裴测试1',\n    strategyState: '1',\n    createTime: '2017-12-13',\n    cycle: 1,\n    executeState: -1,\n    endTime: '2017-12-13',\n    dataCount: 4623635,\n    updateTimes: 1\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: '4bc229d5cb944d7f8fd903f4129236a0',\n    strategyName: '李裴测试2',\n    strategyState: '1',\n    createTime: '2017-12-13',\n    cycle: 1,\n    executeState: -1,\n    endTime: '2017-12-13',\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: '1234b8bb4ce2440eaa1ac48bbc595084',\n    strategyName: '李裴测试11',\n    strategyState: '1',\n    createTime: '2017-12-13 07:12:00',\n    cycle: 1,\n    executeState: -1,\n    endTime: '2017-12-13',\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: '1e14bc12bc77405ebd7d4d3feb2ed34a',\n    strategyName: '李毅测试',\n    strategyState: '1',\n    createTime: '2017-12-12 06:12:00',\n    cycle: 1,\n    executeState: -1,\n    endTime: '2017-12-13',\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: '99183b769e1a483e90736c3f3f59c857',\n    strategyName: '推荐策略测试',\n    strategyState: '1',\n    createTime: '2017-12-08 07:12:00',\n    cycle: 1,\n    executeState: 1,\n    endTime: null,\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: '7d8e19c3e2414b149e5d91f44efb8c5f',\n    strategyName: '推荐策略测试',\n    strategyState: '1',\n    createTime: '2017-12-08 07:12:00',\n    cycle: 2,\n    executeState: 1,\n    endTime: null,\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: '4e6f490a5e014886ad4516b1cae57b0c',\n    strategyName: '推荐策略测试',\n    strategyState: '1',\n    createTime: '2017-12-08 07:12:00',\n    cycle: 2,\n    executeState: 1,\n    endTime: null,\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: '80021834820f4bdfaf4af37b0c399c70',\n    strategyName: '推荐策略测试',\n    strategyState: '1',\n    createTime: '2017-12-08 07:12:00',\n    cycle: 1,\n    executeState: 1,\n    endTime: null,\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: 'a10e42cbe9d54a89893ed117c1ced4db',\n    strategyName: '测试策略',\n    strategyState: '1',\n    createTime: '2017-12-08 07:12:00',\n    cycle: 2,\n    executeState: 1,\n    endTime: null,\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: 'cb8b198a30914f21849c0cfd1f807b3b',\n    strategyName: '策略名称测试2',\n    strategyState: '2',\n    createTime: '2017-11-22 08:11:00',\n    cycle: 2,\n    executeState: 1,\n    endTime: null,\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: '3a6281fd3ff04a61bcb3563faba69d6f',\n    strategyName: '存量用户推荐策略2',\n    strategyState: '1',\n    createTime: '2017-11-21 02:11:00',\n    cycle: 2,\n    executeState: 1,\n    endTime: '2017-11-05 02:11:00',\n    dataCount: 123456,\n    updateTimes: 5\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: 'aed1809bf94c472496ba5029a168901f',\n    strategyName: '存量用户推荐策略7',\n    strategyState: '3',\n    createTime: '2017-11-21 02:11:00',\n    cycle: 1,\n    executeState: 1,\n    endTime: null,\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: '67a7036910d04079b13bced276473727',\n    strategyName: '存量用户推荐策略6',\n    strategyState: '2',\n    createTime: '2017-11-21 02:11:00',\n    cycle: 1,\n    executeState: 1,\n    endTime: null,\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: '1f6ac43d273747028859539869013bd2',\n    strategyName: '存量用户推荐策略3',\n    strategyState: '1',\n    createTime: '2017-11-21 02:11:00',\n    cycle: 1,\n    executeState: 1,\n    endTime: null,\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: 'a90cd04b9b124caf83afd78d8e26509c',\n    strategyName: '存量用户推荐策略4',\n    strategyState: '2',\n    createTime: '2017-11-21 02:11:00',\n    cycle: 1,\n    executeState: 1,\n    endTime: null,\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: '212f45ab93964040b866665296f70784',\n    strategyName: '存量用户推荐策略8',\n    strategyState: '3',\n    createTime: '2017-11-21 02:11:00',\n    cycle: 2,\n    executeState: 1,\n    endTime: null,\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: 'faf3dbe47ffd4cda8931fcba77264eb7',\n    strategyName: '存量用户推荐策略5',\n    strategyState: '2',\n    createTime: '2017-11-21 02:11:00',\n    cycle: 2,\n    executeState: 1,\n    endTime: null,\n    dataCount: null,\n    updateTimes: 0\n  }, {\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    strategyId: 'd4dfc1b368244544be7fd2be425ba53c',\n    strategyName: '存量用户推荐策略9',\n    strategyState: '3',\n    createTime: '2017-11-21 02:11:00',\n    cycle: 1,\n    executeState: 1,\n    endTime: null,\n    dataCount: null,\n    updateTimes: 0\n  }]\n});\n\nMock.mock(/\\/irec\\/strategies\\/\\w+/, {\n  success: true,\n  message: '',\n  data: {\n    strategyId: 'f646b62434364e138472a4c8a33b2d09',\n    strategyName: '咪咕视频推荐策略测试',\n    strategyConf: '{\"nodes\":[{\"id\":\"100\",\"alias\":\"\",\"desc\":\"\",\"conf\":{\"fields\":[{\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}],\"cond_exp\":{\"and\":[]}},\"coordinate\":{\"x\":326,\"y\":249},\"status\":11,\"modelId\":\"639029f9cc6941c49261b1981a0054ea\",\"type\":1,\"txt\":\"用户视频分类偏好\",\"icon\":\"icon-shujumoxing-\"},{\"id\":\"105\",\"alias\":\"测试结果\",\"desc\":\"\",\"conf\":{\"cal_type\":\"join\",\"join_type\":\"INNER\",\"join_fields\":[[{\"364\":\"PHONE\"},{\"100\":\"PHONE\"},{\"1022\":\"PHONE\"}]],\"fields\":[{\"nodeId\":\"364\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"364\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"364\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"364\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"364\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"364\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"100\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"100\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"100\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"1022\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"1022\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"1022\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}]},\"coordinate\":{\"x\":566,\"y\":239},\"status\":11,\"type\":999,\"txt\":\"关联\",\"calcType\":\"join\",\"icon\":\"icon-guanlian\"},{\"id\":\"354\",\"alias\":\"\",\"desc\":\"\",\"conf\":{\"fields\":[{\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}],\"cond_exp\":{\"and\":[{\">\":[\"TIMELONG\",\"222\"]},{\">\":[\"PHONE\",\"333\"]}]}},\"coordinate\":{\"x\":54,\"y\":78},\"status\":11,\"modelId\":\"61c1b7c205b944189cd242640743254c\",\"type\":1,\"txt\":\"咪咕存量用户\",\"icon\":\"icon-shujumoxing-\"},{\"id\":\"359\",\"alias\":\"\",\"desc\":\"\",\"conf\":{},\"coordinate\":{\"x\":62,\"y\":191},\"status\":11,\"modelId\":\"639029f9cc6941c49261b1981a0054ea\",\"type\":1,\"txt\":\"用户视频分类偏好\",\"icon\":\"icon-shujumoxing-\"},{\"id\":\"364\",\"alias\":\"个性化结果集\",\"desc\":\"\",\"conf\":{\"cal_type\":\"join\",\"join_type\":\"INNER\",\"join_fields\":[[{\"354\":\"PHONE\"},{\"359\":\"PHONE\"}]],\"fields\":[{\"nodeId\":\"354\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"354\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"354\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"359\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"359\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"359\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}]},\"coordinate\":{\"x\":322,\"y\":118},\"status\":11,\"type\":99,\"txt\":\"关联\",\"calcType\":\"join\",\"icon\":\"icon-guanlian\"},{\"id\":\"1022\",\"alias\":\"\",\"desc\":\"\",\"conf\":{\"fields\":[{\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}]},\"coordinate\":{\"x\":326,\"y\":366},\"status\":11,\"modelId\":\"b16e27014b4448198c7b06b330d6b1d5\",\"type\":1,\"txt\":\"物品关联列表\",\"icon\":\"icon-shujumoxing-\"}],\"connectors\":[{\"id\":\"110\",\"from\":\"364\",\"to\":\"105\"},{\"id\":\"112\",\"from\":\"100\",\"to\":\"105\"},{\"id\":\"379\",\"from\":\"354\",\"to\":\"364\"},{\"id\":\"381\",\"from\":\"359\",\"to\":\"364\"},{\"id\":\"1027\",\"from\":\"1022\",\"to\":\"105\"}]}',\n    strategyDesc: null,\n    cycle: 1,\n    path: null,\n    strategyState: 1,\n    executeState: null,\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    state: 1,\n    creater: null,\n    createTime: '2017-12-13 08:12:00',\n    modifier: null,\n    modifyTime: '2017-12-13 08:12:00',\n    nodeList: [{\n      nodeId: '100',\n      nodeName: '用户视频分类偏好',\n      nodeDesc: '',\n      nodeType: 1,\n      nodeObject: '639029f9cc6941c49261b1981a0054ea',\n      nodeConf: '{\"fields\":[{\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}],\"cond_exp\":{\"and\":[]}}',\n      invokeIndex: 5\n    }, {\n      nodeId: '1022',\n      nodeName: '物品关联列表',\n      nodeDesc: '',\n      nodeType: 1,\n      nodeObject: 'b16e27014b4448198c7b06b330d6b1d5',\n      nodeConf: '{\"fields\":[{\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}]}',\n      invokeIndex: 6\n    }, {\n      nodeId: '105',\n      nodeName: '关联',\n      nodeDesc: '',\n      nodeType: 999,\n      nodeObject: null,\n      nodeConf: '{\"cal_type\":\"join\",\"join_type\":\"INNER\",\"join_fields\":[[{\"364\":\"PHONE\"},{\"100\":\"PHONE\"},{\"1022\":\"PHONE\"}]],\"fields\":[{\"nodeId\":\"364\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"364\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"364\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"364\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"364\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"364\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"100\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"100\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"100\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"1022\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"1022\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"1022\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}]}',\n      invokeIndex: 1\n    }, {\n      nodeId: '354',\n      nodeName: '咪咕存量用户',\n      nodeDesc: '',\n      nodeType: 1,\n      nodeObject: '61c1b7c205b944189cd242640743254c',\n      nodeConf: '{\"fields\":[{\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}],\"cond_exp\":{\"and\":[{\">\":[\"TIMELONG\",\"222\"]},{\">\":[\"PHONE\",\"333\"]}]}}',\n      invokeIndex: 3\n    }, {\n      nodeId: '359',\n      nodeName: '用户视频分类偏好',\n      nodeDesc: '',\n      nodeType: 1,\n      nodeObject: '639029f9cc6941c49261b1981a0054ea',\n      nodeConf: '{}',\n      invokeIndex: 4\n    }, {\n      nodeId: '364',\n      nodeName: '关联',\n      nodeDesc: '',\n      nodeType: 99,\n      nodeObject: null,\n      nodeConf: '{\"cal_type\":\"join\",\"join_type\":\"INNER\",\"join_fields\":[[{\"354\":\"PHONE\"},{\"359\":\"PHONE\"}]],\"fields\":[{\"nodeId\":\"354\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"354\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"354\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"359\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"359\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"359\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}]}',\n      invokeIndex: 2\n    }]\n  }\n});\n\nMock.mock(/\\/irec\\/strategies\\/\\w+\\/history/, {\n  success: true,\n  message: '',\n  data: [{\n    logId: '1',\n    endTime: '2017-10-15',\n    dataCount: '105',\n    dealState: '1'\n  }, {\n    logId: '2',\n    endTime: '2017-10-16',\n    dataCount: '95',\n    dealState: '1'\n  }, {\n    logId: '3',\n    endTime: '2017-10-17',\n    dataCount: '85',\n    dealState: '1'\n  }, {\n    logId: '4',\n    endTime: '2017-10-25',\n    dataCount: '75',\n    dealState: '1'\n  }]\n});\n\nMock.mock(/\\/irec\\/strategies\\/\\w+\\/modelState/, {\n  success: true,\n  message: '',\n  data: []\n});\n\n/***/ }),\n\n/***/ \"bHox\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"ui-mind-map ui-next-content\">\\n\t<form class=\"form-horizontal\">\\n\t  <div class=\"form-group\">\\n\t\t<label for=\"strategyName\" class=\"col-sm-4 control-label\">策略名称：</label>\\n\t\t<div class=\"col-sm-6\">\\n\t\t\t<input type=\"text\" class=\"form-control\" id=\"strategyName\" name=\"strategyName\"  placeholder=\"策略名称\" value=\"' +\n((__t = (data.strategyName||'')) == null ? '' : __t) +\n'\">\\n\t\t\t<span class=\"help-block hidden\"></span>\\n\t\t</div>\\n\t  </div>\\n\t  <div class=\"ui-form-line\"></div>\\n\t  <div class=\"form-group\">\\n\t\t<label for=\"cycle1\" class=\"col-sm-4 control-label\">更新周期：</label>\\n\t\t<div class=\"col-sm-6\" style=\"margin-top: -25px;\">\\n\t\t  <p class=\"mt30\">\\n\t\t\t  <input type=\"radio\" id=\"cycle1\" name=\"cycle\"  ' +\n((__t = ((!data.cycle||data.cycle=='1')?'checked':'')) == null ? '' : __t) +\n'/>\\n\t\t\t  <label for=\"cycle1\"><span>最小周期列表：</span>一天一次</label>\\n\t\t  </p>\\n\t\t  <p class=\"mt10\">\\n\t\t\t  <input type=\"radio\" id=\"cycle2\" name=\"cycle\" ' +\n((__t = ((data.cycle=='2')?'checked':'')) == null ? '' : __t) +\n'  />\\n\t\t\t  <label for=\"cycle2\"><span>最大周期列表：</span>一周一次</label></p>\\n\t\t</div>\\n\t  </div>\\n\t</form>\\n</div>\\n';\n\n}\nreturn __p\n}\n\n/***/ }),\n\n/***/ \"cLf+\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"container-fluid ui-main ui-main-box clearfix\">\\n\t<div class=\"fleft ui-tactics-manage-menu\"  id=\"strategyLefDiv\">\\n\\n\t</div>\\n\t<div class=\"fleft ui-tactics-manage-content\" id=\"strategyDiv\">\\n\t\t<div id=\"strategyQueryDiv\">\\n\\n\t\t</div>\\n\t\t<div class=\"ui-tactics-list clearfix\" id=\"strategyDataDiv\">\\n\\n\t\t</div>\\n\t</div>\\n</div>\\n';\n\n}\nreturn __p\n}\n\n/***/ }),\n\n/***/ \"eV6Y\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(_) {module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n\nif(viewType==\"view\"){;\n__p += '\\n<div class=\"ui-input-node ui-tactics-item clearfix ui-field\" style=\"border-bottom: 0px;\">\\n\t<span class=\"fleft\" style=\"width: 39%;\">字段名</span>\\n\t<span class=\"fleft\" style=\"width: 20%;float: left;\">运算符</span>\\n\t<span class=\"fleft\" style=\"width: 30%;float: right;\">内容</span>\\n</div>\\n<table class=\"table table-striped ui-table-cell\">\\n';\n};\n__p += '\\n';\n var operations=[\">\",\"<\",\"=\"];\n  if(cond_exps!=undefined){\n\t  _.each(cond_exps.and,function(cond_exp){\n\t\t for (var key in cond_exp){ ;\n__p += '\\n\t\t\t<div class=\"filter-item\">\\n\t\t\t\t';\nif(viewType!=\"view\"){;\n__p += '\\n\t\t\t\t\t<select class=\"filter-field\">\\n\t\t\t\t\t\t';\n _.each(datas,function(data){ ;\n__p += '\\n\t\t\t\t\t\t\t';\nif(data.fieldName==cond_exp[key][0]){ ;\n__p += '\\n\t\t\t\t\t\t\t\t<option value =\"' +\n((__t = (data.fieldName)) == null ? '' : __t) +\n'\"  selected=\"selected\">' +\n((__t = (data.fieldDesc)) == null ? '' : __t) +\n'</option>\\n\t\t\t\t\t\t\t';\n } else{;\n__p += '\\n\t\t\t\t\t\t\t\t<option value =\"' +\n((__t = (data.fieldName)) == null ? '' : __t) +\n'\">' +\n((__t = (data.fieldDesc)) == null ? '' : __t) +\n'</option>\\n\t\t\t\t\t\t\t';\n };\n__p += '\\n\t\t\t\t\t\t';\n }) ;\n__p += '\\n\t\t\t\t\t</select>\\n\t\t\t\t\t<select class=\"filter-operate\">\\n\t\t\t\t\t\t';\n _.each(operations,function(operation){ ;\n__p += '\\n\t\t\t\t\t\t\t';\nif(operation==key){ ;\n__p += '\\n\t\t\t\t\t\t\t\t<option value =\"' +\n((__t = (operation)) == null ? '' : __t) +\n'\"  selected=\"selected\">' +\n((__t = (operation)) == null ? '' : __t) +\n'</option>\\n\t\t\t\t\t\t\t';\n } else{;\n__p += '\\n\t\t\t\t\t\t\t\t<option value =\"' +\n((__t = (operation)) == null ? '' : __t) +\n'\" >' +\n((__t = (operation)) == null ? '' : __t) +\n'</option>\\n\t\t\t\t\t\t\t';\n };\n__p += '\\n\t\t\t\t\t\t';\n }) ;\n__p += '\\n\t\t\t\t\t</select>\\n\t\t\t\t\t<input type=\"text\" class=\"filter-input\" value=\"' +\n((__t = (cond_exp[key][1])) == null ? '' : __t) +\n'\">\\n\t\t\t\t\t<i  class=\"iconfont icon-error filter-delete\"   title=\"删除\"></i>\\n\t\t\t\t';\n}else{;\n__p += '\\n\t\t\t\t\t  <tr>\\n\t\t\t\t\t\t<td class=\"text-center first\" style=\"width: 30%;\">' +\n((__t = (cond_exp[key][0])) == null ? '' : __t) +\n'</td>\\n\t\t\t\t\t\t<td class=\"text-center first\" style=\"width: 20%;\">' +\n((__t = (key)) == null ? '' : __t) +\n'</td>\\n\t\t\t\t\t\t<td class=\"text-center first\" style=\"width: 30%;\">' +\n((__t = (cond_exp[key][1])) == null ? '' : __t) +\n'</td>\\n\t\t\t\t\t  </tr>\\n\t\t\t\t';\n};\n__p += '\\n\t\t\t</div>\\n\t';\n }})\n\tif(viewType==\"view\"){;\n__p += '\\n\t\t</table>\\n\t';\n }\n}else{ ;\n__p += '\\n\t<div class=\"filter-item\">\\n\t\t<select class=\"filter-field\">\\n\t\t\t';\n _.each(datas,function(data){ ;\n__p += '\\n\t\t\t\t<option value =\"' +\n((__t = (data.fieldName)) == null ? '' : __t) +\n'\">' +\n((__t = (data.fieldDesc)) == null ? '' : __t) +\n'</option>\\n\t\t\t';\n }) ;\n__p += '\\n\t\t</select>\\n\t\t<select class=\"filter-operate\">\\n\t\t  ';\n _.each(operations,function(operation){ ;\n__p += '\\n\t\t\t<option value =\"' +\n((__t = (operation)) == null ? '' : __t) +\n'\" >' +\n((__t = (operation)) == null ? '' : __t) +\n'</option>\\n\t\t  ';\n }) ;\n__p += '\\n\t\t</select>\\n\t\t<input type=\"text\" class=\"filter-input\">\\n\t\t<i  class=\"iconfont icon-error filter-delete\"  title=\"删除\"></i>\\n\t</div>\\n';\n};\n__p += '\\n';\n\n}\nreturn __p\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"rdLu\")))\n\n/***/ }),\n\n/***/ \"euKX\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * 数据节点Model\n * @export DataNode\n * @extends Backbone.Model\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\nvar _ = __webpack_require__(\"rdLu\");\n\nvar DataNode = Backbone.Model.extend({\n  defaults: function defaults() {\n    return {\n      id: _.uniqueId(),\n      alias: '',\n      desc: '',\n      conf: {},\n      coordinate: { x: 0, y: 0 },\n      status: 0\n    };\n  },\n  initialize: function initialize() {\n    if (this.get('status') === 0) {\n      if (this.get('type') === DataNode.NODE_TYPE.MODEL) {\n        this.set('status', DataNode.NODE_STATUS.CONF_YES, { silent: true });\n      } else {\n        this.set('status', DataNode.NODE_STATUS.CONF_NOT, { silent: true });\n      }\n    }\n  },\n  /**\n   * 判断是否是操作计算节点\n   * @returns {boolean}\n   */\n  isCalcNode: function isCalcNode() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.OUTPUT.toString() || this.get('type').toString() === DataNode.NODE_TYPE.FINAL_OUTPUT.toString();\n  },\n  /**\n   * 判断是否是模型节点\n   * @return {boolean}\n   */\n  isModelNode: function isModelNode() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.MODEL.toString();\n  },\n  /**\n   * 判断是否是用户节点\n   * @return {boolean}\n   */\n  isUserNode: function isUserNode() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.USER_GROUP.toString();\n  },\n  /**\n   * 判断是否是物品节点\n   * @return {boolean}\n   */\n  isItemNode: function isItemNode() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.ITEM.toString();\n  },\n\n  /**\n   * 判断是否是物品标签节点\n   * @return {boolean}\n   */\n  isLabelNode: function isLabelNode() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.LABEL.toString();\n  },\n  /**\n   * 判断是否是子策略节点\n   * @return {boolean}\n   */\n  isStrategyNode: function isStrategyNode() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.STRATEGY.toString();\n  },\n  /**\n   * 判断是否是规则节点\n   * @return {boolean}\n   */\n  isRuleNode: function isRuleNode() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.RULE.toString();\n  },\n  /**\n   * 判断是否是SQL节点\n   * @return {boolean}\n   */\n  isSqlNode: function isSqlNode() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.SQL.toString();\n  },\n  /**\n   * 判断是否是导入节点\n   * @return {boolean}\n   */\n  isImportNode: function isImportNode() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.IMPORT.toString();\n  },\n  /**\n   * 判断是否是最终推荐结果节点\n   * @return {boolean}\n   */\n  isFinalNode: function isFinalNode() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.FINAL_OUTPUT.toString();\n  },\n  /**\n   * 设置为最终推荐结果节点\n   */\n  asFinalNode: function asFinalNode() {\n    this.set('type', DataNode.NODE_TYPE.FINAL_OUTPUT);\n  },\n  /**\n   * 取消设置为最终推荐结果节点\n   */\n  cancelAsFinalNode: function cancelAsFinalNode() {\n    this.set('type', DataNode.NODE_TYPE.OUTPUT);\n  },\n  /**\n   * 设置节点状态\n   * @param status\n   * @param isSilent\n   */\n  setStatus: function setStatus(status) {\n    var isSilent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    this.set('status', status, { silent: isSilent });\n  },\n  /**\n   * 清楚节点配置对象\n   */\n  clearConfig: function clearConfig() {\n    if (this.get('type') !== DataNode.NODE_TYPE.MODEL) {\n      this.setStatus(DataNode.NODE_STATUS.CONF_NOT);\n    }\n    this.set('conf', {});\n  },\n  /**\n   * 获取节点输出字段\n   */\n  getOutputFields: function getOutputFields() {\n    var conf = this.get('conf');\n    return conf && (conf['fields'] || []);\n  },\n  /**\n   * 获取模型节点配置组件传入参数\n   */\n  getModelNodeConfigParams: function getModelNodeConfigParams() {\n    return { modelId: this.get('modelId') };\n  },\n  /**\n   * 获取模型节点配置组件传入参数\n   * @param dataNodeCol\n   * @param nodeConnectCol\n   */\n  getCalcNodeConfigParams: function getCalcNodeConfigParams(dataNodeCol, nodeConnectCol) {\n    var parentNodes = nodeConnectCol.getFromNodesByNodeId(this.id);\n    if (parentNodes && parentNodes.length > 0) {\n      return _.reduce(parentNodes, function (result, nodeId) {\n        var modelNode = dataNodeCol.get(nodeId);\n        if (!modelNode) {\n          console.error('数据节点' + nodeId + '不存在');\n          return;\n        }\n        var nodeParam = {\n          node_id: modelNode.id,\n          node_name: modelNode.getName()\n        };\n        if (modelNode.isModelNode()) {\n          nodeParam['modelId'] = modelNode.get('modelId');\n          nodeParam['fields'] = modelNode.getOutputFields() || [];\n        } else if (modelNode.isCalcNode()) {\n          nodeParam['fields'] = modelNode.getOutputFields();\n        } else {\n          console.error('此节点类型[' + this.get('type') + ']尚未实现');\n        }\n        result.push(nodeParam);\n        return result;\n      }, []);\n    } else {\n      console.error('操作节点不存在，或操作节点无输入节点连接!');\n      return [];\n    }\n  },\n  /**\n   * 获取模型配置输入参数\n   * @param dataNodeCol\n   * @param nodeConnectCol\n   */\n  getConfigParams: function getConfigParams(dataNodeCol, nodeConnectCol) {\n    var params = void 0;\n    if (this.get('type') === DataNode.NODE_TYPE.MODEL) {\n      params = this.getModelNodeConfigParams();\n    } else if (this.isCalcNode()) {\n      params = this.getCalcNodeConfigParams(dataNodeCol, nodeConnectCol);\n    } else {\n      params = {};\n    }\n    return {\n      params: params,\n      conf: this.get('conf')\n    };\n  },\n  /**\n   * 获取模型名称\n   * @return {*}\n   */\n  getName: function getName() {\n    return this.get('txt');\n  },\n  /**\n   * 验证节点配置\n   * @param attrs\n   */\n  validate: function validate(attrs) {}\n});\nDataNode.NODE_STATUS = {\n  CONF_NOT: 10, // 未配置\n  CONF_YES: 11, //已配置\n  CONF_ERROR: -10, //配置错误\n  PROCESS_WAIT: 20, // 待处理\n  PROCESSING: 21, // 处理中\n  PROCESS_FAILURE: -20, //处理失败\n  PROCESS_SUCCESS: 22 // 处理完成\n};\nDataNode.NODE_TYPE = {\n  MODEL: 1, // 模型节点\n  USER_GROUP: 2, // 用户群节点\n  ITEM: 3, // 物品/产品节点\n  LABEL: 4, // 标签节点\n  STRATEGY: 5, // 子策略节点\n  RULE: 6, // 规则节点\n  SQL: 7, // SQL节点\n  IMPORT: 8, // 文本导入节点\n  OUTPUT: 99, //输出节点\n  FINAL_OUTPUT: 999 //最终推荐结果节点\n};\n/**\n * 根据节点类型ID，获取节点类型CODE\n * @param nodeTypeId\n */\nDataNode.getNodeTypeCode = function (nodeTypeId) {\n  return _.invert(DataNode.NODE_TYPE)[parseInt(nodeTypeId)];\n};\nmodule.exports = DataNode;\n\n/***/ }),\n\n/***/ \"evK5\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(_) {module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<ul class=\"ui-tactics-manage-type\">\\n';\n _.each(datas,function(data){ ;\n__p += '\\n\t';\n if(data.selected){ ;\n__p += '\\n\t\t<li class=\"active\" data-value=\"' +\n((__t = (data.busiCode)) == null ? '' : __t) +\n'\">\\n\t\t\t<i class=\"' +\n((__t = (data.busiIcon)) == null ? '' : __t) +\n'\"></i>\\n\t\t\t<span>' +\n((__t = (data.busiName)) == null ? '' : __t) +\n'' +\n((__t = (data.count)) == null ? '' : __t) +\n'</span>\\n\t\t</li>\\n\t';\n }else{ ;\n__p += '\\n\t\t<li data-value=\"' +\n((__t = (data.busiCode)) == null ? '' : __t) +\n'\">\\n\t\t\t<i class=\"' +\n((__t = (data.busiIcon)) == null ? '' : __t) +\n'\"></i>\\n\t\t\t<span>' +\n((__t = (data.busiName)) == null ? '' : __t) +\n'' +\n((__t = (data.count)) == null ? '' : __t) +\n'</span>\\n\t\t</li>\\n';\n }}) ;\n__p += '\\n</ul>\\n\\n';\n\n}\nreturn __p\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"rdLu\")))\n\n/***/ }),\n\n/***/ \"fWFK\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar RecommendTypeModel = __webpack_require__(\"WqAD\");\n\nvar RecommendTypeCollection = Backbone.Collection.extend({\n  model: RecommendTypeModel,\n  url: 'businesses/count'\n});\nmodule.exports = RecommendTypeCollection;\n\n/***/ }),\n\n/***/ \"fyoS\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(_) {module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<ul class=\"diagram-menu\">\\n\t';\n_.each(menus,function(menu){;\n__p += '\\n\t';\nif (menu.type && menu.type===\"separator\"){;\n__p += '\\n\t<li class=\"separator\"></li>\\n\t';\n}else{;\n__p += '\\n\t<li data-action=\"' +\n((__t = (menu.handler)) == null ? '' : __t) +\n'\">\\n\t\t<i class=\"iconfont ' +\n((__t = (menu.icon)) == null ? '' : __t) +\n'\"></i>\\n\t\t<span>' +\n((__t = (menu.name)) == null ? '' : __t) +\n'</span>\\n\t</li>\\n\t';\n};\n__p += '\\n\t';\n});\n__p += '\\n</ul>';\n\n}\nreturn __p\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"rdLu\")))\n\n/***/ }),\n\n/***/ \"gPQY\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar $ = __webpack_require__(\"7t+N\");\nvar _ = __webpack_require__(\"rdLu\");\nvar eventAcrossView = _.extend({}, Backbone.Events);\nvar RecommendTypeView = Backbone.View.extend({\n  events: {\n    'click li': 'clickRecedType' //点击业务选项处理事件\n  },\n  template: __webpack_require__(\"evK5\"),\n  initialize: function initialize(busiCode) {\n    //当数据数据加载完毕将第一条数据勾选上\n    _.extend(this, busiCode);\n    if (this.collection.length > 0 && this.busiCode == null) {\n      this.collection.get(this.collection.toJSON()[0].busiCode).updateSelected(true);\n    } else {\n      this.collection.get(this.busiCode).updateSelected(true);\n    }\n    this.listenTo(this.collection, 'add', this.renderView());\n    this.listenTo(this.collection, 'change', this.renderView);\n  },\n  render: function render() {\n    return this;\n  },\n  renderView: function renderView() {\n    //处理数据初始化后选中第一个;\n    this.$el.html(this.template({\n      datas: this.collection.toJSON()\n    }));\n  },\n  clickRecedType: function clickRecedType(e) {\n    var val = $(e.currentTarget).attr('data-value');\n    //循环找出已经选择的业务修改选择状态\n    for (var i = 0; i < this.collection.length; i++) {\n      this.collection.get(this.collection.models[i].id).updateSelected(false);\n    }\n    this.collection.get(val).updateSelected(true);\n    //当点击业务菜单时候将业务ID添加在路由上面同时路由方法可以获取ID\n    //Backbone.history.navigate('strategies/manage/'+val,{ trigger: true });\n    //调用策略列表显示方法\n    Backbone.trigger('clickRecedType', val);\n  },\n  destroy: function destroy() {\n    this.undelegateEvents();\n    this.stopListening();\n  }\n});\n\nmodule.exports = RecommendTypeView;\n\n/***/ }),\n\n/***/ \"gY3Z\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(_) {module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<div class=\"modal-dialog\" role=\"document\" style=\"width:500px;\">\\n\t<div class=\"modal-content\">\\n\t\t<div class=\"modal-header\">\\n\t\t\t<h4 class=\"modal-title\">请选择营销推荐业务</h4>\\n\t\t</div>\\n\t\t<div class=\"modal-body\">\\n\t\t\t';\n _.each(datas,function(data,idx){ ;\n__p += '\\n\t\t\t';\n if(idx%4 === 0){;\n__p += '\\n\t\t\t<div class=\"row busi-item-row\" >\\n\t\t\t';\n};\n__p += '\\n\t\t\t\t<div class=\"col-md-3\">\\n\t\t\t\t\t<div class=\"busi-item-box\" data-id=\"' +\n((__t = (data.busiCode)) == null ? '' : __t) +\n'\">\\n\t\t\t\t\t\t<div class=\"busi-item-icon\">\\n\t\t\t\t\t\t\t<i  class=\"iconfont ' +\n((__t = (data.busiIcon)) == null ? '' : __t) +\n'\"></i>\\n\t\t\t\t\t\t</div>\\n\t\t\t\t\t\t<div class=\"busi-item-txt\">\\n\t\t\t\t\t\t\t' +\n((__t = (data.busiName)) == null ? '' : __t) +\n'\\n\t\t\t\t\t\t</div>\\n\t\t\t\t\t\t<div class=\"item-mask\">\\n\t\t\t\t\t\t\t<p>' +\n((__t = (data.busiDesc||data.busiName)) == null ? '' : __t) +\n'</p>\\n\t\t\t\t\t\t\t<a class=\"btn btn-default btn-primary btn-sm\" data-action=\"selectBusi\" role=\"button\">创建</a>\\n\t\t\t\t\t\t</div>\\n\t\t\t\t\t</div>\\n\t\t\t\t</div>\\n\t\t\t';\n if(idx%4===3){;\n__p += '\\n\t\t\t</div>\\n\t\t\t';\n};\n__p += '\\n\t\t\t';\n }) ;\n__p += '\\n\t\t</div>\\n\t</div>\\n</div>';\n\n}\nreturn __p\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"rdLu\")))\n\n/***/ }),\n\n/***/ \"h2Q7\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar _ = __webpack_require__(\"rdLu\");\nvar FooterView = __webpack_require__(\"u6y5\");\nvar NavMenuView = __webpack_require__(\"Fe6q\");\n__webpack_require__(\"qb6w\");\n__webpack_require__(\"67t3\");\n__webpack_require__(\"1dB9\");\n\nvar MainView = Backbone.View.extend({\n  template: __webpack_require__(\"85QJ\"),\n  selector: {\n    CONTENT: '.irec-content'\n  },\n  initialize: function initialize() {\n    this.$el.prepend(this.template());\n    this.navMenu = new NavMenuView();\n    this.$el.find('#navMenu').append(this.navMenu.render().el);\n    this.footer = new FooterView({\n      el: this.$el.find('#footer')\n    });\n    this.currentView = null;\n  },\n  loadContentView: function loadContentView(View, params) {\n    if (this.currentView !== null && _.isFunction(_.property('destroy')(this.currentView))) {\n      this.currentView.destroy();\n    }\n    var options = { el: this.$(this.selector.CONTENT) };\n    this.$(this.selector.CONTENT).empty();\n    if (View && View.prototype instanceof Backbone.View) {\n      _.extend(options, params);\n      this.currentView = new View(options);\n      this.currentView.render();\n    }\n  }\n});\nmodule.exports = MainView;\n\n/***/ }),\n\n/***/ \"hvIA\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar $ = __webpack_require__(\"7t+N\");\nvar MainView = __webpack_require__(\"h2Q7\");\nvar StrategyCreateView = __webpack_require__(\"q22K\");\n//策略管理模块\nvar StrategyManageMain = __webpack_require__(\"pwsA\");\n//策略详情模块\nvar StrategyDetailsMain = __webpack_require__(\"VEcT\");\nvar App = __webpack_require__(\"kE97\");\n\nvar Router = Backbone.Router.extend({\n  initialize: function initialize() {\n    this.mainView = new MainView({ el: 'body' });\n    this.on('route', function (route) {\n      Backbone.trigger('irec.navMenu', route);\n    });\n  },\n  routes: {\n    '': 'index', //首页\n    'strategies/manage': 'list_strategies', //策略列表\n    'strategies/manage/:id': 'list_strategies', //策略列表\n    'businesses/strategies': 'monitor_strategies',\n    'businesses/:id/strategies': 'monitor_strategies', //业务监控策略列表\n    'strategie/view/:id': 'view_strategy', //策略详情\n    'strategies/create/:busiCode': 'create_strategy', //创建策略\n    'strategies/create': 'create_strategy', //创建策略\n    'strategies/edit/:id': 'edit_strategy', //编辑策略\n    'models/manage': 'model_manage', //模型管理\n    'data/manage': 'data_manage', //数据管理\n    'system/manage': 'sys_manage' //系统管理\n  },\n  /**\n   * 加载策略监控列表视图组件\n   * @param id\n   */\n  list_strategies: function list_strategies(id) {\n    this.mainView.loadContentView(StrategyManageMain, {\n      el: '#container',\n      busiCode: id\n    });\n  },\n  /**\n   * 初始化首页\n   */\n  index: function index() {\n    this.mainView.render();\n  },\n  /**\n   * 根据业务编码，加载创建策略视图组件\n   * @param busiCode\n   */\n  create_strategy: function create_strategy(busiCode) {\n    this.mainView.loadContentView(StrategyCreateView, {\n      busiCode: busiCode || null\n    });\n  },\n  /**\n   * 加载修改策略视图组件\n   * @param strategyId\n   */\n  edit_strategy: function edit_strategy(strategyId) {\n    this.mainView.loadContentView(StrategyCreateView, {\n      el: '#container',\n      strategyId: strategyId\n    });\n  },\n  /**\n   * 加载查看策略详情视图组件\n   * @param strategieId\n   */\n  view_strategy: function view_strategy(strategieId) {\n    this.mainView.loadContentView(StrategyDetailsMain, {\n      el: '#container',\n      strategieId: strategieId\n    });\n  },\n\n  model_manage: function model_manage() {\n    App.alert('模型管理功能尚未实现!');\n    this.mainView.loadContentView(null, { el: '#container' });\n  },\n  data_manage: function data_manage() {\n    App.alert('数据管理功能尚未实现!');\n    this.mainView.loadContentView(null, { el: '#container' });\n  },\n  sys_manage: function sys_manage() {\n    App.alert('系统管理功能尚未实现!');\n    this.mainView.loadContentView(null, { el: '#container' });\n  }\n});\n\nmodule.exports = Router;\n\n/***/ }),\n\n/***/ \"i9yh\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\n\nvar StrategyTemplateModel = Backbone.Model.extend({\n  defaults: {}\n});\nmodule.exports = StrategyTemplateModel;\n\n/***/ }),\n\n/***/ \"iIyS\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar $ = __webpack_require__(\"7t+N\");\nvar _ = __webpack_require__(\"rdLu\");\nvar StrategyMgrCollection = __webpack_require__(\"UpkV\");\nvar App = __webpack_require__(\"kE97\");\nvar strategyState = ''; //策略状态查询字段\nvar strategyName = ''; //策略名称查询字段\nvar StrategyMgrView = Backbone.View.extend({\n  events: {\n    'click .enumKey': 'clickState',\n    'click [data-action=\"view\"]': 'viewDetail',\n    'click .dropdown-menu > li[data-action]': 'clickMgr',\n    'click #searchAll': 'clickSearchAll',\n    'keypress #strategyName ': 'blur',\n    'click #creationStrategy': 'creationStrategy'\n  },\n  initialize: function initialize(options) {\n    this.collection = new StrategyMgrCollection();\n    _.extend(this, options);\n    //初始化查询div dom\n    this.$el.find('#strategyQueryDiv').html(__webpack_require__(\"JMxK\"));\n    this.renderView();\n    //接口业务侧数据监听点击方法\n    Backbone.on('clickRecedType', this.getRecedType, this);\n  },\n  getRecedType: function getRecedType(id) {\n    this.busiCode = id;\n    this.renderView();\n  },\n  creationStrategy: function creationStrategy() {\n    //加载彈出層業務界面\n    Backbone.history.navigate('strategies/create/' + this.busiCode, {\n      trigger: true\n    });\n  },\n  /**\n   * 查看策略详情\n   */\n  viewDetail: function viewDetail(e) {\n    var strategyId = $(e.target).closest('.strategy-item').attr('data-id');\n    Backbone.history.navigate('strategie/view/' + strategyId, {\n      trigger: true\n    });\n  },\n  clickMgr: function clickMgr(obj) {\n    var $target = $(obj.target),\n        strategyId = $target.closest('.strategy-item').attr('data-id'),\n        action = $target.attr('data-action'),\n        lef = this,\n        ajaxType = 'PUT';\n    var url = '/irec/strategies/' + strategyId + '/action/';\n    if (action === 'suspend') {\n      //暂停\n      App.confirm('是否暂停此策略？', '将执行策略暂停操作!', function () {\n        url += 'suspend';\n        lef.handleStrategy(url, $target.text(), ajaxType);\n      });\n    } else if (action === 'continue') {\n      //继续\n      App.confirm('是否暂继续策略？', '将执行策略继续操作!', function () {\n        url += 'continue';\n        lef.handleStrategy(url, $target.text(), ajaxType);\n      });\n    } else if (action === 'stop') {\n      //停止\n      App.confirm('是否暂停止策略？', '将执行策略停止操作!', function () {\n        url += 'stop';\n        lef.handleStrategy(url, $target.text(), ajaxType);\n      });\n    } else if (action === 'update') {\n      //停止\n      Backbone.history.navigate('strategies/edit/' + strategyId, {\n        trigger: true\n      });\n    } else if (action === 'delete') {\n      //停止\n      url = '/irec/strategies/' + strategyId;\n      App.confirm('是否删除策略？', '将执行策略删除操作!', function () {\n        lef.handleStrategy(url, $target.text(), 'delete');\n      });\n    }\n  },\n  //操作策略停止，暂停，继续\n  handleStrategy: function handleStrategy(url, handleName, ajaxType) {\n    var lef = this;\n    $.ajax({\n      url: url,\n      dataType: 'json',\n      type: ajaxType,\n      success: function success(data) {\n        lef.renderView();\n        App.success(handleName + '操作成功！');\n      },\n      error: function error() {\n        App.error(handleName + '操作出错！');\n      }\n    });\n  },\n\n  //在输入框中点击回车进入事件\n  blur: function blur(obj) {\n    var lef = this;\n    var $inp = $('#strategyName');\n    $inp.keypress(function (e) {\n      var key = e.which;\n      if (key == 13) {\n        strategyName = $('#strategyName').val();\n        //取消回车状态不然界面会刷新很多次\n        e.which = 0;\n        lef.renderStrategy(lef.busiCode);\n      }\n    });\n  },\n  //点击查询\n  clickSearchAll: function clickSearchAll(obj) {\n    strategyName = $('#strategyName').val();\n    this.renderStrategy(this.busiCode);\n  },\n  //点击状态查询\n  clickState: function clickState(obj) {\n    var $target = $(obj.target);\n    if ($target.hasClass('active')) {\n      strategyState = '';\n      $target.removeClass('active');\n    } else {\n      strategyState = $target.attr('enumKey');\n      $target.addClass('active').siblings().removeClass('active');\n    }\n    this.renderStrategy(this.busiCode);\n  },\n  render: function render() {\n    return this;\n  },\n  //加载所有策略列表数据\n  renderStrategy: function renderStrategy(busiCode) {\n    var lef = this;\n    var url = 'businesses/' + busiCode + '/strategies?strategyState=' + strategyState + '&strategyName=' + strategyName;\n    this.collection.fetch({\n      url: url,\n      success: function success(model, response) {\n        //如果collection有数据增加调用renderStrategyView方法。\n        lef.renderStrategyView(model, busiCode);\n      },\n      error: function error(arg1, arg2) {\n        alert('加载策略失败！');\n      }\n    });\n  },\n  //策略界面加载\n  renderStrategyView: function renderStrategyView(model, busiCode) {\n    //处理数据初始化后选中第一个\n    this.$el.find('#strategyDataDiv').html(__webpack_require__(\"IdGR\")({\n      datas: model.toJSON(),\n      enumData: this.strategyStateEnum\n    }));\n  },\n  //对比渲染策略状态界面\n  renderStateView: function renderStateView(strategyStateData) {\n    var lef = this;\n    for (var j = 0; j < this.strategyStateEnum.length; j++) {\n      this.strategyStateEnum[j].count = 0;\n      for (var i = 0; i < strategyStateData.data.length; i++) {\n        if (strategyStateData.data[i].strategyState == this.strategyStateEnum[j].enumKey) {\n          this.strategyStateEnum[j].count = strategyStateData.data[i].count;\n          break;\n        }\n      }\n    }\n    this.$el.find('#statusContent').html(__webpack_require__(\"rlNS\")({\n      datas: lef.strategyStateEnum\n    }));\n  },\n\n  //加载查询状态\n  renderState: function renderState(busiCode) {\n    var lef = this;\n    $.ajax({\n      url: '/irec/businesses/' + busiCode + '/strategies/strategyState/count',\n      dataType: 'json',\n      type: 'GET',\n      success: function success(data) {\n        lef.renderStateView(data);\n      },\n      error: function error() {\n        alert('加载策略状态数量出错！');\n      }\n    });\n  },\n  renderView: function renderView() {\n    strategyState = ''; //策略状态查询字段\n    strategyName = ''; //策略名称查询字段\n    //当业务界面数据没有渲染完毕不渲染策略列表\n    if (this.recommendTypeCollection.length > 0) {\n      if (this.busiCode == undefined || this.busiCode == null) {\n        this.getRecommendTypeId(this.recommendTypeCollection.toJSON());\n      }\n      //初始化策略状态\n      this.renderState(this.busiCode);\n      //初始化策略列表\n      this.renderStrategy(this.busiCode);\n    }\n  },\n  getRecommendTypeId: function getRecommendTypeId(models) {\n    for (var i = 0; i < models.length; i++) {\n      if (models[i].selected) {\n        this.busiCode = models[i].busiCode;\n      }\n    }\n  },\n\n  destroy: function destroy() {\n    this.undelegateEvents();\n    this.stopListening();\n  }\n});\n\nmodule.exports = StrategyMgrView;\n\n/***/ }),\n\n/***/ \"kE97\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {\n\n/**\n * 应用工具类函数\n * @export Object\n * @author liyi\n * @modifier\n */\nvar _ = __webpack_require__(\"rdLu\");\nvar ModalView = __webpack_require__(\"XqRw\");\nvar MessageView = __webpack_require__(\"LW5F\");\n\nvar confirmTpl = __webpack_require__(\"p2hu\");\nvar alertTpl = __webpack_require__(\"2uJk\");\nmodule.exports = {\n  /**\n   * confirm对话框\n   * @param title  提示标题\n   * @param content 提示内容\n   * @param callback 确定回调函数\n   * @param cancelCallbak 取消回调函数\n   * @param okTxt 确定按钮显示文本\n   * @param cancelTxt 取消按钮显示文本\n   */\n  confirm: function confirm(title, content, callback, cancelCallbak, okTxt, cancelTxt) {\n    new ModalView({\n      title: '操作确认',\n      showCloseButton: false,\n      showHeader: false,\n      content: confirmTpl({ title: title, content: content }),\n      backdrop: false,\n      width: 500,\n      buttons: [{\n        id: 'ok',\n        name: okTxt || '确定',\n        handler: function handler() {\n          this.close();\n          _.isFunction(callback) && callback.call();\n        },\n        primary: true\n      }, {\n        id: 'cancel',\n        name: cancelTxt || '取消',\n        handler: function handler() {\n          this.close();\n          _.isFunction(cancelCallbak) && cancelCallbak.call();\n        },\n        primary: false\n      }]\n    }).render().open();\n  },\n  /**\n   * alert对话框\n   * @param title  提示标题\n   * @param content 提示内容\n   * @param callback 确定回调函数\n   */\n  alert: function alert(title, content, callback) {\n    new ModalView({\n      showCloseButton: false,\n      showHeader: false,\n      content: alertTpl({ title: title, content: content }),\n      backdrop: false,\n      width: 500,\n      buttons: [{\n        id: 'ok',\n        name: '确定',\n        handler: function handler() {\n          this.close();\n          _.isFunction(callback) && callback.call();\n        },\n        primary: true\n      }]\n    }).render().open();\n  },\n  /**\n   * 全局消息提示，警告\n   * @param msg 消息内容\n   * @param duration 显示时长（单位：秒）\n   */\n  warn: function warn(msg, duration) {\n    this.message(null, MessageView.TYPES.WARN, msg, duration);\n  },\n  /**\n   * 全局消息提示，信息提示\n   * @param msg 消息内容\n   * @param duration 显示时长（单位：秒）\n   */\n\n  info: function info(msg, duration) {\n    this.message(null, MessageView.TYPES.INFO, msg, duration);\n  },\n  /**\n   * 全局消息提示，成功\n   * @param msg 消息内容\n   * @param duration 显示时长（单位：秒）\n   */\n\n  success: function success(msg, duration) {\n    this.message(null, MessageView.TYPES.SUCCESS, msg, duration);\n  },\n  /**\n   * 全局消息提示，错误\n   * @param msg 消息内容\n   * @param duration 显示时长（单位：秒）\n   */\n  error: function error(msg, duration) {\n    this.message(null, MessageView.TYPES.ERROR, msg, duration);\n  },\n  /**\n   * 全局消息提示\n   * @param container  消息DOM append\n   * @param type 消息类型\n   * @param msg 消息内容\n   * @param duration 显示时长（单位：秒）\n   */\n  message: function message(container, type, msg, duration) {\n    container = container || $('.irec-content');\n    duration = duration || 3;\n    new MessageView({\n      type: type,\n      message: msg,\n      duration: duration\n    }).render(container).show();\n  }\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"7t+N\")))\n\n/***/ }),\n\n/***/ \"lVK7\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar $ = __webpack_require__(\"7t+N\");\nvar Router = __webpack_require__(\"hvIA\");\nvar Client = __webpack_require__(\"xdsZ\");\n__webpack_require__(\"6OAF\");\n$(function () {\n  //实例化路由對象\n  window.Router = new Router();\n  Client.setup(window);\n  //动初始化 URL 的路由 並且root 需要告诉 History 基于什么路径\n  Backbone.history.start({ pushState: true, root: '' });\n});\n\n/***/ }),\n\n/***/ \"lvMg\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar $ = __webpack_require__(\"7t+N\");\nvar _ = __webpack_require__(\"rdLu\");\nvar ModelConfigModel = __webpack_require__(\"LQyq\");\nvar FieldFilterView = __webpack_require__(\"UL2X\");\nvar App = __webpack_require__(\"kE97\");\nvar ModelConfigView = Backbone.View.extend({\n  events: {\n    'click input:checkbox': 'checkedField', //点击业务选项处理事件\n    'click #addFilter': 'addFilter', //点击业务选项处理事件\n    'click .filter-delete': 'deleteDiv'\n  },\n  template: __webpack_require__(\"9Mej\"),\n  initialize: function initialize(options) {\n    //当数据数据加载完毕将第一条数据勾选上\n    _.extend(this, options);\n    this.modelConfigModel = new ModelConfigModel();\n    this.renderView();\n    this.listenTo(this.modelConfigModel, 'change', this.renderView);\n    //接口业务侧数据监听点击方法\n    Backbone.on('getModelConfig', this.getModelConfig, this);\n  },\n  deleteDiv: function deleteDiv(e) {\n    $(e.target).parent().fadeOut('fast', function () {\n      $(this).remove();\n    });\n    // App.confirm('确定删除?', '删除后需重新配置！', function() {\n    // });\n  },\n  /**\n   * 初始化过滤条件或者添加\n   */\n  initializeFilter: function initializeFilter(cond_exp) {\n    this.fieldFilterView = new FieldFilterView({\n      el: this.$('.filter-output'),\n      field: this.modelConfigModel.toJSON().fieldList,\n      cond_exps: cond_exp,\n      viewType: this.viewType\n    });\n    this.fieldFilterView.render();\n  },\n  /**\n   * 添加过滤条件或者\n   */\n  addFilter: function addFilter(cond_exp) {\n    this.fieldFilterView = new FieldFilterView({\n      el: this.$('.filter-output'),\n      field: this.modelConfigModel.toJSON().fieldList\n    });\n    this.fieldFilterView.render();\n  },\n  render: function render() {\n    return this;\n  },\n  //验证数据\n  validateConfig: function validateConfig() {\n    var bol = true;\n    this.$('#modelFieldTable').css({ border: '' });\n    this.$('#modelFieldTable').attr('title', '');\n    //判断字段是否选择\n    if (this.nodeData.conf != undefined && this.nodeData.conf.fields != undefined && this.nodeData.conf.fields.length == 0) {\n      this.$('#modelFieldTable').css({ border: '2px solid red' });\n      this.$('#modelFieldTable').attr('title', '请至少选择一个条件');\n      bol = false;\n    }\n    this.$('.filter-output div input').each(function () {\n      if (this.value == '' || this.value == undefined) {\n        $(this).css({ border: '1px solid red' });\n        bol = false;\n      } else {\n        $(this).css({ border: '' });\n      }\n    });\n    return bol;\n  },\n\n  //获得数据\n  getModelConfigData: function getModelConfigData() {\n    if (this.fieldFilterView) {\n      this.nodeData.conf.cond_exp = this.nodeData.conf.cond_exp || {};\n      this.nodeData.conf.cond_exp['and'] = this.fieldFilterView.getFilterData();\n      this.fieldFilterView.destroy();\n    } else {\n      this.nodeData.conf.cond_exp = {};\n    }\n    return this.nodeData.conf;\n  },\n\n  /**\n   * 初始化字段属性\n   */\n  initializeField: function initializeField(model) {\n    var fields = [];\n    for (var i = 0; i < model.fieldList.length; i++) {\n      fields.push({\n        fieldDesc: model.fieldList[i].fieldDesc,\n        fieldName: model.fieldList[i].fieldName\n      });\n    }\n    if (this.nodeData.conf == undefined) {\n      this.nodeData.conf = {};\n    }\n    this.nodeData.conf.fields = fields;\n  },\n  //清空事件\n  destroy: function destroy() {\n    this.undelegateEvents();\n    this.$el.off();\n    this.$el.empty();\n  },\n  //点击多选按钮事件\n  checkedField: function checkedField(e) {\n    //获取名字的对应中文\n    var name = e.currentTarget.dataset.value;\n    var desc = e.currentTarget.dataset.desc;\n    //如果传入对象里面没有字段配置那么点击取消的时候就是新增\n    for (var i = 0; i < this.nodeData.conf.fields.length; i++) {\n      if (this.nodeData.conf.fields[i].fieldName == name) {\n        this.nodeData.conf.fields.splice(i, 1);\n        return;\n      }\n    }\n    //如果没有return 就会添加这个字段\n    this.nodeData.conf.fields.push({\n      fieldDesc: desc,\n      fieldName: name\n    });\n  },\n  //渲染模型节点界面\n  renderView: function renderView() {\n    var lef = this;\n    this.modelConfigModel.fetch({\n      reset: true,\n      url: '/models/' + lef.nodeData.params.modelId + '/fieldsAndLogs',\n      success: function success(model, response) {\n        //如果是修改就不用初始化内容\n        if (lef.nodeData.conf == undefined || lef.nodeData.conf.fields == undefined) {\n          //初始化字段属性\n          lef.initializeField(response.data);\n        }\n        //处理数据初始化后选中第一个;\n        lef.$el.html(lef.template({\n          datas: response.data,\n          modelsName: lef.modelsName,\n          viewType: lef.viewType,\n          fields: lef.nodeData.conf && (lef.nodeData.conf.fields || {})\n        }));\n        //当conf没有cond_exp这个属性的时候就是初始化过滤条件组件\n        if (lef.nodeData.conf != undefined && lef.nodeData.conf.cond_exp != undefined) {\n          lef.initializeFilter(lef.nodeData.conf.cond_exp);\n        }\n        lef.validateConfig();\n      },\n      error: function error(arg1, arg2) {\n        alert('加载节点信息失败!');\n      }\n    });\n  }\n});\nmodule.exports = ModelConfigView;\n\n/***/ }),\n\n/***/ \"mBmd\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n\nif(model.type===NODE_TYPE.OUTPUT||model.type===NODE_TYPE.FINAL_OUTPUT){;\n__p += '\\n<div class=\"data-node-circle\" data-toggle=\"diagram-context\" data-id=\"' +\n((__t = (model.id)) == null ? '' : __t) +\n'\">\\n\t<div class=\"data-node-txt\" title=\"' +\n((__t = (model.txt)) == null ? '' : __t) +\n'\" data-id=\"' +\n((__t = (model.id)) == null ? '' : __t) +\n'\">\\n\t\t<i class=\"iconfont ' +\n((__t = (model.icon)) == null ? '' : __t) +\n'\"></i><span>' +\n((__t = (model.txt)) == null ? '' : __t) +\n'</span>\\n\t</div>\\n</div>\\n';\nif(model.type!==NODE_TYPE.FINAL_OUTPUT){;\n__p += '\\n<div class=\"data-node-input\" title=\"双击修改中间结果名称\">' +\n((__t = ((model.alias==='')?'双击修改中间结果名称':model.alias)) == null ? '' : __t) +\n'</div>\\n<div class=\"data-node-line\"></div>\\n';\n}else{;\n__p += '\\n<div class=\"data-node-final\">推荐结果</div>\\n<div class=\"data-node-line line-final\"></div>\\n';\n};\n__p += '\\n';\n};\n__p += '\\n';\nif(model.type!==NODE_TYPE.OUTPUT && model.type!==NODE_TYPE.FINAL_OUTPUT){;\n__p += '\\n<div class=\"data-node-txt\" title=\"' +\n((__t = (model.txt)) == null ? '' : __t) +\n'\" data-id=\"' +\n((__t = (model.id)) == null ? '' : __t) +\n'\">\\n\t<i class=\"iconfont ' +\n((__t = (model.icon)) == null ? '' : __t) +\n'\"></i><span>' +\n((__t = (model.txt)) == null ? '' : __t) +\n'</span>\\n</div>\\n';\n};\n__p += '\\n';\nif(layout === 'horizontal' && model.type!==NODE_TYPE.FINAL_OUTPUT){;\n__p += '\\n<div class=\"node-port port-left\"   data-id=\"' +\n((__t = (model.id)) == null ? '' : __t) +\n'\"></div>\\n<div class=\"node-port port-right\"  data-id=\"' +\n((__t = (model.id)) == null ? '' : __t) +\n'\"></div>\\n';\n};\n__p += '\\n';\nif(layout === 'vertical' && model.type!==NODE_TYPE.FINAL_OUTPUT){;\n__p += '\\n<div class=\"node-port port-top\"    data-id=\"' +\n((__t = (model.id)) == null ? '' : __t) +\n'\"></div>\\n<div class=\"node-port port-bottom\" data-id=\"' +\n((__t = (model.id)) == null ? '' : __t) +\n'\"></div>\\n';\n};\n__p += '\\n<div class=\"node-tips\" title=\"双击添加备注说明\">\\n\t<div class=\"tips-content\">' +\n((__t = ((model.desc==='')?'双击添加备注说明':model.desc)) == null ? '' : __t) +\n'</div>\\n\t<div class=\"tips-arrow\"></div>\\n</div>\\n';\nif(model.status){;\n__p += '\\n<div class=\"status-icon\">\\n\t';\nif(model.status === NODE_STATUS.CONF_NOT){;\n__p += '\\n\t<i class=\"iconfont icon-gaojingpeizhi icon_error\"></i>\\n\t';\n};\n__p += '\\n\t';\nif(model.status === NODE_STATUS.CONF_ERROR){;\n__p += '\\n\t<i class=\"iconfont icon-gaojingpeizhi icon_error\"></i>\\n\t';\n};\n__p += '\\n\t';\nif(model.status === NODE_STATUS.CONF_YES){;\n__p += '\\n\t<i class=\"iconfont icon-yipeizhi icon_success\"></i>\\n\t';\n};\n__p += '\\n\t';\nif(model.status === NODE_STATUS.PROCESS_WAIT){;\n__p += '\\n\t<i class=\"iconfont icon-dengdai icon_process\"></i>\\n\t';\n};\n__p += '\\n\t';\nif(model.status === NODE_STATUS.PROCESSING){;\n__p += '\\n\t<i class=\"iconfont icon-zhihangzhong2 icon_process\"></i>\\n\t';\n};\n__p += '\\n\t';\nif(model.status === NODE_STATUS.PROCESS_FAILURE){;\n__p += '\\n\t<i class=\"iconfont icon-shibai icon_error\"></i>\\n\t';\n};\n__p += '\\n\t';\nif(model.status === NODE_STATUS.PROCESS_SUCCESS){;\n__p += '\\n\t<i class=\"iconfont icon-chenggong1 icon_success\"></i>\\n\t';\n};\n__p += '\\n</div>\\n';\n};\n__p += '\\n<!--\\n<div class=\"node-setting\" id=\"dropdownMenu1\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"true\">\\n\t<i class=\"iconfont icon-shezhi\"></i>\\n</div>\\n-->\\n\\n';\n\n}\nreturn __p\n}\n\n/***/ }),\n\n/***/ \"nwP+\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(_) {module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<div class=\"modal-dialog\" role=\"document\">\\n\t<div class=\"modal-content\">\\n\t\t';\nif (showHeader){;\n__p += '\\n\t\t<div class=\"modal-header\">\\n\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\\n\t\t\t\t<span aria-hidden=\"true\">&times;</span>\\n\t\t\t</button>\\n\t\t\t<h4 class=\"modal-title\">' +\n((__t = (title)) == null ? '' : __t) +\n'</h4>\\n\t\t</div>\\n\t\t';\n};\n__p += '\\n\t\t<div class=\"modal-body\"></div>\\n\t\t<div class=\"modal-footer\">\\n\t\t\t';\nif (showCloseButton){;\n__p += '\\n\t\t\t<a class=\"btn btn-default btn-primary pull-right\"  role=\"button\" data-dismiss=\"modal\">关闭</a>\\n\t\t\t';\n};\n__p += '\\n\t\t\t';\n_.each(buttons,function(button){;\n__p += '\\n\t\t\t<a class=\"btn btn-default ' +\n((__t = ((button.primary===true?'btn-primary':''))) == null ? '' : __t) +\n' pull-right\" data-id=\"' +\n((__t = (button.id)) == null ? '' : __t) +\n'\" role=\"button\" >' +\n((__t = (button.name)) == null ? '' : __t) +\n'</a>\\n\t\t\t';\n});\n__p += '\\n\t\t</div>\\n\t</div>\\n</div>\\n';\n\n}\nreturn __p\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"rdLu\")))\n\n/***/ }),\n\n/***/ \"o8y0\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div id = \"titleDiv\">\\n\t<h4 class=\"ui-tactics-name clearfix\">\\n\t\t<a data-action=\"backRoute\">&lt;返回</a>\\n\t\t<span>' +\n((__t = (model.strategyName||'')) == null ? '' : __t) +\n'</span>\\n\t</h4>\\n</div>\\n<div class=\"ui-tactics-container\">\\n\t<div class=\"ui-tactics-info\">\\n\t\t<ul>\\n\t\t\t<li>\\n\t\t\t\t<label>策略ID：</label>\\n\t\t\t\t<span>' +\n((__t = (model.strategyId||'')) == null ? '' : __t) +\n'</span>\\n\t\t\t</li>\\n\t\t\t<li>\\n\t\t\t\t<label>创建人：</label>\\n\t\t\t\t<span>' +\n((__t = (model.creater||'')) == null ? '' : __t) +\n'</span>\\n\t\t\t</li>\\n\t\t\t<li>\\n\t\t\t\t<label>创建时间：</label>\\n\t\t\t\t<span>' +\n((__t = (model.createTime||'')) == null ? '' : __t) +\n'</span>\\n\t\t\t</li>\\n\t\t\t<li>\\n\t\t\t\t<label>更新周期：</label>\\n\t\t\t\t<span>' +\n((__t = (model.cycle||'')) == null ? '' : __t) +\n'</span>\\n\t\t\t</li>\\n\t\t</ul>\\n\t</div>\\n</div>\\n<div class=\"ui-tactics-container\">\\n\t<h5>最近一次更新</h5>\\n\t<div class=\"ui-tactics-info\">\\n\t\t<ul >\\n\t\t\t<li>\\n\t\t\t\t<label>更新时间：</label>\\n\t\t\t\t<span>' +\n((__t = (model.modifyTime||'')) == null ? '' : __t) +\n'</span>\\n\t\t\t</li>\\n\t\t\t<li>\\n\t\t\t\t<label>结果总数：</label>\\n\t\t\t\t<span>50,025</span>\\n\t\t\t</li>\\n\t\t</ul>\\n\t</div>\\n</div>';\n\n}\nreturn __p\n}\n\n/***/ }),\n\n/***/ \"oP/2\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"message-' +\n((__t = (type)) == null ? '' : __t) +\n'\">\\n\t<i class=\"iconfont ' +\n((__t = (icon)) == null ? '' : __t) +\n'\" ></i>\\n\t<span>' +\n((__t = (message)) == null ? '' : __t) +\n'</span>\\n</div>\\n';\n\n}\nreturn __p\n}\n\n/***/ }),\n\n/***/ \"p2hu\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"modal-confirm\">\\n\t<i class=\"iconfont icon-bangzhu\"></i>\\n\t<span class=\"confirm-title\">' +\n((__t = (title)) == null ? '' : __t) +\n'</span>\\n\t<div class=\"confirm-content\">' +\n((__t = (content)) == null ? '' : __t) +\n'</div>\\n</div>';\n\n}\nreturn __p\n}\n\n/***/ }),\n\n/***/ \"pN6t\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar $ = __webpack_require__(\"7t+N\");\nvar _ = __webpack_require__(\"rdLu\");\nvar StrategyHistoryModel = __webpack_require__(\"PSHn\");\nvar StrategyHistoryView = Backbone.View.extend({\n  template: __webpack_require__(\"ykGu\"),\n  events: {\n    'click [data-action=\"download\"]': 'downloadList'\n  },\n  initialize: function initialize(options) {\n    _.extend(this, options);\n    this.model = new StrategyHistoryModel();\n    var url = \"strategies/\" + this.strategieId + \"/history\";\n    this.model.fetch({ reset: true, url: url });\n    this.listenTo(this.collection, 'reset', this.render);\n  },\n  render: function render() {\n    this.$el.html(this.template({ data: this.model.toJSON() }));\n    return this;\n  },\n  downloadList: function downloadList(e) {\n    var $target = $(e.target);\n    var logId = $target.attr('data-id');\n  },\n  destroy: function destroy() {\n    this.stopListening();\n    this.undelegateEvents();\n    this.remove();\n  }\n});\n\nmodule.exports = StrategyHistoryView;\n\n/***/ }),\n\n/***/ \"pwsA\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar RecommendTypeCollection = __webpack_require__(\"fWFK\");\nvar RecommendTypeView = __webpack_require__(\"gPQY\");\nvar StrategyMgrView = __webpack_require__(\"iIyS\");\n__webpack_require__(\"442e\");\n__webpack_require__(\"Sh8O\");\n__webpack_require__(\"7nbV\");\n__webpack_require__(\"StaT\");\n// require('../../../../public/assets/js/bootstrap.min.js');\nvar _ = __webpack_require__(\"rdLu\");\n\nvar StrategyManageMain = Backbone.View.extend({\n  initialize: function initialize(busiCode) {\n    _.extend(this, busiCode); //将busiCode添加在this里面\n    this.recommendTypeCollection = new RecommendTypeCollection();\n    this.renderRecommendType(busiCode); //加载业务界面\n  },\n  template: __webpack_require__(\"cLf+\"),\n  renderRecommendType: function renderRecommendType(busiCode) {\n    //将最外层的div添加到模板里\n    this.$el.html(this.template());\n    var lef = this;\n    this.recommendTypeCollection.reset();\n    this.recommendTypeCollection.fetch({\n      reset: true,\n      success: function success(model, response) {\n        //加载界面左边策略类型\n        lef.recommendTypeView = new RecommendTypeView({\n          el: lef.$el.find('#strategyLefDiv'),\n          busiCode: lef.busiCode,\n          collection: lef.recommendTypeCollection\n        });\n        lef.recommendTypeView.render();\n        lef.renderStrategyMgr(); //加载策略查询界面\n      },\n      error: function error(arg1, arg2) {\n        alert(\"加载业务失败！\");\n      }\n    });\n  },\n  renderStrategyMgr: function renderStrategyMgr() {\n    var lef = this;\n    $.ajax({\n      url: \"/irec/enumDics/STRATEGY_STATE\",\n      dataType: \"json\",\n      type: \"GET\",\n      success: function success(data) {\n        //加载策略界面\n        lef.strategyMgrView = new StrategyMgrView({\n          el: lef.$el.find('#strategyDiv'),\n          busiCode: this.busiCode,\n          recommendTypeCollection: lef.recommendTypeCollection,\n          strategyStateEnum: data.data\n        });\n        lef.strategyMgrView.render();\n      },\n      error: function error() {\n        alert(\"渲染策略列表前,加载策略状态出错！\");\n      }\n    });\n  },\n  destroy: function destroy() {\n    //this.recommendTypeView.destroy();\n    //this.strategyMgrView.destroy();\n    this.undelegateEvents();\n    this.stopListening();\n  }\n});\n\nmodule.exports = StrategyManageMain;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"7t+N\")))\n\n/***/ }),\n\n/***/ \"q22K\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * 策略创建视图组件\n * @export StrategyCreateView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\nvar _ = __webpack_require__(\"rdLu\");\nvar NodeSelectorView = __webpack_require__(\"IMAn\");\nvar DiagramView = __webpack_require__(\"FfQT\");\nvar ModalView = __webpack_require__(\"XqRw\");\nvar StrategyModel = __webpack_require__(\"qWxm\");\nvar StrategySaveView = __webpack_require__(\"zaJj\");\nvar BusiSelectorView = __webpack_require__(\"MFDE\");\nvar DataNodeCollection = __webpack_require__(\"t61T\");\nvar NodeConnectionCollection = __webpack_require__(\"M0mP\");\nvar App = __webpack_require__(\"kE97\");\nvar StrategyCreateView = Backbone.View.extend({\n  template: __webpack_require__(\"r9M3\"),\n  events: {\n    'click [data-action=\"save\"]': 'saveClick',\n    'click [data-action=\"back\"]': 'backClick'\n  },\n  initialize: function initialize(options) {\n    _.extend(this, options);\n    this.$el.html(this.template());\n    this.diagram = new DiagramView();\n    Backbone.on('diagram-toolbar.fullScreen', _.bind(this._handleFullDiagram, this));\n    // 根据传入的策略编码，判断是创建策略，还是修改策略\n    this.createModel = !this.strategyId;\n    if (!this.createModel) {\n      // 非创建模式（修改模式） 传入策略编码\n      this.model = new StrategyModel({\n        strategyId: this.strategyId\n      });\n      this.listenToOnce(this.model, 'change', this.renderDiagram);\n      this.model.fetch();\n    } else {\n      this.model = new StrategyModel({ busiCode: this.busiCode });\n      this.renderDiagram();\n      // 创建模式，需传入业务编码\n      if (!this.busiCode) {\n        //如果未传入业务编码，弹出业务选取遮罩层\n        this.BusiSelectorView = new BusiSelectorView({\n          onSelect: _.bind(function (busiId) {\n            this.nodeSelector.reload(busiId);\n            this.model.set('busiCode', busiId, { silent: true });\n            this.showDiagram(busiId);\n          }, this)\n        }).render();\n      }\n    }\n  },\n  renderDiagram: function renderDiagram() {\n    this.renderNodeSelector();\n    this.$('.strategy-diagram').append(this.diagram.render().el);\n    if (this.createModel) {\n      // 创建模式\n      if (this.model.getBusiCode()) {\n        this.showDiagram(this.model.getBusiCode());\n      }\n    } else {\n      // 修改模式\n      this.diagram.show(this.model.get('strategyConf') || {});\n    }\n  },\n  showDiagram: function showDiagram(busiCode) {\n    if (window.localStorage) {\n      var oldBusiCode = window.localStorage.getItem('diagram.busicode');\n      var configObj = {\n        nodes: DataNodeCollection.getInstance().toJSON(),\n        connectors: NodeConnectionCollection.getInstance().toJSON()\n      };\n      if (busiCode === oldBusiCode && configObj.nodes.length > 0) {\n        App.confirm('您有上次未提交保存的画布内容，是否恢复?', '', _.bind(function () {\n          window.localStorage.setItem('diagram.busicode', busiCode);\n          this.diagram.show(configObj, true);\n        }, this), _.bind(function () {\n          window.localStorage.clear();\n          window.localStorage.setItem('diagram.busicode', busiCode);\n          this.diagram.show(null, true);\n        }, this));\n      } else {\n        window.localStorage.clear();\n        window.localStorage.setItem('diagram.busicode', busiCode);\n        this.diagram.show(null, true);\n      }\n    } else {\n      this.diagram.show(null, false);\n    }\n  },\n  renderNodeSelector: function renderNodeSelector() {\n    this.nodeSelector = new NodeSelectorView({\n      el: this.$('.node-selector'),\n      busiCode: this.model.getBusiCode(),\n      $dropEl: this.$('.strategy-diagram'),\n      diagram: this.diagram\n    }).render();\n    this.selectorWidth = this.$('.node-selector').outerWidth();\n  },\n  render: function render() {\n    return this;\n  },\n  /**\n   * 返回\n   */\n  backClick: function backClick() {\n    App.confirm('确定不保存此次操作？', '返回策略管理界面!', function () {\n      Backbone.history.navigate('strategies/manage', {\n        trigger: true\n      });\n    });\n  },\n  /**\n   * 下一步和保存事件\n   */\n  saveClick: function saveClick() {\n    if (!this.diagram.loaded) {\n      App.error('画布组件尚未渲染完毕，请稍后再点击操作!');\n      return;\n    }\n    var validateResult = this.diagram.validateGrpah();\n    if (validateResult !== true) {\n      this.diagram.highlightProblemNodes(validateResult);\n    } else {\n      this._saveStrategy();\n    }\n  },\n  _saveStrategy: function _saveStrategy() {\n    var configJson = this.diagram.getConfigJson();\n    this.model.setDiagramConf(configJson || {}, true);\n    //加载保存弹出层\n    new ModalView({\n      title: '编辑策略信息',\n      showCloseButton: false,\n      view: new StrategySaveView({\n        model: this.model\n      }).render(),\n      buttons: [{\n        id: 'saveExecute',\n        name: '保存并开始执行',\n        handler: _.bind(this.saveAndExecute, this)\n      }, {\n        id: 'save',\n        name: '保存',\n        handler: function (view) {\n          return function () {\n            this.close();\n            view.save();\n          };\n        }(this)\n      }]\n    }).render().open();\n  },\n  save: function save() {\n    if (this.model.isValid(true)) {\n      App.confirm('确认保存', '\\u786E\\u5B9A\\u8981' + (this.createModel ? '创建' : '修改') + '\\u7B56\\u7565 [ ' + this.model.getName() + ' ] \\u4E48\\uFF1F', _.bind(function () {\n        if (this.createModel) {} else {\n          this.model.save(this.model.attributes, { patch: true }).success(_.bind(this.saveSuccess, this)).error(_.bind(this.saveFailure, this));\n        }\n        this.model.save().success(_.bind(this.saveSuccess, this)).error(_.bind(this.saveFailure, this));\n      }, this));\n      return true;\n    } else {\n      return false;\n    }\n  },\n  saveSuccess: function saveSuccess(resp) {\n    if (resp.success) {\n      App.success(resp.message);\n      Backbone.history.navigate('strategie/view/' + this.model.id, {\n        trigger: true\n      });\n    } else {\n      App.error(resp.message);\n    }\n    this.diagram.clearLocalStorage();\n  },\n  saveFailure: function saveFailure(resp) {\n    App.error('保存失败');\n  },\n  saveAndExecute: function saveAndExecute() {},\n  /**\n   * 切换画布全屏显示\n   * @private\n   */\n  _handleFullDiagram: function _handleFullDiagram() {\n    var $selector = this.$('.node-selector');\n    if ($selector.is(':hidden')) {\n      $selector.show().animate({ width: this.selectorWidth }, 'fast');\n      this.$('.strategy-diagram').animate({ 'margin-left': this.selectorWidth }, 'fast');\n    } else {\n      $selector.hide().animate({ width: 0 }, 'fast');\n      this.$('.strategy-diagram').animate({ 'margin-left': 0 }, 'fast');\n    }\n  },\n  destroy: function destroy() {\n    Backbone.off('diagram-toolbar.fullScreen');\n    this.undelegateEvents();\n    this.nodeSelector && this.nodeSelector.destroy();\n    this.diagram && this.diagram.destroy();\n    this.BusiSelectorView && this.BusiSelectorView.destroy();\n    this.stopListening();\n    this.$el.empty();\n  }\n});\nmodule.exports = StrategyCreateView;\n\n/***/ }),\n\n/***/ \"qWxm\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\n__webpack_require__(\"6Ai3\");\nvar _ = __webpack_require__(\"rdLu\");\nvar StrategyModel = Backbone.Model.extend({\n  defaults: {\n    strategyName: null,\n    cycle: 1\n  },\n  idAttribute: 'strategyId',\n  validation: {\n    strategyName: [{\n      required: true,\n      msg: '请输入策略名称'\n    }, {\n      maxLength: 30,\n      msg: '策略名称最大长度不超过30个字符'\n    }]\n  },\n  getName: function getName() {\n    return this.get('strategyName') || '';\n  },\n  getBusiCode: function getBusiCode() {\n    return this.get('busiCode');\n  },\n  url: function url() {\n    var url = '/strategies';\n    return this.isNew() ? url : url + '/' + encodeURIComponent(this.id);\n  },\n  setDiagramConf: function setDiagramConf(configJson, silent) {\n    this.set('strategyConf', JSON.stringify(configJson), {\n      silent: silent || false\n    });\n  }\n});\nmodule.exports = StrategyModel;\n\n/***/ }),\n\n/***/ \"qb6w\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"r9M3\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"diagram-wrapper\">\\n\t<div class=\"node-selector\"></div>\\n\t<div class=\"strategy-diagram\"></div>\\n</div>\\n<div class=\"diagram-buttons\">\\n\t<a class=\"btn btn-default btn-primary pull-right\" data-action=\"save\" role=\"button\">保存</a>\\n\t<a class=\"btn btn-default pull-right\"  role=\"button\" data-action=\"back\" >返回</a>\\n</div>';\n\n}\nreturn __p\n}\n\n/***/ }),\n\n/***/ \"rlNS\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(_) {module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n\n _.each(datas,function(data){ ;\n__p += '\\n\t';\n\n\t\tvar className=\"\";\n\t\tvar status={\n\t\t\t\"错误\":\"btn btn-default ui-btn-error\",\n\t\t\t\"执行中\":\"btn btn-default ui-btn-running\",\n\t\t\t\"待执行\":\"btn btn-default ui-btn-editing\",\n\t\t\t\"完成\":\"btn btn-default ui-btn-execution\"\n\t\t};\n\t\tclassName=status[data.enumValue];\n\t;\n__p += '\\n\t<a class=\"' +\n((__t = (className)) == null ? '' : __t) +\n' enumKey\"  enumKey=\"' +\n((__t = (data.enumKey)) == null ? '' : __t) +\n'\" href=\"javascript:;\" role=\"button\">\\n\t\t' +\n((__t = (data.enumValue)) == null ? '' : __t) +\n'\\n\t\t' +\n((__t = (data.count)) == null ? '' : __t) +\n'\\n\t</a>\\n';\n }) ;\n\n\n}\nreturn __p\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"rdLu\")))\n\n/***/ }),\n\n/***/ \"t61T\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * 数据节点Model集合\n * @export DataNodeCollection\n * @extends Backbone.Collection\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\nvar _ = __webpack_require__(\"rdLu\");\nvar DataNode = __webpack_require__(\"euKX\");\nvar util = __webpack_require__(\"2yj7\")('DATANODE_COLLECTION:');\n\nvar DataNodeCollection = Backbone.Collection.extend({\n  model: DataNode,\n\n  initialize: function initialize() {},\n\n  initSyncLocalStorageListen: function initSyncLocalStorageListen() {\n    this.listenTo(this, 'add', util.saveModelToLocalStorage);\n    this.listenTo(this, 'remove', util.delModelFromLocalStorage);\n    this.listenTo(this, 'change', util.saveModelToLocalStorage);\n    this.listenTo(this, 'reset', util.resetModelToLocalStorage);\n  },\n  /**\n   * 根据id数组，获取所有数据节点model\n   * @param ids\n   */\n  getModelsByIdArray: function getModelsByIdArray(ids) {\n    return this.filter(function (model) {\n      return _.indexOf(ids, model.id) !== -1;\n    });\n  },\n\n  /**\n   * 是否存在最终节点\n   * @return {boolean}\n   */\n  existFinalNode: function existFinalNode() {\n    return this.where({ type: DataNode.NODE_TYPE.FINAL_OUTPUT }).length > 0;\n  },\n  /**\n   *\n   */\n  getUnConfigNode: function getUnConfigNode() {\n    return _.union(_.pluck(this.where({ status: DataNode.NODE_STATUS.CONF_NOT }), 'id'), _.pluck(this.where({ status: DataNode.NODE_STATUS.CONF_ERROR }), 'id'));\n  }\n});\nDataNodeCollection.getInstance = function () {\n  var instance = new DataNodeCollection();\n  if (window.localStorage) {\n    var list = util.restoreFromLocalStorage();\n    instance.add(list, { silent: true });\n  }\n  return instance;\n};\nmodule.exports = DataNodeCollection;\n\n/***/ }),\n\n/***/ \"tEKr\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar $ = __webpack_require__(\"7t+N\");\nvar _ = __webpack_require__(\"rdLu\");\nvar ModelJoinFieldView = __webpack_require__(\"NXnP\");\nvar ModelConfigModel = __webpack_require__(\"LQyq\");\nvar currentIndex;\nvar ModelJoinView = Backbone.View.extend({\n  events: {\n    'click #addJoin': 'addJoin' //点击业务选项处理事件\n  },\n  template: __webpack_require__(\"RaMd\"),\n  initialize: function initialize(options) {\n    //当数据数据加载完毕将第一条数据勾选上\n    _.extend(this, options);\n    currentIndex = 0;\n    this.modelConfigModel = new ModelConfigModel();\n    this.renderView();\n  },\n  /**\n   * 添加\n   */\n  addJoin: function addJoin() {\n    this.modelJoinFieldView = new ModelJoinFieldView({\n      nodeData: this.nodeData,\n      viewType: this.viewType,\n      joinItemDom: this.$el.find('.join-items')\n    });\n    this.$('.join-items').append(this.modelJoinFieldView.render().el);\n  },\n  /**\n   * 验证\n   */\n  validateConfig: function validateConfig() {\n    var bol = true;\n    if (this.modelJoinFieldView != undefined) {\n      bol = this.modelJoinFieldView.validateConfig();\n    } else {\n      bol = false;\n    }\n    return bol;\n  },\n  /**\n   * 初始化关联条如果有返回值则根据返回值初始化\n   */\n  initializeField: function initializeField() {\n    //验证节点数量和关联节点数量是否一致\n    for (var i = 0; i < this.nodeData.conf.join_fields.length; i++) {\n      this.modelJoinFieldView = new ModelJoinFieldView({\n        params: this.nodeData.params,\n        join_field: this.nodeData.conf.join_fields[i],\n        viewType: this.viewType,\n        joinItemDom: this.$el.find('.join-items')\n      });\n      this.$('.join-items').append(this.modelJoinFieldView.render().el);\n    }\n  },\n  /**\n   * 获取组件内容\n   */\n  getModelConfigData: function getModelConfigData() {\n    var conf = {};\n    conf.cal_type = 'join';\n    conf.join_type = this.$('.joinTypeSelect').val();\n    if (this.modelJoinFieldView) {\n      conf.join_fields = this.modelJoinFieldView.getJoinFieldData();\n    }\n    conf.fields = this.getOutputFields();\n    return conf;\n  },\n\n  /**\n   * 获取output_fields 返回显示字段值\n   * @returns {ModelJoinFieldView}\n   */\n  getOutputFields: function getOutputFields() {\n    var fields = [];\n    for (var i = 0; i < this.nodeData.params.length; i++) {\n      for (var j = 0; j < this.nodeData.params[i].fields.length; j++) {\n        var json = {};\n        json.nodeId = this.nodeData.params[i].node_id;\n        json.fieldDesc = this.nodeData.params[i].fields[j].fieldDesc;\n        json.fieldName = this.nodeData.params[i].fields[j].fieldName;\n        fields.push(json);\n      }\n    }\n    return fields;\n  },\n  //清空事件\n  destroy: function destroy() {\n    if (this.modelJoinFieldView) {\n      this.modelJoinFieldView.destroy();\n    }\n    this.undelegateEvents();\n    this.$el.off();\n    this.$el.empty();\n  },\n  /**\n   * 验证传入参数是否有模型字段如果没有查询后填充在展示界面\n   */\n  validateModelField: function validateModelField() {\n    var lef = this;\n    if (currentIndex == this.nodeData.params.length) {\n      this.$el.html(this.template({\n        viewType: this.viewType,\n        nodeData: this.nodeData,\n        modelsName: this.modelsName\n      }));\n      //如果是修改的时候进入的方法\n      if (this.nodeData.conf != undefined && this.nodeData.conf.join_fields != undefined) {\n        this.initializeField();\n      }\n      this.validateConfig();\n      return;\n    }\n    for (var i = 0; i < lef.nodeData.params.length; i++) {\n      lef.modelConfigModel.fetch({\n        url: '/models/' + lef.nodeData.params[currentIndex].modelId + '/fieldsAndLogs',\n        reset: true,\n        success: function success(model, response) {\n          if (response.data != null) {\n            if (lef.nodeData.params.length != currentIndex) {\n              if (lef.nodeData.params[currentIndex].fields == undefined || lef.nodeData.params[currentIndex].fields == '' || lef.nodeData.params[currentIndex].fields.length == 0) {\n                for (var j = 0; j < response.data.fieldList.length; j++) {\n                  lef.nodeData.params[currentIndex].fields.push({\n                    fieldDesc: response.data.fieldList[j].fieldDesc,\n                    fieldName: response.data.fieldList[j].fieldName\n                  });\n                }\n              }\n              currentIndex++;\n            }\n          } else {\n            currentIndex++;\n          }\n          if (currentIndex >= lef.nodeData.params.length) {\n            lef.validateModelField();\n          }\n        },\n        error: function error(arg1, arg2) {\n          alert('关联模块加载模型信息失败');\n          return;\n        }\n      });\n    }\n  },\n  //渲染关联界面\n  renderView: function renderView() {\n    //验证传入参数是否有模型字段如果没有查询后填充在展示界面\n    var bol = true;\n    for (var i = 0; i < this.nodeData.params.length; i++) {\n      if (this.nodeData.params[i].fields.fields == undefined || this.nodeData.params[i].fields == '' || this.nodeData.params[i].fields.length == 0) {\n        bol = false;\n        break;\n      }\n    }\n    if (bol) {\n      //初始化\n      this.$el.html(this.template({\n        viewType: this.viewType,\n        nodeData: this.nodeData,\n        modelsName: this.modelsName\n      }));\n      //如果是修改的时候进入的方法\n      if (this.nodeData.conf != undefined && this.nodeData.conf.join_fields != undefined) {\n        this.initializeField();\n      }\n    } else {\n      return this.validateModelField();\n    }\n  }\n});\n\nmodule.exports = ModelJoinView;\n\n/***/ }),\n\n/***/ \"u6y5\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar FooterView = Backbone.View.extend({\n  template: __webpack_require__(\"uVyg\"),\n  initialize: function initialize() {\n    this.$el.html(this.template());\n  }\n});\n\nmodule.exports = FooterView;\n\n/***/ }),\n\n/***/ \"uVyg\":\n/***/ (function(module, exports) {\n\nmodule.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<p class=\"text-center footer-text\">Copyright © 2017 Asiainfo All Rights Reserved.</p>\\n';\n\n}\nreturn __p\n}\n\n/***/ }),\n\n/***/ \"v2Nc\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\n\nvar NavMenu = Backbone.Model.extend({\n  defaults: {\n    active: false\n  },\n  active: function active() {\n    this.set('active', true);\n  }\n});\n\nmodule.exports = NavMenu;\n\n/***/ }),\n\n/***/ \"x2ZJ\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"xdsZ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar $ = __webpack_require__(\"7t+N\");\nvar Backbone = __webpack_require__(\"aGLy\");\n\nmodule.exports = {\n  setup: function setup(win) {\n    $(win.document).on('click', 'a[href]:not([data-bypass])', function (evt) {\n      var href = { prop: $(this).prop('href'), attr: $(this).attr('href') };\n      var root = win.location.protocol + '//' + win.location.host + '/';\n      if (href.prop.slice(0, root.length) === root) {\n        evt.preventDefault();\n        Backbone.history.navigate(href.attr, { trigger: true, replace: true });\n      }\n    });\n  }\n};\n\n/***/ }),\n\n/***/ \"xjDc\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {\n\n/**\n * 策略流程图工具栏组件\n * @export DiagramToolBarView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\nvar _ = __webpack_require__(\"rdLu\");\n__webpack_require__(\"mXlc\");\n\nvar DiagramToolBarView = Backbone.View.extend({\n  className: 'diagram-toolbar',\n  template: __webpack_require__(\"IRzy\"),\n  events: {\n    'click li': '_handleToolBarClick'\n  },\n  initialize: function initialize(options) {\n    _.extend(this, options);\n    this.scale = 1.0;\n    this.layout = 'horizontal';\n  },\n  render: function render() {\n    this.$el.append(this.template({ editModel: this.editModel }));\n    this.$('li').tooltip({\n      placement: 'right',\n      container: this.$el\n    });\n    return this;\n  },\n  /**\n   * 处理功能栏按钮点击事件\n   * @param e\n   * @private\n   */\n  _handleToolBarClick: function _handleToolBarClick(e) {\n    var $target = $(e.currentTarget),\n        action = $target.attr('data-action');\n    if (action && this[action] && _.isFunction(this[action])) {\n      this[action].call(this, $target);\n    }\n  },\n  /**\n   * 获取所有的工具栏处理函数ID\n   */\n  getAllHandler: function getAllHandler() {\n    return ['zoom', 'revert', 'changeLayout', 'clearDiagram', 'showTips'];\n  },\n  /**\n   * 画布放大\n   */\n  zoomOut: function zoomOut() {\n    this.scale += 0.1;\n    this.scale = this.scale >= 1.5 ? 1.5 : this.scale;\n    Backbone.trigger('diagram-toolbar.zoom', this.scale);\n  },\n  /**\n   * 画布缩小\n   */\n  zoomIn: function zoomIn() {\n    this.scale -= 0.1;\n    this.scale = this.scale <= 0.5 ? 0.5 : this.scale;\n    Backbone.trigger('diagram-toolbar.zoom', this.scale);\n  },\n  /**\n   * 还原原始画布大小\n   */\n  revert: function revert() {\n    Backbone.trigger('diagram-toolbar.revert');\n  },\n  /**\n   * 展示节点备注\n   */\n  showComment: function showComment() {},\n\n  /**\n   * 画布全屏展示\n   */\n  fullScreen: function fullScreen() {\n    Backbone.trigger('diagram-toolbar.fullScreen');\n  },\n  /**\n   * 修改布局方向\n   */\n  layoutDir: function layoutDir($target) {\n    if (this.layout === 'horizontal') {\n      $target.find('i').removeClass('icon-layout').addClass('icon-buju');\n      this.layout = 'vertical';\n    } else {\n      $target.find('i').removeClass('icon-buju').addClass('icon-layout');\n      this.layout = 'horizontal';\n    }\n    Backbone.trigger('diagram-toolbar.changeLayout', this.layout);\n  },\n  /**\n   * 清空画布\n   */\n  clearDiagram: function clearDiagram() {\n    Backbone.trigger('diagram-toolbar.clearDiagram');\n  },\n\n  /**\n   * 显示使用提示\n   */\n  showTips: function showTips() {\n    Backbone.trigger('diagram-toolbar.showTips');\n  },\n  /**\n   * 画布组件销毁\n   */\n  destroy: function destroy() {\n    this.undelegateEvents();\n    this.stopListening();\n    this.$('li').tooltip('destroy');\n    this.$el.off();\n    this.remove();\n  }\n});\nmodule.exports = DiagramToolBarView;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"7t+N\")))\n\n/***/ }),\n\n/***/ \"xmkW\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Backbone = __webpack_require__(\"aGLy\");\nvar $ = __webpack_require__(\"7t+N\");\nvar _ = __webpack_require__(\"rdLu\");\nvar StrategyTemplateModel = __webpack_require__(\"i9yh\");\nvar StrategyModelLogsView = Backbone.View.extend({\n  template: __webpack_require__(\"aFww\"),\n  initialize: function initialize(options) {\n    _.extend(this, options);\n    this.model = new StrategyTemplateModel();\n    var url = \"strategies/\" + this.strategieId + \"/modelState\";\n    this.model.fetch({ reset: true, url: url });\n    this.listenTo(this.collection, 'reset', this.render);\n  },\n  render: function render() {\n    this.$el.html(this.template({ data: this.model.toJSON() }));\n    return this;\n  },\n  destroy: function destroy() {\n    this.stopListening();\n    this.undelegateEvents();\n    this.remove();\n  }\n});\n\nmodule.exports = StrategyModelLogsView;\n\n/***/ }),\n\n/***/ \"ykGu\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(_) {module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<h5 >历史推荐数据</h5>\\n<div  class=\"container-table\">\\n\t<table class=\"common-table\">\\n\t\t<thead>\\n\t\t<tr >\\n\t\t\t<th style=\"width:5%;\">序号</th>\\n\t\t\t<th style=\"width:35%;\">数据生成时间</th>\\n\t\t\t<th style=\"width:35%;\">数据量</th>\\n\t\t\t<th style=\"width:20%;\">操作</th>\\n\t\t</tr>\\n\t\t</thead>\\n\t\t<tbody id=\"historyTbody\">\\n\t\t';\n _.each(data,function(data,i){ ;\n__p += '\\n\t\t<tr class=\"content-table-tr\">\\n\t\t\t<td class=\"text-center\">' +\n((__t = (i++)) == null ? '' : __t) +\n'</td>\\n\t\t\t<td class=\"text-center\">' +\n((__t = (data.endTime)) == null ? '' : __t) +\n'</td>\\n\t\t\t<td class=\"text-center\">' +\n((__t = (data.dataCount)) == null ? '' : __t) +\n'</td>\\n\t\t\t<td class=\"status\">\\n\t\t\t<span>\\n\t\t\t <span><a target=\"_blank\" class=\"approve-tactics\" data-action=\"download\" data-id=\"' +\n((__t = (data.logId)) == null ? '' : __t) +\n'\">下载</a></span>\\n\t\t\t</span>\\n\t\t\t</td>\\n\t\t</tr>\\n\t\t';\n }) ;\n__p += '\\n\t\t</tbody>\\n\t</table>\\n</div>\\n';\n\n}\nreturn __p\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"rdLu\")))\n\n/***/ }),\n\n/***/ \"zaJj\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {\n\n/**\n * 策略保存视图组件\n * @export StrategySaveView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nvar Backbone = __webpack_require__(\"aGLy\");\nvar _ = __webpack_require__(\"rdLu\");\nvar App = __webpack_require__(\"kE97\");\n__webpack_require__(\"6Ai3\");\n__webpack_require__(\"QddB\");\nBackbone.Validation.configure({\n  forceUpdate: true\n});\n_.extend(Backbone.Validation.callbacks, {\n  valid: function valid(view, attr) {\n    var $el = view.$('[name=' + attr + ']'),\n        $group = $el.closest('.form-group');\n    $group.removeClass('has-error');\n    $group.find('.help-block').html('').addClass('hidden');\n  },\n  invalid: function invalid(view, attr, error) {\n    var $el = view.$('[name=' + attr + ']'),\n        $group = $el.closest('.form-group');\n    $group.addClass('has-error');\n    $group.find('.help-block').html(error).removeClass('hidden');\n  }\n});\nvar StrategySaveView = Backbone.View.extend({\n  className: 'ui-tactics-container',\n  template: __webpack_require__(\"bHox\"),\n  initialize: function initialize() {\n    this.$el.append(this.template({ data: this.model.toJSON() }));\n  },\n  bindings: {\n    '[name=strategyName]': {\n      observe: 'strategyName',\n      setOptions: {\n        validate: true\n      }\n    }\n  },\n  render: function render() {\n    Backbone.Validation.bind(this);\n    this.stickit();\n    return this;\n  },\n  setStrategyName: function setStrategyName(e) {\n    var $target = $(e.target),\n        fieldName = $target.attr('name');\n    this.model.set(fieldName, $(e.target).val());\n  },\n  remove: function remove() {\n    Backbone.Validation.unbind(this);\n    this.unstickit();\n    return Backbone.View.prototype.remove.apply(this, arguments);\n  },\n  destroy: function destroy() {\n    this.undelegateEvents();\n    this.stopListening();\n    this.remove();\n  }\n});\nmodule.exports = StrategySaveView;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"7t+N\")))\n\n/***/ })\n\n},[0]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.8e71bc39.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<div class=\"strategy-data-nodes\">\\n\t<h4 class=\"box-title\">数据节点</h4>\\n\t<div>\\n\\n\t</div>\\n\t<ul class=\"data-nodes\">\\n\t';\n _.each(nodes,function(node,index){ ;\n__p += '\\n\t\t<li class=\"' +\n((__t = ((index%2==0?\"odd\":\"even\"))) == null ? '' : __t) +\n'\" data-id=\"' +\n((__t = (node.nodeId)) == null ? '' : __t) +\n'\">\\n\t\t\t<i class=\"iconfont ' +\n((__t = (node.icon)) == null ? '' : __t) +\n'\"></i><span>' +\n((__t = (node.nodeName)) == null ? '' : __t) +\n'</span>\\n\t\t</li>\\n\t';\n }) ;\n__p += '\\n\t</ul>\\n</div>\\n<div class=\"strategy-calc-nodes\">\\n\t<h4 class=\"box-title box-title-calc\">操作节点</h4>\\n\t<div class=\"calc-nodes\">\\n\t';\n _.each(calNodes,function(node,index){ ;\n__p += '\\n\t\t';\n if(index%2 ===0) {;\n__p += '\\n\t\t<div class=\"calc-nodes-row\">\\n\t\t';\n};\n__p += '\\n\t\t\t<div class=\"calc-node ' +\n((__t = ((index%2===0?'pull-left':'pull-right'))) == null ? '' : __t) +\n'\" data-id=\"' +\n((__t = (node.type)) == null ? '' : __t) +\n'\" data-icon=\"' +\n((__t = (node.icon)) == null ? '' : __t) +\n'\" title=\"' +\n((__t = (node.desc)) == null ? '' : __t) +\n'\">\\n\t\t\t\t<i class=\"iconfont ' +\n((__t = (node.icon)) == null ? '' : __t) +\n'\" data-id=\"' +\n((__t = (node.type)) == null ? '' : __t) +\n'\"></i>\\n\t\t\t\t<span>' +\n((__t = (node.name)) == null ? '' : __t) +\n'</span>\\n\t\t\t</div>\\n\t\t';\n if(index%2 !==0) {;\n__p += '\\n\t\t</div>\\n\t\t';\n};\n__p += '\\n\t';\n }) ;\n__p += '\\n\t</div>\\n</div>\\n';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/create/strategy_node_select.tpl\n// module id = /xF0\n// module chunks = 0","/**\n * 模型节点Model集合\n * @export ModelNodeCollection\n * @extends Backbone.Collection\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\nconst _ = require('underscore');\nconst ModelNode = require('models/ModelNode');\n\nconst ModelNodeCollection = Backbone.Collection.extend({\n  model: ModelNode,\n  initialize: function(options) {\n    _.extend(this, options);\n  },\n  url: function() {\n    return 'businesses/' + this.busiCode + '/models/public';\n  },\n  setBusiCode: function(busiCode) {\n    this.busiCode = busiCode;\n  },\n});\n\nmodule.exports = ModelNodeCollection;\n\n\n\n// WEBPACK FOOTER //\n// ./src/collections/ModelNodeCollection.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"modal-confirm\">\\n\t<i class=\"iconfont icon-gaojing\"></i>\\n\t<span class=\"confirm-title\">' +\n((__t = (title)) == null ? '' : __t) +\n'</span>\\n\t<div class=\"confirm-content\">' +\n((__t = (content)) == null ? '' : __t) +\n'</div>\\n</div>';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/common/modal-alert.tpl\n// module id = 2uJk\n// module chunks = 0","/**\n * 画布保存localStrorage 操作工具函数\n * @export Object\n * @author liyi\n * @modifier\n */\nconst _ = require('underscore');\nmodule.exports = function(keyPrefix) {\n  const util = {\n    saveModelToLocalStorage: function(model) {\n      if (window.localStorage) {\n        window.localStorage.setItem(\n          keyPrefix + model.id,\n          JSON.stringify(model),\n        );\n      }\n    },\n    delModelFromLocalStorage: function(model) {\n      if (window.localStorage) {\n        window.localStorage.removeItem(keyPrefix + model.id);\n      }\n    },\n    resetModelToLocalStorage: function(models) {\n      util.clearLocalStorage();\n      _.each(models || [], function(model) {\n        util.saveModelToLocalStorage(model);\n      });\n    },\n    restoreFromLocalStorage: function() {\n      const result = [];\n      if (window.localStorage) {\n        for (let i = 0; i < window.localStorage.length; i++) {\n          let key = window.localStorage.key(i);\n          if (key.substr(0, keyPrefix.length) === keyPrefix) {\n            result.push(JSON.parse(window.localStorage.getItem(key)));\n          }\n        }\n      }\n      return result;\n    },\n    clearLocalStorage: function() {\n      if (window.localStorage) {\n        const keyAry = [];\n        for (let i = 0; i < window.localStorage.length; i++) {\n          let key = window.localStorage.key(i);\n          if (key.substr(0, keyPrefix.length) === keyPrefix) {\n            keyAry.push(key);\n          }\n        }\n        _.each(keyAry, function(key) {\n          window.localStorage.removeItem(key);\n        });\n      }\n    },\n  };\n  return util;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/localStorageUtil.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n\nif(viewType!=\"view\"){;\n__p += '\\n<span class=\"join-delete\" id=\"deleteDiv\" title=\"删除\">×</span>\\n';\n};\n__p += '\\n';\nif(!nodeData){;\n__p += '\\n\t';\n_.each(field,function(fieldd){;\n__p += '\\n\t\t\t';\nfor(var key in fieldd){;\n__p += '\\n\t\t\t\t';\n _.each(params,function(data){ ;\n__p += '\\n\t\t\t\t\t';\nif(key==data.node_id){;\n__p += '\\n\t\t\t\t\t\t';\nif(viewType==\"view\"){;\n__p += '\\n\t\t\t\t\t\t\t<div class=\"join-item\">\\n\t\t\t\t\t\t\t\t<span title=\"' +\n((__t = (data.node_name)) == null ? '' : __t) +\n'\" >' +\n((__t = (data.node_name)) == null ? '' : __t) +\n'：</span>\\n\t\t\t\t\t\t\t\t';\n _.each(data.fields,function(field){ ;\n__p += '\\n\t\t\t\t\t\t\t\t\t';\nif(fieldd[key]==field.fieldName){;\n__p += '\\n\t\t\t\t\t\t\t\t\t\t<span title=\"' +\n((__t = (field.fieldName)) == null ? '' : __t) +\n'\" >' +\n((__t = (field.fieldName)) == null ? '' : __t) +\n'</span>\\n\t\t\t\t\t\t\t\t\t';\n};\n__p += '\\n\t\t\t\t\t\t\t\t';\n }) ;\n__p += '\\n\t\t\t\t\t\t\t</div>\\n\t\t\t\t\t\t';\n}else{;\n__p += '\\n\t\t\t\t\t\t\t<div class=\"join-item\">\\n\t\t\t\t\t\t\t\t<input type=\"hidden\"  value=\"' +\n((__t = (data.node_id)) == null ? '' : __t) +\n'\" />\\n\t\t\t\t\t\t\t\t<span class=\"model-title\" title=\"' +\n((__t = (data.node_name)) == null ? '' : __t) +\n'\" name=\"' +\n((__t = (data.node_id)) == null ? '' : __t) +\n'\">' +\n((__t = (data.node_name)) == null ? '' : __t) +\n'：</span>\\n\t\t\t\t\t\t\t\t<select name=\"' +\n((__t = (data.node_id)) == null ? '' : __t) +\n'\"  class=\"selectWidth\">\\n\t\t\t\t\t\t\t\t\t<option value =\"0\" selected>请选择</option>\\n\t\t\t\t\t\t\t\t\t\t';\n _.each(data.fields,function(field){ ;\n__p += '\\n\t\t\t\t\t\t\t\t\t\t\t';\nif(fieldd[key]==field.fieldName){;\n__p += '\\n\t\t\t\t\t\t\t\t\t\t\t\t<option value =\"' +\n((__t = (field.fieldName)) == null ? '' : __t) +\n'\" selected>' +\n((__t = (field.fieldDesc)) == null ? '' : __t) +\n'</option>\\n\t\t\t\t\t\t\t\t\t\t\t';\n}else{;\n__p += '\\n\t\t\t\t\t\t\t\t\t\t\t\t<option value =\"' +\n((__t = (field.fieldName)) == null ? '' : __t) +\n'\">' +\n((__t = (field.fieldDesc)) == null ? '' : __t) +\n'</option>\\n\t\t\t\t\t\t\t\t\t\t';\n }}) ;\n__p += '\\n\t\t\t\t\t\t\t\t</select>\\n\t\t\t\t\t\t\t\t<i id=\"deleteJoin\" class=\"iconfont icon-error join-item-delete\"  nodeid=\"' +\n((__t = (data.node_id)) == null ? '' : __t) +\n'\" title=\"删除\"></i>\\n\t\t\t\t\t\t\t</div>\\n\t\t\t\t\t\t';\n};\n__p += '\\n\t\t\t\t\t';\n};\n__p += '\\n\t\t\t\t';\n }) ;\n__p += '\\n\t\t\t';\n};\n__p += '\\n\t';\n});\n__p += '\\n';\n}else{;\n__p += '\\n\t';\n _.each(nodeData.params,function(data){ ;\n__p += '\\n\t\t\t<div class=\"join-item\">\\n\t\t\t\t<input type=\"hidden\"  value=\"' +\n((__t = (data.node_id)) == null ? '' : __t) +\n'\" />\\n\t\t\t\t<span class=\"model-title\" title=\"' +\n((__t = (data.node_name)) == null ? '' : __t) +\n'\">' +\n((__t = (data.node_name)) == null ? '' : __t) +\n'：</span>\\n\t\t\t\t<select name=\"' +\n((__t = (data.node_id)) == null ? '' : __t) +\n'\" class=\"selectWidth\">\\n\t\t\t\t\t<option value =\"0\">请选择</option>\\n\t\t\t\t\t';\n _.each(data.fields,function(field){ ;\n__p += '\\n\t\t\t\t\t\t<option value =\"' +\n((__t = (field.fieldName)) == null ? '' : __t) +\n'\">' +\n((__t = (field.fieldDesc)) == null ? '' : __t) +\n'</option>\\n\t\t\t\t\t';\n }) ;\n__p += '\\n\t\t\t\t</select>\\n\t\t\t\t<i id=\"deleteJoin\" class=\"iconfont icon-error join-item-delete\" nodeid=\"' +\n((__t = (data.node_id)) == null ? '' : __t) +\n'\"  title=\"删除\"></i>\\n\t\t\t</div>\\n\t';\n }) ;\n__p += '\\n';\n};\n__p += '\\n';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/create/node/modelJoin/modelJoinField.tpl\n// module id = 4Xlg\n// module chunks = 0","module.exports = {\"LINE\":[{\"handler\":\"removeConnectorById\",\"name\":\"删除连线\",\"icon\":\"icon-shanchu\"}],\"DATA_NODE\":[{\"handler\":\"removeNodeById\",\"name\":\"删除节点\",\"icon\":\"icon-shanchu\",\"index\":10},{\"handler\":\"addComment\",\"name\":\"添加备注\",\"icon\":\"icon-beizhu\",\"index\":20},{\"type\":\"separator\",\"index\":30},{\"handler\":\"executeNode\",\"name\":\"执行节点\",\"icon\":\"icon-zhixing\",\"index\":40},{\"handler\":\"nodeConfig\",\"name\":\"节点配置\",\"icon\":\"icon-peizhi\",\"index\":50},{\"type\":\"separator\",\"index\":60},{\"handler\":\"viewData\",\"name\":\"查看数据\",\"icon\":\"icon-chakan\",\"index\":70},{\"handler\":\"exportData\",\"name\":\"导出数据\",\"icon\":\"icon-daochu\",\"index\":80},{\"handler\":\"viewLogs\",\"name\":\"查看日志\",\"icon\":\"icon-rizhi11\",\"index\":90}],\"OUTPUT\":[{\"handler\":\"asFinalNode\",\"name\":\"作为推荐结果输出\",\"icon\":\"icon-tuijian\",\"index\":11}],\"FINAL_OUTPUT\":[{\"handler\":\"cancelAsFinalNode\",\"name\":\"取消推荐结果输出\",\"icon\":\"icon-tuijian\",\"index\":11}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/strategy/create/context_menu_config.json\n// module id = 4Yid\n// module chunks = 0","/**\n * 模型节点Model\n * @export ModelNode\n * @extends Backbone.Model\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\n\nconst ModelNode = Backbone.Model.extend({\n  default: {},\n  idAttribute: 'nodeId',\n  parse: function(response) {\n    response['nodeName'] = response.nodeName || response.modelName || '';\n    response['nodeId'] = response.nodeId || response.modelId || '';\n    response['modelType'] = response.modelType || '1';\n    response['nodeType'] = response.nodeType || 1;\n    response['icon'] = response.icon || 'icon-shujumoxing-';\n    delete response.modelName;\n    return response;\n  },\n});\n\nmodule.exports = ModelNode;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/ModelNode.js","const Mock = require('mockjs');\n\nrequire('./mock/Mock_Irec');\nMock.setup({\n  timeout: '10-50',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/MockApi.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<header id=\"header-wrap\" class=\"irec-header\">\\n\t<div class=\"container-fluid\">\\n\t\t<div class=\"irec-logo pull-left\">\\n\t\t\t<span class=\"logo pull-left\"></span>\\n\t\t\t<span>智能推荐中心</span>\\n\t\t</div>\\n\t\t<nav id=\"navMenu\" class=\"irec-nav-menu pull-right\"></nav>\\n\t</div>\\n</header>\\n<div class=\"irec-container\">\\n\t<div class=\"irec-content\" id=\"container\"></div>\\n</div>\\n<footer class=\"irec-footer\" id=\"footer\"></footer>';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/main/layout.tpl\n// module id = 85QJ\n// module chunks = 0","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<div class=\"node-title\">\\n\t' +\n((__t = (modelsName)) == null ? '' : __t) +\n'\\n</div>\\n<ul class=\"node-model-log\">\\n\t<li class=\"info-label\">列表数量:</li><li>' +\n((__t = (datas.dataCount)) == null ? '' : __t) +\n'</li>\\n\t<li class=\"info-label\">更新周期：</li><li>' +\n((__t = (datas.cycle)) == null ? '' : __t) +\n'</li>\\n\t<li class=\"info-label\">最近更新时间:</li><li>' +\n((__t = (datas.updateTime)) == null ? '' : __t) +\n'</li>\\n</ul>\\n<div class=\"node-config-box\">\\n\t<div class=\"config-box-title\">模型输出字段选择:</div>\\n\t<div class=\"config-box-content\">\\n\t\t<table  id=\"modelFieldTable\" class=\"table  table-striped ui-table-cell\">\\n\t\t\t<thead>\\n\t\t\t\t<tr>\\n\t\t\t\t\t<th>字段名称</th>\\n\t\t\t\t\t<th>是否选择</th>\\n\t\t\t\t</tr>\\n\t\t\t</thead>\\n\t\t\t<tbody>\\n\t\t\t';\n _.each(datas.fieldList,function(data){ ;\n__p += '\\n\t\t\t\t<tr>\\n\t\t\t\t\t<td class=\"text-left first\" style=\"width: 70%;\">' +\n((__t = (data.fieldDesc)) == null ? '' : __t) +\n'(' +\n((__t = (data.fieldName)) == null ? '' : __t) +\n')</td>\\n\t\t\t\t\t';\nif(fields!=undefined){\n\t\t\t\t\tvar a=true;\n\t\t\t\t\tfor(var i=0;i<fields.length;i++){\n\t\t\t\t\tif(fields[i].fieldName==data.fieldName){;\n__p += '\\n\t\t\t\t\t<td class=\"text-center\"><input ' +\n((__t = (viewType!=\"edit\"?\"disabled\":\"\")) == null ? '' : __t) +\n' id=\"checkbox-orig\" type=\"checkbox\" data-value=\"' +\n((__t = (data.fieldName)) == null ? '' : __t) +\n'\" data-desc=\"' +\n((__t = (data.fieldDesc)) == null ? '' : __t) +\n'\" checked/></td>\\n\t\t\t\t\t';\na=false;break;;\n__p += '\\n\t\t\t\t\t';\n};\n__p += '\\n\t\t\t\t\t';\n}\n\t\t\t\t\tif(a){;\n__p += '\\n\t\t\t\t\t<td class=\"text-center\"><input ' +\n((__t = (viewType!=\"edit\"?\"disabled\":\"\")) == null ? '' : __t) +\n' id=\"checkbox-orig\" type=\"checkbox\" data-value=\"' +\n((__t = (data.fieldName)) == null ? '' : __t) +\n'\" data-desc=\"' +\n((__t = (data.fieldDesc)) == null ? '' : __t) +\n'\"/></td>\\n\t\t\t\t\t';\n};\n__p += '\\n\t\t\t\t\t';\n}else{;\n__p += '\\n\t\t\t\t\t<td class=\"text-center\"><input id=\"checkbox-orig\" ' +\n((__t = (viewType!=\"edit\"?\"disabled\":\"\")) == null ? '' : __t) +\n' type=\"checkbox\" data-value=\"' +\n((__t = (data.fieldName)) == null ? '' : __t) +\n'\" data-desc=\"' +\n((__t = (data.fieldDesc)) == null ? '' : __t) +\n'\" checked/></td>\\n\t\t\t\t\t';\n};\n__p += '\\n\t\t\t\t</tr>\\n\t\t\t\t';\n }) ;\n__p += '\\n\t\t\t</tbody>\\n\t\t</table>\\n\t</div>\\n</div>\\n\\n<div class=\"node-config-box filter-setting\">\\n\t<div class=\"config-box-title\">数据条件过滤:\\n\t\t';\nif(viewType!=\"view\"){;\n__p += '\\n\t\t<span class=\"btn-add-filter\" id=\"addFilter\">\\n\t\t\t<i  class=\"iconfont icon-icon02\"></i>添加过滤\\n\t\t</span>\\n\t\t';\n};\n__p += '\\n\t</div>\\n\t<div class=\"config-box-content filter-output\" ></div>\\n</div>\\n';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/create/node/modelConfig/modelsField.tpl\n// module id = 9Mej\n// module chunks = 0","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<a href=\"#\" class=\"close\">\\n&times;\\n</a>\\n<i class=\"iconfont icon-xinxi tips-icon\"></i>\\n<h4><span class=\"tips-title\">策略流程图使用提示</span></h4>\\n<p>连线说明:</p>\\n<ol>\\n<li>数据节点作为输入节点，只能与操作节点连接</li>\\n<li>操作节点作为输入节点，只能与操作节点连接</li>\\n</ol>\\n<p>图形绘制限制：</p>\\n<ol>\\n<li>关联、融合的操作节点的输入节点必须大于两个</li>\\n<li>操作节点不能作为初始节点</li>\\n<li>流程图绘制完毕时，必须通过最后节点的菜单，添加推荐结果节点</li>\\n</ol>\\n';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/create/diagram_tips.tpl\n// module id = A3K+\n// module chunks = 0","/**\n * 策略流程图画布右键菜单组件\n * @export ContextMenuView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\nconst $ = require('jquery');\nconst _ = require('underscore');\nconst DataNode = require('models/DataNode');\nconst menuConfig = require('./context_menu_config.json');\nrequire('styles/strategy/context-menu.scss');\nconst ContextMenuView = Backbone.View.extend({\n  className: 'diagram-menu-div',\n  template: require('templates/strategy/create/context_menu.tpl'),\n  toggle: '[data-toggle=\"diagram-context\"]',\n  events: {\n    'click.diagram.menu li:not(.separator)': '_handleMenuClick',\n  },\n  initialize: function(options) {\n    _.extend(this, options);\n    this.menu_hanlder = {};\n    this._bind_contextmenu_event();\n  },\n  render: function() {\n    return this;\n  },\n  renderMenu: function(nodeTypeId, nodeId) {\n    let menus = [];\n    if (nodeTypeId !== 'LINE') {\n      const nodeType = DataNode.getNodeTypeCode(nodeTypeId),\n        nodeMenus = menuConfig[nodeType],\n        dnMenus = menuConfig['DATA_NODE'];\n      menus = menus.concat(nodeMenus || []).concat(dnMenus || []);\n      // 如果有子节点，删除作为推荐结果输出的菜单项\n      if (this.diagram && this.diagram.hasChildNode(nodeId)) {\n        const _menu = _.findWhere(menus, { handler: 'asFinalNode' });\n        menus = _.without(menus, _menu);\n      }\n    } else {\n      menus = menuConfig[nodeTypeId];\n    }\n    menus = _.sortBy(menus, 'index');\n    this.$el.html(this.template({ menus: menus }));\n  },\n  /**\n   * 弹出菜单显示\n   * @param e\n   * @param nodeType 节点类型\n   * @param nodeId   节点编码\n   * @returns {boolean}\n   */\n  showMenu: function(e, nodeType, nodeId) {\n    if (this.$el.hasClass('opened')) {\n      this.closeMenu(e);\n    } else {\n      const position = this.getMenuPosition(e);\n      if (!nodeType) {\n        const $node = $(e.target).closest('.data-node,.data-calc-node');\n        // $node.addClass('selected');\n        nodeId = $node.attr('data-id');\n        nodeType = $node.attr('data-type');\n      }\n      this.renderMenu(nodeType, nodeId);\n      this.$el\n        .data('data-id', nodeId)\n        .data('data-type', nodeType)\n        .css(position)\n        .addClass('opened')\n        .fadeIn('fast');\n      $('html').on('click.diagram-context', $.proxy(this.closeMenu, this));\n    }\n    return false;\n  },\n  /**\n   * 处理菜单点击事件\n   * @param e\n   */\n  _handleMenuClick: function(e) {\n    Backbone.trigger('diagram:closeConfigView');\n    const handleFunc = $(e.currentTarget).attr('data-action'),\n      nodeId = this.$el.data('data-id');\n    Backbone.trigger('diagram-menu.' + handleFunc, nodeId);\n    this.closeMenu(e);\n    e.stopPropagation();\n  },\n  /**\n   * 关闭菜单，取消事件绑定\n   * @returns {boolean}\n   */\n  closeMenu: function(e) {\n    if (\n      this.$el.hasClass('opened') &&\n      !e.target.raphaelid &&\n      !$(e.target).hasClass('diagram-menu')\n    ) {\n      this.$el.removeClass('opened').fadeOut('fast');\n      this.$el.removeData('data-id');\n      $('html').off('click.diagram-context');\n    }\n    return false;\n  },\n\n  /**\n   * 添加菜单处理函数\n   * @param menuHandler 处理函数\n   */\n  addMenuHandler: function(menuHandler) {\n    _.extend(this.menu_hanlder, menuHandler);\n  },\n  /**\n   * document上绑定右键菜单事件\n   * @private\n   */\n  _bind_contextmenu_event: function() {\n    $(document)\n      .on(\n        'contextmenu.diagram-context',\n        this.toggle,\n        $.proxy(this.showMenu, this),\n      )\n      .on('contextmenu.diagram-context', $.proxy(this.closeMenu, this))\n      .on('click.diagram-node', this.toggle, $.proxy(this.closeMenu, this))\n      .on('mousedown.diagram-node', this.toggle, $.proxy(this.closeMenu, this));\n  },\n  /**\n   * 获取右键菜单弹出位置\n   * @param e\n   * @returns {{left: number, top: number}}\n   */\n  getMenuPosition: function(e) {\n    const mouseX = e.clientX,\n      mouseY = e.clientY,\n      boundsX = $(window).width(),\n      boundsY = $(window).height(),\n      menuWidth = this.$el.outerWidth(),\n      menuHeight = this.$el.outerHeight();\n    let top = 0,\n      left = 0,\n      parentOffset;\n    if (mouseY + menuHeight > boundsY) {\n      top = mouseY - menuHeight + $(window).scrollTop();\n    } else {\n      top = mouseY + $(window).scrollTop();\n    }\n    if (mouseX + menuWidth > boundsX && mouseX - menuWidth > 0) {\n      left = mouseX - menuWidth + $(window).scrollLeft();\n    } else {\n      left = mouseX + $(window).scrollLeft();\n    }\n    parentOffset = this.$el.parent().offset();\n    left -= parentOffset.left;\n    top -= parentOffset.top;\n    return { left: left, top: top };\n  },\n  /**\n   * 获取所有的菜单处理函数ID\n   */\n  getAllHandler: function() {\n    return _.reduce(\n      _.values(menuConfig),\n      function(result, menus) {\n        result = _.union(result, _.pluck(menus, 'handler'));\n        return _.without(result, undefined);\n      },\n      [],\n    );\n  },\n  /**\n   * 组件销毁\n   */\n  destroy: function() {\n    this.undelegateEvents();\n    this.$el.removeData();\n    delete this.menu_hanlder;\n    $(document).off('contextmenu.diagram-context', this.toggle);\n    $(document).off('contextmenu.diagram-context');\n    $(document).off('click.diagram-node', this.toggle);\n    $(document).off('mousedown.diagram-node', this.toggle);\n    $('html').off('click.diagram-context');\n    this.stopListening();\n    this.remove();\n  },\n});\nmodule.exports = ContextMenuView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/create/ContextMenuView.js","const Backbone = require('backbone');\nconst _ = require('underscore');\nconst StrategyModel = require('models/strategy/StrategyModel');\nconst StrategyDetailView = Backbone.View.extend({\n  template: require('templates/strategy/details/detail.tpl'),\n  events: {\n    'click [data-action=\"backRoute\"]': 'backRoute',\n  },\n  initialize: function(options) {\n    this.onload = _.noop;\n    _.extend(this, options);\n    this.model = new StrategyModel({\n      strategyId: this.strategieId,\n    });\n    this.model.fetch();\n    this.listenTo(this.model, 'change', this.renderData);\n  },\n  render: function() {\n    // this.renderData();\n    return this;\n  },\n  renderData: function() {\n    this.$el.html(this.template({ model: this.model.toJSON() }));\n    if (this.onload && _.isFunction(this.onload)) {\n      this.onload.call();\n    }\n  },\n  /**\n   * 获取策略配置JSON对象\n   * @return {*}\n   */\n  getDiagramConfigJSON: function() {\n    return this.model.get('strategyConf') || {};\n  },\n  //返回列表页\n  backRoute: function(obj) {\n    Backbone.history.navigate('strategies/manage/' + this.model.get('busiCode'), {\n      trigger: true,\n    });\n  },\n  destroy: function() {\n    this.stopListening();\n    this.undelegateEvents();\n    this.remove();\n  },\n});\nmodule.exports = StrategyDetailView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/details/subviews/StrategyDetailView.js","const Backbone = require('backbone');\nconst $ = require('jquery');\nconst _ = require('underscore');\nconst NavMenuCollection = require('collections/NavMenuCollection');\n\nconst NavMenuView = Backbone.View.extend({\n  tagName: 'ul',\n  events: {\n    'click li': 'menuNav',\n  },\n  template: require('templates/main/nav_menu.tpl'),\n  initialize: function() {\n    this.collection = new NavMenuCollection();\n    this.collection.add([\n      { id: 'create_strategy', name: '新建策略', href: 'strategies/create' },\n      { id: 'list_strategies', name: '策略管理', href: 'strategies/manage' },\n      { id: 'model_manage', name: '模型管理', href: 'models/manage' },\n      { id: 'data_manage', name: '数据管理', href: 'data/manage' },\n      { id: 'sys_manage', name: '系统管理', href: 'system/manage' },\n    ]);\n    this.listenTo(this.collection, 'reset', this.render);\n    this.listenTo(this.collection, 'change', this.render);\n    Backbone.on(\n      'irec.navMenu',\n      _.bind(function(menuId) {\n        this.activeMenu(menuId);\n      }, this),\n    );\n  },\n  render: function() {\n    this.$el.html(this.template(this.collection.toJSON()));\n    return this;\n  },\n  menuNav: function(e) {\n    let id = $(e.currentTarget).attr('data-value');\n    const menu = this.collection.get(id);\n    if (menu) {\n      this.activeMenu(menu);\n      Backbone.history.navigate(menu.get('href'), {\n        trigger: true,\n        replace: true,\n      });\n      if (this.activeMenuId === id) {\n        Backbone.history.loadUrl();\n      }\n      this.activeMenuId = menu.id;\n    }\n  },\n  activeMenu: function(menu) {\n    let _menu = _.isString(menu) ? this.collection.get(menu) : menu;\n    if (_menu) {\n      this.collection.unActive();\n      _menu.active();\n    }\n  },\n});\nmodule.exports = NavMenuView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/main/NavMenuView.js","/**\n * 策略流程图画布视图组件\n * @export DiagramView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\nconst _ = require('underscore');\nconst $ = require('jquery');\nrequire('jquery-ui/ui/widgets/draggable');\nconst Raphael = require('views/strategy/create/RaphaelExtend');\nconst DataNodeCollection = require('collections/DataNodeCollection');\nconst NodeConnectionCollection = require('collections/NodeConnectionCollection');\nconst DataNode = require('models/DataNode');\nconst DataNodeView = require('views/strategy/create/DataNodeView');\nconst ContextMenuView = require('./ContextMenuView');\nconst DiagramToolbarView = require('./DiagramToolbarView');\nconst ModalView = require('views/common/ModalView');\nconst App = require('utils/App');\nconst DiagramTipsView = require('views/strategy/create/DiagramTipsView');\nconst DiagramNodeConfigView = require('views/strategy/create/DiagramNodeConfigView');\nrequire('styles/strategy/diagram.scss');\n\nconst DiagramView = Backbone.View.extend({\n  className: 'diagram-container',\n  styles: {\n    DRAGGING_ADD_CURSOR: 'node-dragging-cursor', //节点拖动中的鼠标添加指针样式\n    LINE: {\n      // 画布上节点正式连线的样式\n      stroke: '#22B1E9',\n      'stroke-width': '2',\n      cursor: 'pointer',\n    },\n    BG_LINE: {\n      stroke: '#22B1E9',\n      'stroke-opacity': 0,\n      'stroke-width': '12',\n      cursor: 'pointer',\n    },\n    TMP_LINE: {\n      // 画布上，手动连线时线段的样式\n      stroke: '#22B1E9',\n      'stroke-width': '2',\n      'stroke-dasharray': '-',\n    },\n  },\n  events: {\n    'click.diagram .diagram-canvas': 'closeNodeConfig',\n  },\n  animation: {\n    line: Raphael.animation(\n      //连线动画效果\n      {\n        '0%': { 'stroke-width': '3' },\n        '25%': { 'stroke-width': '3.2' },\n        '50%': { 'stroke-width': '3.5' },\n        '75%': { 'stroke-width': '3.2' },\n        '100%': { 'stroke-width': '3' },\n      },\n      500,\n      '<>',\n      function() {},\n    ).repeat(Infinity),\n  },\n  /**\n   * 组件初始化\n   */\n  initialize: function(options) {\n    this.editModel = true;\n    this.layout = 'horizontal'; //默认水平布局\n    this.zoomScale = 1.0; //默认画布缩放系数\n    this.collection = new DataNodeCollection();\n    this.connCollection = new NodeConnectionCollection();\n    _.extend(this, options);\n    this.loaded = false;\n    this.dataNodeViews = {}; //用于缓存数据节点视图的对象\n    this.toolbarView = new DiagramToolbarView({ editModel: this.editModel }); // 画布工具栏视图组件\n    if (this.editModel) {\n      // 编辑模式才有右键菜单\n      this.contextMenuView = new ContextMenuView({ diagram: this }); // 右键菜单视图组件\n    }\n    // 新建节点配置视图组件\n    this.nodeConfigView = new DiagramNodeConfigView({\n      editModel: this.editModel,\n      diagram: this,\n    });\n    Backbone.on('diagram:closeConfigView', _.bind(this.closeNodeConfig, this));\n    this.bindEventHandler('diagram-toolbar', this.toolbarView.getAllHandler());\n    if (this.editModel) {\n      this.bindEventHandler(\n        'diagram-menu',\n        this.contextMenuView.getAllHandler(),\n      );\n    }\n    // 新建画布使用说明提示组件\n    this.diagramTipsView = new DiagramTipsView();\n    this.onShow = this.onShow || $.noop;\n    this.onDestroy = this.onDestroy || $.noop;\n  },\n\n  /**初始化事件监听\n   */\n  initializeListen: function() {\n    this.collection = this.collection || new DataNodeCollection();\n    this.connCollection = this.connCollection || new NodeConnectionCollection();\n    this.listenTo(this.collection, 'add', this.renderDataNode);\n    this.listenTo(this.collection, 'remove', this.removeDataNode);\n    this.listenTo(this.connCollection, 'add', this.renderConnectionByConnModel);\n    this.listenTo(this.connCollection, 'remove', this.removeConnection);\n    this._renderCanvasElement();\n    this.loaded = true;\n    if (_.isFunction(this.onShow)) {\n      this.onShow.apply(this);\n    }\n  },\n  /**\n   * 初始化获取数据节点和连接节点集合\n   * 从localStorage中恢复未保存的画布配置\n   */\n  initConnection: function() {\n    this.initializeListen();\n  },\n  /**\n   * 组件渲染\n   * @returns {DiagramView}\n   */\n  render: function() {\n    this._$canvas = $('<div class=\"diagram-canvas\"/>');\n    this.$el\n      .empty()\n      .append(this._$canvas)\n      .append(this.toolbarView.render().el)\n      .append(this.nodeConfigView.render().el)\n      .append(this.diagramTipsView.render().el);\n    if (this.editModel) {\n      this.$el.append(this.contextMenuView.render().el);\n    }\n    this.paper = new Raphael(this._$canvas.get(0), '100%', '100%');\n    this.collectionSet = this.paper.set();\n    this.allowDiagramDrag();\n    return this;\n  },\n  /**\n   * 展示图形画布\n   * diagramConfig 图形配置对象{nodes:[],connectors:[]}\n   * isStore 是否存储至localStorage\n   */\n  show: function(diagramConfig, isStore) {\n    console.trace('000');\n    if (this.isShow === true) {\n      console.warn('画布已初始化,不能再调用show方法!');\n      return;\n    }\n    if (diagramConfig) {\n      let configJSON = diagramConfig;\n      if (_.isString(diagramConfig)) {\n        configJSON = JSON.parse(diagramConfig);\n      }\n      this.collection.reset(configJSON['nodes'] || [], { silent: true });\n      this.connCollection.reset(configJSON['connectors'] || [], {\n        silent: true,\n      });\n    }\n    this.initConnection();\n    if (isStore === true) {\n      this.collection.initSyncLocalStorageListen();\n      this.connCollection.initSyncLocalStorageListen();\n    }\n    this.onShow.apply(this);\n    this.isShow = true;\n  },\n\n  /**\n   * 渲染数据节点、连线节点集合数据至画布\n   */\n  _renderCanvasElement: function() {\n    const self = this;\n    this.collection.each(function(dataNode) {\n      self.renderDataNode(dataNode);\n    });\n    this.connCollection.each(function(connectionNode) {\n      self.renderConnectionByConnModel(connectionNode);\n    });\n  },\n\n  /**\n   * 绑定事件处理函数\n   * @param context  事件上下文\n   * @param handlers  处理函数ID数组\n   */\n  bindEventHandler: function(context, handlers) {\n    const self = this;\n    _.each(handlers, function(handler) {\n      const handleFunc = _.property(handler)(self);\n      if (!handleFunc || !_.isFunction(handleFunc)) {\n        Backbone.on(`${context}.${handler}`, function() {\n          App.warn(`此右键功能操作函数尚未实现！`);\n          console.warn && console.warn(`此右键功能操作函数${handler}尚未实现！`);\n        });\n      } else {\n        Backbone.on(`${context}.${handler}`, _.bind(handleFunc, self));\n      }\n    });\n  },\n  /**\n   * 清除事件绑定\n   * @param context\n   * @param handlers\n   */\n  clearEventHandler: function(context, handlers) {\n    _.each(handlers, function(handler) {\n      Backbone.off(`${context}.${handler}`);\n    });\n  },\n  /**\n   * 设置画布布局\n   */\n  changeLayout: function(layout) {\n    this.layout = layout;\n    this.reRender();\n  },\n  /**\n   * 获取当前画布缩放比例\n   * @return\n   */\n  getZoomScale: function() {\n    return this.zoomScale;\n  },\n  /**\n   * 缩放画布\n   * @param scale\n   */\n  zoom: function(scale) {\n    this.zoomScale = scale;\n    this._$canvas.css({\n      transform: 'scale(' + this.zoomScale + ')',\n    });\n  },\n  /**\n   * 还原画布\n   */\n  revert: function() {\n    this.zoom(1.0);\n    this._$canvas.animate({ left: 0, top: 0 }, 'fast');\n  },\n  /**\n   * 清空画布，重新渲染\n   */\n  reRender: function() {\n    this.clearCanvas();\n    this.clearDataNode();\n    this._renderCanvasElement();\n  },\n\n  /**\n   * 清空canvas\n   */\n  clearCanvas: function() {\n    if (this.collectionSet) {\n      this.collectionSet.unhover();\n      this.collectionSet.unmousedown();\n      this.collectionSet.clear();\n    }\n    this.paper && this.paper.clear();\n  },\n  /**\n   * 清空画布\n   */\n  clearDiagram: function() {\n    this.clearCanvas();\n    this.clearDataNode();\n    this.collection && this.collection.reset();\n    this.connCollection && this.connCollection.reset();\n  },\n  /**\n   * 清除画布上所有的节点\n   */\n  clearDataNode: function() {\n    _.each(_.values(this.dataNodeViews || {}), function(dataNodeView) {\n      dataNodeView.destroy();\n    });\n    this.dataNodeViews = {};\n  },\n  /**\n   * 获取画布容器offset\n   * @returns {*}\n   */\n  getContainerOffset: function() {\n    return this._$canvas.offset();\n  },\n  getContainerSize: function() {\n    return {\n      width: this._$canvas.width(),\n      height: this._$canvas.height(),\n    };\n  },\n  /**\n   * 获取画布容器边距（margin+padding）\n   * @returns {{left: number, top: number}|*}\n   */\n  getContainerSpacing: function() {\n    if (!this._spacing) {\n      this._spacing = {\n        left: (this._$canvas.outerWidth(true) - this._$canvas.width()) / 2,\n        top: (this._$canvas.outerHeight(true) - this._$canvas.height()) / 2,\n      };\n    }\n    return this._spacing;\n  },\n  /**\n   * 允许画布拖拽移动\n   */\n  allowDiagramDrag: function() {\n    const self = this;\n    this._$canvas.draggable({\n      start: function() {\n        self._diagramSize = {\n          width: self.$el.outerWidth(),\n          height: self.$el.outerHeight(),\n          canvas_width: self._$canvas.outerWidth(),\n          canvas_height: self._$canvas.outerHeight(),\n        };\n        $(this).addClass('grabbing');\n      },\n      drag: function(e, ui) {\n        const newPos = self._judgeCanvasBoundary(ui, $(this), 100);\n        if (newPos !== null) {\n          $(this).css('cursor', 'not-allowed');\n          return false;\n        }\n      },\n      stop: function(e, ui) {\n        const newPos = self._judgeCanvasBoundary(ui, $(this), 0);\n        if (newPos !== null) {\n          self._$canvas.animate({ left: newPos.left, top: newPos.top });\n        }\n        $(this).removeClass('grabbing').css('cursor', '');\n      },\n    });\n  },\n  /**\n   * 判断画布拖拽超出边界\n   * @private\n   */\n  _judgeCanvasBoundary: function(ui, $target, offset) {\n    const pos = ui.position,\n      size = this._diagramSize;\n    let minLeft = -(size.canvas_width - size.width);\n    let maxLeft = 0;\n    let minTop = -(size.canvas_height - size.height);\n    let maxTop = 0;\n    if (\n      pos.left < minLeft - offset ||\n      pos.left > maxLeft + offset ||\n      pos.top < minTop - offset ||\n      pos.top > maxTop + offset\n    ) {\n      let left = pos.left,\n        top = pos.top;\n      if (pos.left < minLeft - offset) left = minLeft;\n      if (pos.left > maxLeft + offset) left = maxLeft;\n      if (pos.top < minTop - offset) top = minTop;\n      if (pos.top > maxTop + offset) top = maxTop;\n      return { left: left, top: top };\n    }\n    return null;\n  },\n\n  /**\n   * 获取画布容器DIV对象\n   * @returns {jquery} jquery包装后的div对象\n   */\n  getCanvasContainer: function() {\n    return this._$canvas;\n  },\n  /**\n   * 根据两个节点di，添加两个节点间的连线\n   * @param fromId\n   * @param toId\n   */\n  addConnection: function(fromId, toId) {\n    this.connCollection.add({\n      from: fromId,\n      to: toId,\n    });\n  },\n  /**\n   * 添加数据节点\n   * @param nodeModel  数据节点对象\n   * @param x 节点添加到画布上的x坐标\n   * @param y 节点添加到画布上的y坐标\n   */\n  addDataNode: function(nodeModel, x, y) {\n    this.collection.add({\n      modelId: nodeModel.modelId,\n      type: parseInt(nodeModel.nodeType),\n      txt: nodeModel.nodeName,\n      icon: nodeModel.icon,\n      coordinate: { x: x, y: y },\n    });\n  },\n\n  /**\n   * 添加计算操作节点\n   * @param calcType 计算节点类型\n   * @param calcTxt  计算节点名称\n   * @param icon 节点图标\n   * @param x  节点x坐标\n   * @param y  节点y坐标\n   */\n  addCalcNode: function(calcType, calcTxt, icon, x, y) {\n    this.collection.add({\n      type: DataNode.NODE_TYPE.OUTPUT,\n      txt: calcTxt,\n      calcType: calcType,\n      icon: icon,\n      coordinate: { x: x, y: y },\n    });\n  },\n  /**\n   * 渲染数据节点至画布上\n   * @param dataNode\n   */\n  renderDataNode: function(dataNode) {\n    const dataNodeView = new DataNodeView({\n      model: dataNode,\n      diagram: this,\n    });\n    dataNodeView.render(this._$canvas);\n    this.dataNodeViews[dataNode.id] = dataNodeView;\n  },\n  /**\n   * 删除节点\n   * @param dataNodeId\n   */\n  removeNodeById: function(dataNodeId) {\n    App.confirm(\n      '确定要删除该数据节点么？',\n      '删除数据节点后，将删除与此节点相关的子节点的配置信息,需对子节点进行重新配置',\n      _.bind(this.collection.remove, this.collection, dataNodeId),\n    );\n  },\n  /**\n   * 删除连线\n   * @param connectorId\n   */\n  removeConnectorById: function(connectorId) {\n    let ids = connectorId.split('-');\n    App.confirm(\n      '确定要删除该节点连线么？',\n      '删除节点连线后，将删除与此连线连接的相关子节点的配置信息,需对子节点进行重新配置',\n      _.bind(\n        this.connCollection.removeConnectionByFromToId,\n        this.connCollection,\n        ids[0],\n        ids[1],\n      ),\n    );\n  },\n  /**\n   * 删除节点时，销毁节点视图，并删除节点连线\n   * @param dataNode\n   */\n  removeDataNode: function(dataNode) {\n    this.connCollection.removeConnectionsByNodeId(dataNode.id);\n    const dataNodeView = this.dataNodeViews[dataNode.id];\n    dataNodeView && dataNodeView.destroy();\n    delete this.dataNodeViews[dataNode.id];\n    App.success('删除节点 [ ' + dataNode.get('txt') + ' ] 成功！');\n    // 删除节点时，删除其子孙节点的配置\n    // this.clearDescendantNodeConfByConnector(dataNode.id, false);\n  },\n  /**\n   * 根据存入的连线对象，在画布上绘制连线\n   * @param connModel\n   */\n  renderConnectionByConnModel: function(connModel) {\n    const fromId = connModel.attributes.from,\n      toId = connModel.attributes.to,\n      fromView = this.dataNodeViews[fromId],\n      toView = this.dataNodeViews[toId],\n      lineId = `line-${fromId}-${toId}`,\n      line_bg_id = `line-bg-${fromId}-${toId}`,\n      line = this.paper.getById(lineId),\n      line_bg = this.paper.getById(line_bg_id),\n      from = this.getConnPortCoord(\n        this.layout,\n        true,\n        fromView.model.get('coordinate').x,\n        fromView.model.get('coordinate').y,\n        fromView.width,\n        fromView.height,\n        fromView.model.isCalcNode(),\n      ),\n      to = this.getConnPortCoord(\n        this.layout,\n        false,\n        toView.model.get('coordinate').x,\n        toView.model.get('coordinate').y,\n        toView.width,\n        toView.height,\n        toView.model.isCalcNode(),\n      );\n    if (!line) {\n      const connection = this.paper.connection(\n        from,\n        to,\n        this.styles.LINE,\n        this.styles.BG_LINE,\n      );\n      this.collectionSet.push(connection.line);\n      if (connection.bg) {\n        connection.bg.id = line_bg_id;\n        this.collectionSet.push(connection.bg);\n      }\n      connection.line.id = lineId;\n      this._handleCollectionEvent();\n    } else {\n      this.paper.connection({\n        from: from,\n        to: to,\n        line: line,\n        bg: line_bg,\n      });\n    }\n  },\n  /**\n   * 删除连线\n   * @param connModel\n   */\n  removeConnection: function(connModel) {\n    const from = connModel.attributes.from,\n      to = connModel.attributes.to,\n      line = this.paper.getById(`line-${from}-${to}`);\n    if (line) {\n      line.remove();\n      const bgline = this.paper.getById(`line-bg-${from}-${to}`);\n      if (bgline) {\n        bgline.remove();\n      }\n      this.clearDescendantNodeConfByConnector(to, true);\n      App.success('删除连线成功！');\n    }\n  },\n\n  /**\n   * 根据dataNode id，删除其后代节点的节点配置\n   * @param nodeId\n   * @param isContainParmNode\n   */\n  clearDescendantNodeConfByConnector: function(nodeId, isContainParmNode) {\n    //获取所有的子孙节点ID数组\n    const self = this;\n    let nodeIds = [];\n    if (isContainParmNode) nodeIds.push(nodeId);\n    nodeIds = nodeIds.concat(\n      this.connCollection.getDescendantNodesByNodeId(nodeId),\n    );\n    _.each(nodeIds, function(nodeId) {\n      const dataNode = self.collection.get(nodeId);\n      if (dataNode) {\n        dataNode.clearConfig();\n      }\n    });\n  },\n  /**\n   * 根据数据节点id，获取与此节点有连接的所有连线，对连线进行重新渲染\n   * @param dataNodelId\n   */\n  renderConnectionByNodeId: function(dataNodelId) {\n    const conns = this.connCollection.getCollectionsById(dataNodelId);\n    const self = this;\n    _.each(conns, function(item) {\n      self.renderConnectionByConnModel(item);\n    });\n  },\n  /**\n   * 渲染临时连线，根据连线的开始、结束两个临时端点\n   * @returns {*|Raphael.Element}\n   */\n  renderTempConnection: function(connection) {\n    if (!this.tmpConnection) {\n      this.tmpConnection = this.paper.connection(\n        connection.from,\n        connection.to,\n        this.styles.TMP_LINE,\n      );\n    } else {\n      this.tmpConnection.to = connection.to;\n      this.paper.connection(this.tmpConnection);\n    }\n    return this.tmpConnection;\n  },\n\n  /**\n   * 清空临时元素，清除缓存，从画布上移除\n   */\n  removeTempConnection: function() {\n    this.tmpConnection &&\n      this.tmpConnection.line &&\n      this.tmpConnection.line.remove() &&\n      this.tmpConnection.bg &&\n      this.tmpConnection.bg.remove();\n    delete this.tmpConnection;\n  },\n  /**\n   * 获取连线端点的坐标\n   * @param layoutDirection 布局方向\n   * @param isFrom  是否输入节点\n   * @param pos_x   数据节点x坐标\n   * @param  pos_y   数据节点y坐标\n   * @param width   数据节点宽度\n   * @param height  数据节点高度\n   * @param isCalcNode 是否计算节点\n   * @returns {{}}\n   */\n  getConnPortCoord: function(\n    layoutDirection,\n    isFrom,\n    pos_x,\n    pos_y,\n    width = 0,\n    height = 0,\n    isCalcNode,\n  ) {\n    let x = 0,\n      y = 0;\n    if (layoutDirection === 'horizontal') {\n      x = isFrom ? pos_x + width - 2 : pos_x + 2;\n      y = pos_y + height / 2;\n    } else {\n      x = pos_x + width / 2;\n      if (isCalcNode) {\n        x = pos_x + 30;\n      }\n      y = isFrom ? pos_y + height - 2 : pos_y + 2;\n    }\n    return {\n      x: x,\n      y: y,\n      width: 2,\n      height: 2,\n    };\n  },\n  /**\n   * 显示节点配置面板\n   * @param nodeId\n   */\n  showNodeConfig: function(nodeId) {\n    if (\n      this.collection.get(nodeId).isCalcNode() &&\n      !this.connCollection.allowNodeMix(nodeId)\n    ) {\n      App.warn('操作节点只有一个输入节点,不满足配置条件！');\n      return;\n    }\n    this.nodeConfigView.show(this.collection.get(nodeId));\n  },\n  /**\n   * 关闭节点配置面板\n   */\n  closeNodeConfig: function() {\n    this.nodeConfigView.close();\n    this.$('.selected').removeClass('selected');\n  },\n\n  /**\n   * 给数据节点增加注释\n   * @param dataNode\n   */\n  addComment: function(dataNode) {\n    const nodeId = _.isObject(dataNode) ? dataNode.id : dataNode,\n      dataNodeView = this.dataNodeViews[nodeId];\n    if (dataNodeView) {\n      dataNodeView.addComment();\n    }\n  },\n  /**\n   * 处理canvas连线的hover及右键菜单事件\n   * @private\n   */\n  _handleCollectionEvent: function() {\n    const self = this;\n    this.collectionSet.unhover();\n    this.collectionSet.hover(\n      function() {\n        let line_bg = this;\n        if (this.id.substring(0, 7) !== 'line-bg') {\n          line_bg = this.paper.getById('line-bg' + this.id.substring(4));\n        }\n        line_bg.attr('stroke-opacity', '0.3');\n      },\n      function() {\n        let line_bg = this;\n        if (this.id.substring(0, 7) !== 'line-bg') {\n          line_bg = this.paper.getById('line-bg' + this.id.substring(4));\n        }\n        line_bg.attr('stroke-opacity', '0');\n      },\n    );\n    this.collectionSet.unmousedown();\n    this.collectionSet.mousedown(function(e) {\n      if (e.button === 2) {\n        self.contextMenuView.showMenu(\n          e,\n          'LINE',\n          this.id.replace('line-bg-', '').replace('line-', ''),\n        );\n      }\n      e.stopPropagation();\n    });\n  },\n  /**\n   * 节点配置\n   * @param dataNode\n   */\n  nodeConfig: function(dataNode) {\n    const nodeId = _.isObject(dataNode) ? dataNode.id : dataNode,\n      dataNodeView = this.dataNodeViews[nodeId];\n    if (dataNodeView) {\n      dataNodeView.select();\n    }\n  },\n  /**\n   * 查看节点数据\n   */\n  viewData: function(dataNode) {\n    const model = this.collection.get(dataNode);\n    const modalView = new ModalView({\n      title: '查看节点数据 - ' + model.get('txt'),\n      closeDestroy: true,\n    });\n    modalView.render();\n    modalView.open();\n  },\n  /**\n   * 查看节点日志\n   */\n  viewLogs: function(dataNode) {\n    const model = this.collection.get(dataNode);\n    const modalView = new ModalView({\n      title: '查看处理日志 - ' + model.get('txt'),\n      closeDestroy: true,\n    });\n    modalView.render();\n    modalView.open();\n  },\n  /**\n   * 判断两个节点是否已连接\n   */\n  isConnected: function(fromId, toId) {\n    return this.connCollection.isExist(fromId, toId);\n  },\n  /**\n   * 展示画布使用说明\n   */\n  showTips: function() {\n    this.diagramTipsView.toggle();\n  },\n  /**\n   * 验证图形连接是否正确\n   */\n  validateGrpah: function() {\n    let problemNodes = [];\n    const self = this;\n    if (this.collection.length === 0) {\n      this._validateLog([], '尚未设定策略处理流程!');\n      return [];\n    }\n    // 1. 验证是否有自连接的连线\n    problemNodes = this.connCollection.hasSelfJoin();\n    if (problemNodes.length > 0) {\n      this._validateLog(problemNodes, '01.图形校验失败！画布上存在自连接的节点');\n      return problemNodes;\n    }\n    // 2. 验证是否有孤立节点\n    const nodeIds = this.collection.pluck('id');\n    problemNodes = this.connCollection.hasIsolated(nodeIds);\n    if (problemNodes && problemNodes.length > 0) {\n      this._validateLog(problemNodes, '图形校验失败！画布上存在孤立节点');\n      return problemNodes;\n    }\n    // 3. 验证起始节点是否为数据节点\n    const startNodes = this.connCollection.getStartNodes();\n    problemNodes = _.filter(startNodes, function(nodeId) {\n      const node = self.collection.get(nodeId);\n      return node && node.isCalcNode();\n    });\n    if (problemNodes && problemNodes.length > 0) {\n      this._validateLog(problemNodes, '图形校验失败！画布上存在为操作节点的起始节点');\n      return problemNodes;\n    }\n    // 4. 验证终止节点是否唯一，是否为推荐结果节点\n    const endNodes = this.connCollection.getEndNodes();\n    if (endNodes.length >= 1) {\n      problemNodes = _.filter(endNodes, function(nodeId) {\n        const node = self.collection.get(nodeId);\n        return node && !node.isFinalNode();\n      });\n    }\n    if (problemNodes && problemNodes.length > 0) {\n      this._validateLog(problemNodes, '图形校验失败！画布上未设置最终推荐结果输出的节点');\n      return problemNodes;\n    }\n    // 5. 验证操作节点是否有超过两个的输入节点\n    const calcNodes = _.pluck(this.collection.where({ type: 99 }), 'id');\n    _.each(calcNodes, function(nodeId) {\n      const fromNodes = self.connCollection.getFromNodesByNodeId(nodeId);\n      if (fromNodes.length < 2) {\n        problemNodes = _.union(problemNodes, fromNodes);\n      }\n    });\n    if (problemNodes && problemNodes.length > 0) {\n      this._validateLog(problemNodes, '图形校验失败！画布上存在操作节点仅有一个输入节点');\n      return problemNodes;\n    }\n    // 6. 校验所有节点是否都已经配置完成\n    problemNodes = this.collection.getUnConfigNode();\n    if (problemNodes && problemNodes.length > 0) {\n      this._validateLog(problemNodes, '图形校验失败！画布上存在未配置或配置错误的节点，请配置正确后再提交!');\n      return problemNodes;\n    }\n    return true;\n  },\n  /**\n   * 高亮显示问题节点\n   * @param problemNodes 问题节点ID数组\n   */\n  highlightProblemNodes: function(problemNodes) {\n    const self = this;\n    _.each(problemNodes, function(nodeId) {\n      const nodeView = self.dataNodeViews[nodeId];\n      nodeView.highlight();\n    });\n  },\n\n  _validateLog: function(problemNodes, msg) {\n    App.error(msg);\n    console.error && console.error(msg);\n    console.table &&\n      console.table(\n        _.pluck(this.collection.getModelsByIdArray(problemNodes), 'attributes'),\n        ['id', 'txt'],\n      );\n  },\n  /**\n   * 根据节点ID，判断与其连接的是否有子节点\n   * @param nodeId\n   */\n  hasChildNode: function(nodeId) {\n    return this.connCollection.hasChildNode(nodeId);\n  },\n  /**\n   * 作为最终推荐结果输出节点\n   */\n  asFinalNode: function(datanodeId) {\n    if (this.connCollection.hasChildNode(datanodeId)) {\n      return;\n    }\n    if (this.collection.existFinalNode()) {\n      App.warn('已存在推荐结果节点，同一个流程只允许有一个推荐结果输出节点!');\n      return;\n    }\n    const datanode = this.collection.get(datanodeId);\n    if (datanode) {\n      datanode.asFinalNode();\n    }\n  },\n\n  clearLocalStorage: function() {\n    window.localStorage && window.localStorage.clear();\n  },\n\n  /**\n   * 取消作为最终推荐结果输出节点\n   */\n  cancelAsFinalNode: function(datanodeId) {\n    const datanode = this.collection.get(datanodeId);\n    if (datanode) {\n      datanode.cancelAsFinalNode();\n    }\n  },\n  /**\n   * 获取配置结果JSON对象\n   */\n  getConfigJson: function() {\n    return {\n      nodes: this.collection.toJSON(),\n      connectors: this.connCollection.toJSON(),\n    };\n  },\n\n  /**\n   * 组件销毁方法\n   */\n  destroy: function() {\n    if (_.isFunction(this.onDestroy)) {\n      this.onDestroy.apply(this);\n    }\n    this.clearCanvas();\n    this.clearDataNode();\n    this.stopListening();\n    this.collection &&\n      this.collection.stopListening().reset([], { silent: true });\n    this.connCollection &&\n      this.connCollection.stopListening().reset([], { silent: true });\n    if (this.contextMenuView) {\n      this.clearEventHandler(\n        'diagram-menu',\n        this.contextMenuView.getAllHandler(),\n      );\n      this.contextMenuView.destroy();\n    }\n    if (this.toolbarView) {\n      this.clearEventHandler(\n        'diagram-toolbar',\n        this.toolbarView.getAllHandler(),\n      );\n      this.toolbarView.destroy();\n    }\n    Backbone.off('diagram:closeConfigView');\n    this.diagramTipsView && this.diagramTipsView.destroy();\n    this.nodeConfigView && this.nodeConfigView.destroy();\n    if (this._$canvas && this._$canvas.hasClass('ui-draggable')) {\n      this._$canvas.draggable('destroy');\n    }\n    this.remove();\n  },\n});\nmodule.exports = DiagramView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/create/DiagramView.js","/**\n * 策略节点配置视图\n * @export DiagramNodeConfigView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\nconst $ = require('jquery');\nconst _ = require('underscore');\nconst DataNode = require('models/DataNode');\nrequire('jquery-ui/ui/widgets/draggable');\nconst App = require('utils/App');\nconst ModelConfigView = require('views/strategy/create/node/modelConfig/ModelConfigView');\nconst ModelJoinView = require('views/strategy/create/node/modelJoin/ModelJoinView');\nrequire('styles/strategy/node-config.scss');\nconst DiagramNodeConfigView = Backbone.View.extend({\n  className: 'diagram-node-config',\n  initialize: function(options) {\n    this.editModel = false;\n    _.extend(this, options);\n    this.nodeConfig = null;\n    this.dataNodeModel = null;\n    this.isShow = false;\n    this.configViewMap = {\n      [DataNode.NODE_TYPE.MODEL]: ModelConfigView,\n      [DataNode.NODE_TYPE.OUTPUT]: ModelJoinView,\n      [DataNode.NODE_TYPE.FINAL_OUTPUT]: ModelJoinView,\n    };\n  },\n  render: function() {\n    return this;\n  },\n  /**\n   * 展示节点配置面板\n   * @param dataNodeModel  数据节点模型对象\n   */\n  show: function(dataNodeModel) {\n    if (this.nodeConfig) {\n      this.nodeConfig.destroy();\n    }\n    this.dataNodeModel = dataNodeModel;\n    const ConfigView = this.configViewMap[dataNodeModel.get('type')];\n    if (!ConfigView) {\n      console.error('未实现此节点类型[' + dataNodeModel.get('type') + ']的配置视图组件');\n    } else {\n      let configName = dataNodeModel.getName();\n      if (\n        dataNodeModel.isCalcNode() &&\n        $.trim(dataNodeModel.get('alias')).length > 0\n      ) {\n        configName += ` [ ${dataNodeModel.get('alias')} ] `;\n      }\n      this.nodeConfig = new ConfigView({\n        el: this.$el,\n        nodeData: dataNodeModel.getConfigParams(\n          this.diagram.collection,\n          this.diagram.connCollection,\n        ),\n        modelsName: configName, //选择模型名称\n        viewType: this.editModel ? 'edit' : 'view', //edit 编辑  view 查看\n      });\n    }\n    this.$el.show().animate({ width: 300 }, 'fast');\n    this.isShow = true;\n  },\n  /**\n   * 关闭节点配置面板，并校验及保存配置结果\n   */\n  close: function() {\n    if (!this.isShow) return;\n    this.$el.find('.selected').removeClass('selected');\n    this.$el.animate({ width: 0 }, 'fast', function() {\n      $(this).hide();\n    });\n    if (\n      this.editModel &&\n      _.isFunction(_.property('validateConfig')(this.nodeConfig))\n    ) {\n      const validateResult = this.nodeConfig.validateConfig();\n      if (!validateResult) {\n        this.dataNodeModel.setStatus(DataNode.NODE_STATUS.CONF_ERROR, false);\n        App.error(\n          '节点 [ ' + this.dataNodeModel.get('txt') + ' ] 配置不正确,请检查并修正节点配置！',\n        );\n      } else {\n        this.dataNodeModel.setStatus(DataNode.NODE_STATUS.CONF_YES, false);\n      }\n    }\n    if (this.nodeConfig) {\n      if (this.editModel) {\n        const conf = this.nodeConfig.getModelConfigData();\n        this.dataNodeModel.set('conf', conf || {});\n      }\n      this.nodeConfig.destroy();\n      this.nodeConfig = null;\n    }\n    this.isShow = false;\n  },\n  destroy: function() {\n    if (this.nodeConfig) {\n      this.nodeConfig.destroy();\n    }\n    this.undelegateEvents();\n    this.stopListening();\n    this.$el.off();\n    this.remove();\n  },\n});\nmodule.exports = DiagramNodeConfigView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/create/DiagramNodeConfigView.js","/**\n * 数据节点选择视图对象\n * @export DataNodeView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nconst $ = require('jquery');\nconst Backbone = require('backbone');\nconst _ = require('underscore');\nrequire('bootstrap/js/tooltip');\nconst ModelNodeCollection = require('collections/ModelNodeCollection');\n\nrequire('styles/strategy/node-selector.scss');\n\nconst NodeSelectView = Backbone.View.extend({\n  className: 'node-selector',\n  template: require('templates/strategy/create/strategy_node_select.tpl'),\n  styles: {\n    NODE_DRAGGING: 'data-node-dragging',\n    CALC_DRAGGING: 'calc-node-dragging',\n  },\n  selectors: {\n    DATA_NODE: '.data-nodes li',\n    CALC_NODE: '.calc-nodes .calc-node',\n  },\n  initialize: function(options) {\n    _.extend(this, options);\n    this.collection = new ModelNodeCollection({ busiCode: this.busiCode });\n    this.listenTo(this.collection, 'reset', this.renderData);\n    if (!this.busiCode) {\n      this.collection.reset([]);\n    } else {\n      this.collection.fetch({ reset: true });\n    }\n  },\n  reload: function(busiCode) {\n    this.collection.setBusiCode(busiCode);\n    this.collection.fetch({ reset: true });\n  },\n  renderData: function() {\n    const calNodes = [\n      {\n        type: 'join',\n        name: '关联',\n        icon: 'icon-guanlian',\n        desc: '关联操作用于多个模型结果进行组合，取交集或者字段合并',\n      },\n      {\n        type: 'merge',\n        name: '融合',\n        icon: 'icon-shujuronghe',\n        desc: '融合操作用于多个模型结果加权合并、串联过滤、交叉合并等操作',\n      },\n      {\n        type: 'filter',\n        name: '过滤',\n        icon: 'icon-guolv',\n        desc: '用于对推荐结果进行产品或内容关键字或标签的过滤',\n      },\n      {\n        type: 'sort',\n        name: '排序',\n        icon: 'icon-paixu',\n        desc: '用于对推荐结果进行重排序，以使推荐结果输出的优先级顺序更精准',\n      },\n    ];\n    this.$el.html(\n      this.template({\n        nodes: this.collection.toJSON(),\n        calNodes: calNodes,\n      }),\n    );\n    this.handelNodeDraggable();\n    this.$('.calc-node').tooltip({\n      placement: 'top',\n      container: this.$el,\n    });\n    this.acceptDrop();\n  },\n  render: function() {\n    return this;\n  },\n  /**\n   * 获取允许拖动的数据节点和计算节点选择器\n   * @return {*}\n   */\n  getNodeSelector: function() {\n    return this.$(`${this.selectors.DATA_NODE}, ${this.selectors.CALC_NODE}`);\n  },\n  /**\n   * 根据模型id，获取模型集合中的模型对象\n   * @param modelId\n   */\n  getModelNode: function(modelId) {\n    return this.collection.get(modelId).attributes;\n  },\n  /**\n   * 获取用于返回生成拖拽中效果DOM元素的函数\n   * @return {Function}\n   * @private\n   */\n  _getDragHelper: function() {\n    const self = this;\n    return function() {\n      return $(`<div/>`)\n        .append($(this).children().clone())\n        .addClass(\n          $(this).hasClass('calc-node')\n            ? self.styles.CALC_DRAGGING\n            : self.styles.NODE_DRAGGING,\n        );\n    };\n  },\n  /**\n   * 处理节点拖动中的事件\n   * @param e\n   * @param ui\n   * @private\n   */\n  _handleNodeDragging: function(e, ui) {\n    const of = this.diagram.getCanvasContainer().offset();\n    if (ui.offset.top >= of.top && ui.offset.left >= of.left) {\n      ui.helper.addClass(this.diagram.styles.DRAGGING_ADD_CURSOR);\n    } else {\n      ui.helper.removeClass(this.diagram.styles.DRAGGING_ADD_CURSOR);\n    }\n  },\n  /**\n   * 处理节点拖动结束的事件\n   * @param e\n   * @param ui\n   * @private\n   */\n  _handleNodeDragStop: function(e, ui) {\n    const $target = $(e.target),\n      offset = this.diagram.getContainerOffset(),\n      spacing = this.diagram.getContainerSpacing(),\n      scale = this.diagram.getZoomScale(),\n      left = ui.offset.left - offset.left - spacing.left,\n      top = ui.offset.top - offset.top - spacing.top;\n    let _left = left / scale,\n      _top = top / scale;\n    if (!$target.data('_revert')) {\n      if ($target.hasClass('calc-node')) {\n        this.diagram.addCalcNode(\n          $target.attr('data-id'),\n          $.trim($target.text()),\n          $target.attr('data-icon'),\n          _left < 0 ? 0 : _left,\n          _top < 0 ? 0 : _top,\n        );\n      } else {\n        const model = this.getModelNode($target.attr('data-id'));\n        this.diagram.addDataNode(\n          model,\n          _left < 0 ? 0 : _left,\n          _top < 0 ? 0 : _top,\n        );\n      }\n    }\n    $target.removeData('_revert');\n  },\n  /**\n   * 处理节点，使节点支持拖拽至画布\n   */\n  handelNodeDraggable: function() {\n    this.getNodeSelector().draggable({\n      revert: function(result) {\n        $(this).data('_revert', !result);\n        return !result;\n      },\n      helper: this._getDragHelper(),\n      cursor: 'move',\n      scroll: true,\n      opacity: 0.5,\n      appendTo: this.$dropEl,\n      drag: _.bind(this._handleNodeDragging, this),\n      stop: _.bind(this._handleNodeDragStop, this),\n    });\n  },\n  /**\n   * 接收元素拖拽放入画布\n   */\n  acceptDrop: function() {\n    if (this.$dropEl) {\n      this.$dropEl.droppable({\n        accept: this.getNodeSelector(),\n      });\n    }\n  },\n  destroy: function() {\n    this.undelegateEvents();\n    this.$('.calc-node').tooltip('destroy');\n    this.$el.off();\n    if (this.getNodeSelector().hasClass('ui-draggable')) {\n      this.getNodeSelector().draggable('destroy');\n    }\n    if (this.$dropEl && this.$dropEl.hasClass('ui-droppable')) {\n      this.$dropEl.droppable('destroy');\n    }\n    this.getNodeSelector().off();\n    this.stopListening();\n    this.remove();\n  },\n});\nmodule.exports = NodeSelectView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/create/NodeSelectorView.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<ul>\\n<!--[if (gte IE 9)|!(IE)]><!-->\\n<li title=\"放大\" data-action=\"zoomOut\">\\n\t<i title=\"放大\" class=\"iconfont icon-fangda\"></i>\\n</li>\\n<li title=\"缩小\" data-action=\"zoomIn\">\\n\t<i title=\"缩小\" class=\"iconfont icon-suoxiao\"></i>\\n</li>\\n<li title=\"还原\"  data-action=\"revert\">\\n\t<i title=\"还原\" class=\"iconfont icon-huanyuan\"></i>\\n</li>\\n<!--<![endif]-->\\n';\nif(this.editModel){;\n__p += '\\n<li title=\"显示节点备注\"  data-action=\"showComment\">\\n\t<i title=\"显示节点备注\" class=\"iconfont icon-icon1\"></i>\\n</li>\\n<li title=\"全屏展示\"  data-action=\"fullScreen\">\\n\t<i title=\"全屏展示\" class=\"iconfont icon-quanping\"></i>\\n</li>\\n<li title=\"布局方式\" data-action=\"layoutDir\">\\n\t<i title=\"布局方式\" class=\"iconfont icon-layout\"></i>\\n</li>\\n<li title=\"清空画布\"  data-action=\"clearDiagram\">\\n\t<i title=\"清空画布\" class=\"iconfont icon-ziyuan\"></i>\\n</li>\\n<li title=\"使用提示\"  data-action=\"showTips\">\\n\t<i title=\"使用提示\" class=\"iconfont icon-bangzhu\"></i>\\n</li>\\n';\n};\n__p += '\\n</ul>';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/create/diagram_toolbar.tpl\n// module id = IRzy\n// module chunks = 0","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n\nif(datas.length>0){;\n__p += '\\n\t';\n _.each(datas,function(data){ ;\n__p += '\\n\t\t';\n\n\t\t\tvar statusClass={\n\t\t\t\t\"错误\":\"fright ui-error-text\",\n\t\t\t\t\"执行中\":\"fright ui-running-text\",\n\t\t\t\t\"待执行\":\"fright ui-execution-text ui-editing-text\",\n\t\t\t\t\"完成\":\"fright ui-execution-text\"\n\t\t\t};\n\t\t\tvar statusClassName;\n\t\t\tvar strategyStateName;\n\t\t\tfor(var i=0;i<enumData.length;i++){\n\t\t\t\tif(enumData[i].enumKey==data.strategyState){\n\t\t\t\t\tstatusClassName=statusClass[enumData[i].enumValue];\n\t\t\t\t\tstrategyStateName=enumData[i].enumValue;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar cycleClass={\n\t\t\t\t1:\"icon-day\",\n\t\t\t\t2:\"icon-week\",\n\t\t\t\t3:\"icon-month\"\n\t\t\t};\n\t\t\tvar cycleClassName=cycleClass[data.cycle];\n\t\t\tif(data.executeState!=-1){\n\t\t\t\tcycleClassName+=\" toggle-on\";\n\t\t\t}\n\t\t;\n__p += '\\n\t\t<div class=\"strategy-item\" data-id=\"' +\n((__t = (data.strategyId)) == null ? '' : __t) +\n'\">\\n\t\t\t<h5 class=\"strategy-item-title\">\\n\t\t\t\t<span>' +\n((__t = (data.strategyName)) == null ? '' : __t) +\n'</span>\\n\t\t\t\t<span class=\"' +\n((__t = (statusClassName)) == null ? '' : __t) +\n'\">' +\n((__t = (strategyStateName)) == null ? '' : __t) +\n'</span>\\n\t\t\t</h5>\\n\t\t\t<div class=\"strategy-item-content\">\\n\t\t\t\t<ul class=\"item-indis\">\\n\t\t\t\t\t<li>\\n\t\t\t\t\t\t<label>推荐用户数</label>\\n\t\t\t\t\t\t<span><strong>23,333</strong> (人)</span>\\n\t\t\t\t\t</li>\\n\t\t\t\t\t<li>\\n\t\t\t\t\t\t<label>推荐条数</label>\\n\t\t\t\t\t\t<span><strong>' +\n((__t = (data.dataCount!=null?data.dataCount:0)) == null ? '' : __t) +\n'</strong> (条)</span>\\n\t\t\t\t\t</li>\\n\t\t\t\t</ul>\\n\t\t\t\t<div class=\"item-logs\">\\n\t\t\t\t\t<span>\\n\t\t\t\t\t\t<i class=\"iconfont ' +\n((__t = (cycleClassName)) == null ? '' : __t) +\n'\"></i>' +\n((__t = (data.updateTimes)) == null ? '' : __t) +\n' 次\\n\t\t\t\t\t</span>\\n\t\t\t\t\t<span>\\n\t\t\t\t\t\t最近更新时间：' +\n((__t = (data.endTime!=null?data.endTime:\"暂无\")) == null ? '' : __t) +\n'\\n\t\t\t\t\t</span>\\n\t\t\t\t</div>\\n\t\t\t</div>\\n\t\t\t<ul class=\"strategy-item-func\">\\n\t\t\t\t<li data-action=\"view\" title=\"查看策略详情\" class=\"func-item\">详情</li>\\n\t\t\t\t<li class=\"dropdown func-item\" >\\n\t\t\t\t\t<p data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n\t\t\t\t\t\t<span>操作</span>\\n\t\t\t\t\t\t<span class=\"caret\"></span>\\n\t\t\t\t\t</p>\\n\t\t\t\t\t<ul class=\"dropdown-menu \">\\n\t\t\t\t\t\t<li data-action=\"update\">修改</li>\\n\t\t\t\t\t\t<li data-action=\"delete\">删除</li>\\n\t\t\t\t\t\t<li role=\"separator\" class=\"divider\"></li>\\n\t\t\t\t\t\t<li data-action=\"suspend\">暂停</li>\\n\t\t\t\t\t\t<li data-action=\"continue\">继续</li>\\n\t\t\t\t\t\t<li data-action=\"stop\">停止</li>\\n\t\t\t\t\t</ul>\\n\t\t\t\t</li>\\n\t\t\t</ul>\\n\t\t</div>\\n\t';\n }) ;\n__p += '\\n';\n}else{;\n__p += '\\n\t<span class=\"spanCenter\">暂无数据！</span>\\n';\n};\n\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/manage/strategyData.tpl\n// module id = IdGR\n// module chunks = 0","/**\n * 给Raphael扩展增加元素间连线的函数\n * @export Raphael\n * @author liyi\n * @modifier\n */\nconst Raphael = require('raphael');\n/**\n * 传入的第一个参数是connection对象时，修改连线；否则绘制连线\n * @param obj1 {Object|Raphael.Element|DataNode}\n * @param obj2 {Raphael.Element|DataNode}\n * @param line {Object} 连线样式\n * @param bg  {Object} 背景连线样式\n * @returns {Object} {bg: *, line, from: *, to: *}\n */\nRaphael.fn.connection = function(obj1, obj2, line, bg) {\n  if (obj1.line && obj1.from && obj1.to) {\n    line = obj1;\n    obj1 = line.from;\n    obj2 = line.to;\n  }\n  const bb1 = obj1.getBBox ? obj1.getBBox() : obj1,\n    bb2 = obj2.getBBox ? obj2.getBBox() : obj2,\n    p = [\n      { x: bb1.x + bb1.width / 2, y: bb1.y - 1 },\n      { x: bb1.x + bb1.width / 2, y: bb1.y + bb1.height + 1 },\n      { x: bb1.x - 1, y: bb1.y + bb1.height / 2 },\n      { x: bb1.x + bb1.width + 1, y: bb1.y + bb1.height / 2 },\n      { x: bb2.x + bb2.width / 2, y: bb2.y - 1 },\n      { x: bb2.x + bb2.width / 2, y: bb2.y + bb2.height + 1 },\n      { x: bb2.x - 1, y: bb2.y + bb2.height / 2 },\n      { x: bb2.x + bb2.width + 1, y: bb2.y + bb2.height / 2 },\n    ],\n    d = {},\n    dis = [];\n  for (let i = 0; i < 4; i++) {\n    for (let j = 4; j < 8; j++) {\n      let dx = Math.abs(p[i].x - p[j].x),\n        dy = Math.abs(p[i].y - p[j].y);\n      if (\n        i === j - 4 ||\n        (((i !== 3 && j !== 6) || p[i].x < p[j].x) &&\n          ((i !== 2 && j !== 7) || p[i].x > p[j].x) &&\n          ((i !== 0 && j !== 5) || p[i].y > p[j].y) &&\n          ((i !== 1 && j !== 4) || p[i].y < p[j].y))\n      ) {\n        dis.push(dx + dy);\n        d[dis[dis.length - 1]] = [i, j];\n      }\n    }\n  }\n  let res;\n  if (dis.length === 0) {\n    res = [0, 4];\n  } else {\n    res = d[Math.min.apply(Math, dis)];\n  }\n  let x1 = p[res[0]].x,\n    y1 = p[res[0]].y,\n    x4 = p[res[1]].x,\n    y4 = p[res[1]].y,\n    dx = Math.max(Math.abs(x1 - x4) / 2, 10),\n    dy = Math.max(Math.abs(y1 - y4) / 2, 10);\n  let x2 = [x1, x1, x1 - dx, x1 + dx][res[0]].toFixed(3),\n    y2 = [y1 - dy, y1 + dy, y1, y1][res[0]].toFixed(3),\n    x3 = [0, 0, 0, 0, x4, x4, x4 - dx, x4 + dx][res[1]].toFixed(3),\n    y3 = [0, 0, 0, 0, y1 + dy, y1 - dy, y4, y4][res[1]].toFixed(3);\n  let path = [\n    'M',\n    x1.toFixed(3),\n    y1.toFixed(3),\n    'C',\n    x2,\n    y2,\n    x3,\n    y3,\n    x4.toFixed(3),\n    y4.toFixed(3),\n  ].join(',');\n  if (line && line.line) {\n    line.bg && line.bg.attr({ path: path });\n    line.line.attr({ path: path });\n  } else {\n    return {\n      bg: bg && this.path(path).attr(bg),\n      line: this.path(path).attr(line || { fill: 'none', stroke: '#000' }),\n      from: obj1,\n      to: obj2,\n    };\n  }\n};\nmodule.exports = Raphael;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/create/RaphaelExtend.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"ui-query-builder\">\\n\t<form class=\"form-inline\" onsubmit=\"return false;\">\\n\t\t<div>\\n\t\t\t <div class=\"ui-search-filter input-group  ui-search-tactics form-group\">\\n\t\t\t\t<input type=\"text\" class=\"form-control br0\" placeholder=\"策略名称\" id=\"strategyName\">\\n\t\t\t\t<span class=\"glyphicon input-group-addon\" id=\"searchAll\"></span>\\n\t\t\t</div>\\n\t\t\t<div class=\"form-group ui-select-tactics\">\\n\t\t\t\t<button id=\"creationStrategy\" type=\"button\" class=\"btn btn-primary ui-create-tactics\">创建策略</button>\\n\t\t\t</div>\\n\t\t</div>\\n\t\t<div class=\"clearfix ui-tactics-item\">\\n\t\t\t<label class=\"ui-tactics-status fleft\">状态：</label>\\n\t\t\t<div class=\"ui-status-btn-box fleft\" id=\"statusContent\">\\n\\n\t\t\t</div>\\n\t\t</div>\\n\t</from>\\n</div>';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/manage/strategyQuery.tpl\n// module id = JMxK\n// module chunks = 0","const Backbone = require('backbone');\n\nconst ModelConfigModel = Backbone.Model.extend({\n  idAttribute:\"modelId\",//到一个从key到 id 的一个透明映射中。\n  setNotChecked: function(mName){\n    if(this.get(\"fieldList\").length!=0){\n      for(var i =0;i<this.get(\"fieldList\").length;i++) {\n        if(this.get(\"fieldList\")[i].fieldName==mName){\n          var newField=this.get(\"fieldList\")[i];\n          newField.checked=this.get(\"fieldList\")[i].checked?false:true;\n          this.get(\"fieldList\").splice(i,1);\n          this.get(\"fieldList\").push(newField);\n          this.set({\"fieldList\":this.get(\"fieldList\")});\n          break;\n        }\n      }\n    }\n  }\n});\n\nmodule.exports = ModelConfigModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/strategy/ModelConfigModel.js","/**\n * 全局消息提示view组件\n * @export Backbone.View\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\nconst _ = require('underscore');\nrequire('bootstrap/js/modal');\n\nconst MessageView = Backbone.View.extend({\n  className: 'message-notice-content',\n  template: require('templates/common/message.tpl'),\n  initialize: function(options) {\n    this.type = MessageView.TYPES.INFO;\n    this.message = '';\n    _.extend(this, options);\n  },\n  render: function(container) {\n    const $msg = $('.' + this.className);\n    $msg.length > 0 && $msg.remove();\n    this.$el.html(\n      this.template({\n        type: this.type,\n        icon:\n          MessageView.ICONS[this.type.toUpperCase()] || MessageView.ICONS.INFO,\n        message: this.message,\n      }),\n    );\n    this.$el.appendTo(container);\n    return this;\n  },\n  show: function() {\n    const self = this,\n      _width = this.$el.outerWidth();\n    this.$el.hide();\n    this.$el.css({ 'margin-left': -(_width / 2), top: 20 });\n    this.$el.slideDown('fast', function() {\n      _.delay(_.bind(self.destroy, self), self.duration * 1000);\n    });\n  },\n  destroy: function() {\n    const self = this;\n    this.$el.slideUp('fast', function() {\n      self.remove();\n    });\n  },\n});\nMessageView.TYPES = {\n  INFO: 'info',\n  SUCCESS: 'success',\n  ERROR: 'error',\n  WARN: 'warn',\n};\nMessageView.ICONS = {\n  INFO: 'icon-xinxi',\n  SUCCESS: 'icon-chenggong1',\n  ERROR: 'icon-shibai',\n  WARN: 'icon-jinggao',\n};\nmodule.exports = MessageView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/common/MessageView.js","/**\n * 节点连线Model集合\n * @export NodeConnectionCollection\n * @extends Backbone.Collection\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\nconst _ = require('underscore');\nconst NodeConnection = require('models/NodeConnection');\nconst util = require('utils/localStorageUtil')('NODECONNECTION_COLLECTION:');\n\nconst NodeConnectionCollection = Backbone.Collection.extend({\n  model: NodeConnection,\n\n  initialize: function() {\n  },\n\n  initSyncLocalStorageListen:function(){\n    this.listenTo(this, 'add', util.saveModelToLocalStorage);\n    this.listenTo(this, 'remove', util.delModelFromLocalStorage);\n    this.listenTo(this, 'change', util.saveModelToLocalStorage);\n    this.listenTo(this, 'reset', util.resetModelToLocalStorage);\n  },\n\n  /**\n   * 根据数据节点id，获取与此数据节点有连线的所有连线对象\n   * @param dataNodelId\n   */\n  getCollectionsById: function(dataNodelId) {\n    return this.filter(function(item) {\n      return (\n        item.attributes.from === dataNodelId ||\n        item.attributes.to === dataNodelId\n      );\n    });\n  },\n  /**\n   * 根据数据节点id，删除与此节点有连线的所有连线对象\n   * @param dataNodeId\n   */\n  removeConnectionsByNodeId: function(dataNodeId) {\n    const self = this;\n    _.each(this.getCollectionsById(dataNodeId), function(nodeConnectionModel) {\n      self.remove(nodeConnectionModel);\n    });\n  },\n\n  /**\n   * 根据数据节点id，删除与此数据节点有连线的所有连线对象\n   * @param fromNodeId\n   * @param toNodeId\n   */\n  removeConnectionByFromToId: function(fromNodeId, toNodeId) {\n    if (!fromNodeId && !toNodeId) {\n      let matches = this.where({ from: fromNodeId, to: toNodeId });\n      this.remove(matches);\n    } else {\n      if (fromNodeId) {\n        let matches = this.where({ from: fromNodeId });\n        this.remove(matches);\n      } else {\n        let matches = this.where({ to: toNodeId });\n        this.remove(matches);\n      }\n    }\n  },\n  /**\n   * 根据传入的from、to节点id，判断是否集合中存在该连线对象\n   * @param fromNodeId\n   * @param toNodeId\n   * @return {boolean}\n   */\n  isExist: function(fromNodeId, toNodeId) {\n    return this.where({ from: fromNodeId, to: toNodeId }).length > 0;\n  },\n  /**\n   * 获取所有的开始节点\n   * @return {Array}\n   */\n  getStartNodes: function() {\n    const froms = this.pluck('from'),\n      tos = this.pluck('to');\n    return _.difference(froms, tos);\n  },\n\n  /**\n   * 获取所有的结束节点\n   * @return {Array}\n   */\n  getEndNodes: function() {\n    this.pluck('from');\n    const froms = this.pluck('from'),\n      tos = this.pluck('to');\n    return _.uniq(_.difference(tos, froms));\n  },\n  /**\n   * 根据节点id，获取与此节点连接的其他所有子节点\n   * @param nodeId\n   * @return Array\n   */\n  getDescendantNodesByNodeId: function(nodeId) {\n    const resultAry = [],\n      self = this;\n    function _getChildNodes(nodeId) {\n      const conns = self.where({ from: nodeId });\n      _.each(conns, function(conn) {\n        const toId = conn.attributes.to;\n        if (toId) {\n          resultAry.push(toId);\n        }\n        _getChildNodes(toId);\n      });\n      return resultAry;\n    }\n    return _getChildNodes(nodeId);\n  },\n  /**\n   * 根据节点ID,获取连向此节点的所有父节点\n   * @param nodeId\n   * @return Array\n   */\n  getFromNodesByNodeId: function(nodeId) {\n    const nodes = this.where({ to: nodeId });\n    return _.pluck(_.pluck(nodes, 'attributes'), 'from');\n  },\n  /**\n   * 根据节点ID,获取由此节点开始，连接的其他子节点\n   * @param nodeId\n   * @return Array\n   */\n  getToNodesByNodeId: function(nodeId) {\n    const nodes = this.where({ from: nodeId });\n    return _.pluck(_.pluck(nodes, 'attributes'), 'to');\n  },\n  /**\n   * 判断是否有自连接的节点\n   */\n  hasSelfJoin: function() {\n    return this.filter(function(model) {\n      return model.get('from') === model.get('to');\n    });\n  },\n  /**\n   * 根据节点ID，判断与其连接的是否有子节点\n   * @param nodeId\n   */\n  hasChildNode: function(nodeId) {\n    return this.getToNodesByNodeId(nodeId).length > 0;\n  },\n\n  /**\n   * 是否允许节点关联或融合；判断节点的输入节点是否超过2个\n   * @param nodeId\n   * @return {boolean}\n   */\n  allowNodeMix: function(nodeId) {\n    return this.getFromNodesByNodeId(nodeId).length >= 2;\n  },\n  /**\n   * 判断是否有孤立，未连接的节点\n   */\n  hasIsolated: function(nodes) {\n    const froms = this.pluck('from'),\n      tos = this.pluck('to');\n    return _.difference(nodes, _.union(froms, tos));\n  },\n});\nNodeConnectionCollection.getInstance = function() {\n  const instance = new NodeConnectionCollection();\n  if (window.localStorage) {\n    const list = util.restoreFromLocalStorage();\n    instance.add(list, { silent: true });\n  }\n  return instance;\n};\nmodule.exports = NodeConnectionCollection;\n\n\n\n// WEBPACK FOOTER //\n// ./src/collections/NodeConnectionCollection.js","/**\n * 业务选择弹出遮罩层视图组件\n * @export BusiSelectorView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nconst $ = require('jquery');\nconst Backbone = require('backbone');\nconst _ = require('underscore');\nconst RecommendTypeCollection = require('collections/strategy/RecommendTypeCollection');\n\nrequire('styles/strategy/busi-selector.scss');\n\nconst BusiSelectorView = Backbone.View.extend({\n  className: 'busi-selector',\n  template: require('templates/strategy/create/busi-selector.tpl'),\n  events: {\n    'click [data-action=\"selectBusi\"]': 'selectBusi',\n  },\n  initialize: function(options) {\n    this.onSelect = _.noop;\n    _.extend(this, options);\n    this.recommendTypeCollection = new RecommendTypeCollection();\n    this.listenTo(\n      this.recommendTypeCollection,\n      'reset',\n      this.renderSelectorView,\n    );\n    this.recommendTypeCollection.fetch({ reset: true });\n  },\n  render: function() {\n    this.$el.html(this.template({ datas: [] }));\n    this.$backdrop = $('<div class=\"content-modal-backdrop\"/>');\n    $('.irec-content').append(this.$backdrop).append(this.$el);\n    return this;\n  },\n  renderSelectorView: function() {\n    this.$el.html(\n      this.template({ datas: this.recommendTypeCollection.toJSON() }),\n    );\n  },\n  closeSelector: function() {\n    this.destroy();\n  },\n  selectBusi: function(e) {\n    const $target = $(e.target),\n      busiId = $target.closest('.busi-item-box').attr('data-id');\n    this.closeSelector();\n    this.onSelect.call(null, busiId);\n  },\n  destroy: function() {\n    this.$backdrop.remove();\n    this.remove();\n  },\n});\nmodule.exports = BusiSelectorView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/create/BusiSelectorView.js","/**\n * 策略流程图使用提示组件\n * @export DiagramTipsView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\nrequire('bootstrap/js/alert');\n\nconst DiagramTipsView = Backbone.View.extend({\n  className: 'diagram-tips',\n  template: require('templates/strategy/create/diagram_tips.tpl'),\n  events: {\n    'click .close': 'close',\n  },\n  initialize: function() {\n    this.$el.addClass('alert alert-info');\n  },\n  render: function() {\n    return this;\n  },\n  show: function() {\n    this.$el.append(this.template());\n    this.isShow = true;\n    this.$el.fadeIn('fast');\n  },\n  close: function() {\n    this.$el.empty();\n    this.isShow = false;\n    this.$el.fadeOut('fast');\n  },\n  toggle: function() {\n    this.isShow ? this.close() : this.show();\n  },\n  destroy: function() {\n    this.undelegateEvents();\n    this.stopListening();\n    this.$el.off();\n    this.remove();\n  },\n});\nmodule.exports = DiagramTipsView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/create/DiagramTipsView.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"ui-tactics-container\">\\n  <h5 >策略流程配置</h5>\\n\t<div class=\"container-table\" style=\"padding:0 5px;\"></div>\\n</div>;\\n';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/details/diagram.tpl\n// module id = NXCX\n// module chunks = 0","const Backbone = require('backbone');\nconst $ = require('jquery');\nconst _ = require('underscore');\nconst App = require('utils/App');\nconst ModelJoinFieldView = Backbone.View.extend({\n  className: 'joinModelDiv',\n  events: {\n    'click #deleteDiv': 'deleteDiv', //点击删除DIV\n    'click #deleteJoin': 'deleteJoin', //点击删除DIV\n    'change .selectWidth': 'changeSelect', //点击删除DIV\n  },\n  template: require('templates/strategy/create/node/modelJoin/modelJoinField.tpl'),\n  initialize: function(options) {\n    //当数据数据加载完毕将第一条数据勾选上\n    _.extend(this, options);\n    this.render();\n  },\n  changeSelect: function(e) {\n    var lef = this;\n    this.$(e.target).find('option').each(function(index, domEle) {\n      if (lef.$(domEle).val() != e.target.value) {\n        lef.$(domEle).attr('selected', false);\n      }\n    });\n    this.$(e.target)\n      .find(\"option[value='\" + e.target.value + \"']\")\n      .attr('selected', true);\n  },\n  /**\n   * 验证\n   */\n  validateConfig: function() {\n    var bol = true;\n    this.$el.parent().find('.joinModelDiv select').each(function() {\n      $(this).css({ border: '' });\n      if (this.value == '0') {\n        $(this).css({ border: '1px solid red' });\n        $(this).attr('title', '请选择关联条件!');\n        bol = false;\n      }\n    });\n    this.join_field = this.getJoinFieldData();\n    //數據驗證\n    if(this.join_field!=undefined&&this.params!=undefined){\n      //var dataValidateConfig = new dataValidateConfig();\n      var msg=this.dataValidateConfig(this.params,this.join_field);\n      if(msg!=\"\"){\n        bol=false;\n        App.error(msg);\n      }\n    }\n    return bol;\n  },\n  /**\n   * 組件數據驗證\n   * @param params 輸入節點參數\n   * @param join_fields 已有節點參數校驗\n   */\n  dataValidateConfig:function(params,join_fields){\n    var bool=true;\n    var errorMsg=\"\";\n    for(var i=0;i<params.length;i++){\n      bool=false;\n      for(var j=0;j<join_fields.length;j++){\n        for(var l=0;l<join_fields[j].length;l++){\n          for(var key in join_fields[j][l]){\n            if(params[i].node_id==key){\n              bool=true;\n              break;\n            }\n          }\n          if(bool){\n            break\n          }\n        }\n      }\n      if(!bool){\n        errorMsg=params[i].node_name+\"节点未在关联条件中存在！\";\n        break;\n      }\n    }\n    return errorMsg;\n  },\n  /**\n   * 获取组件值\n   */\n  getJoinFieldData: function() {\n    var self = this;\n    var join_fields = [];\n    this.joinItemDom.find('.joinModelDiv').each(function(index, domEle) {\n      var join_field = [];\n      for (var i = 1; i < domEle.children.length; i++) {\n        var nodeid = domEle.children[i].children[2].name;\n        var fieldName = domEle.children[i].children[2].value;\n        var json = {};\n        json[nodeid] = fieldName;\n        join_field.push(json);\n      }\n      join_fields.push(join_field);\n    });\n    return join_fields;\n  },\n\n  render: function() {\n    this.$el.html(\n      this.template({\n        viewType: this.viewType,\n        nodeData: this.nodeData,\n        params: this.params,\n        field: this.join_field,\n      }),\n    );\n    return this;\n  },\n  //删除关联模型条件\n  deleteJoin: function(e) {\n    const $target = $(e.target).parent('.join-item');\n    if ($target.siblings().length === 2) {\n      App.error('无法删除！关联条件必须选择2个！');\n    } else {\n      $target.remove();\n    }\n  },\n  //删除关联节点DIV\n  deleteDiv: function(e) {\n    if (this.$el.parent().find('.joinModelDiv').length=== 1) {\n      App.error('至少添加一个关联条件！');\n    } else {\n      this.$el.fadeOut('fast',function(){\n        $(this).remove();\n      });\n    }\n  },\n  //清空事件\n  destroy: function() {\n    this.undelegateEvents();\n    this.$el.off();\n    this.$el.empty();\n  },\n});\nmodule.exports = ModelJoinFieldView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/create/node/modelJoin/ModelJoinFieldView.js","const Backbone = require('backbone');\n\nconst StrategyHistoryModel = Backbone.Model.extend({\n  defaults: {\n\n  },\n  idAttribute:\"logId\",//到一个从key到 id 的一个透明映射中。\n});\nmodule.exports = StrategyHistoryModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/strategy/StrategyHistoryModel.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<div class=\"node-title\">\\n\t' +\n((__t = (modelsName)) == null ? '' : __t) +\n'\\n</div>\\n<div class=\"node-config-box\">\\n\t<div class=\"config-box-title\">数据源关联设置</div>\\n\t<div class=\"config-box-content\">\\n\t\t';\nif(viewType==\"view\"){;\n__p += '\\n\t\t\t<div class=\"join-view-type\">\\n\t\t\t\t<span>关联类型：</span>\\n\t\t\t\t<span>' +\n((__t = (nodeData.conf.join_type)) == null ? '' : __t) +\n'</span>\\n\t\t\t</div>\\n\t\t\t<div class=\"join-items\">\\n\\n\t\t\t</div>\\n\t\t';\n}else{;\n__p += '\\n\t\t<div class=\"joinType\">\\n\t\t\t<div class=\"join-row\">\\n\t\t\t\t<span>关联类型：</span>\\n\t\t\t\t<select style=\"width: 60%;\" class=\"joinTypeSelect\">\\n\t\t\t\t\t<option value =\"INNER\" ' +\n((__t = (nodeData.conf && nodeData.conf.join_type==\"INNER\"?\"selected\":\"\")) == null ? '' : __t) +\n'>INNER</option>\\n\t\t\t\t\t<option value =\"OUTER\" ' +\n((__t = (nodeData.conf && nodeData.conf.join_type==\"OUTER\"?\"selected\":\"\")) == null ? '' : __t) +\n'>OUTER</option>\\n\t\t\t\t</select>\\n\t\t\t</div>\\n\t\t\t<div class=\"join-row\">\\n\t\t\t\t<span id=\"addJoin\" class=\"btn-add-join\">\\n\t\t\t\t\t<i  class=\"iconfont icon-icon02\"></i>添加关联条件\\n\t\t\t\t</span>\\n\t\t\t</div>\\n\t\t\t<div class=\"join-items\">\\n\\n\t\t\t</div>\\n\t\t</div>\\n\t\t';\n};\n__p += '\\n\t</div>\\n</div>\\n';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/create/node/modelJoin/modelJoin.tpl\n// module id = RaMd\n// module chunks = 0","const Backbone = require('backbone');\nconst $ = require('jquery');\nconst _ = require('underscore');\nconst FieldFilterView = Backbone.View.extend({\n  events: {},\n  template: require('templates/strategy/create/node/modelConfig/fieldFilter.tpl'),\n  initialize: function(options) {\n    _.extend(this, options);\n    this.renderView();\n  },\n  getFilterData: function() {\n    var cond_exp = [];\n    for (var i = 0; i < this.$el[0].children.length; i++) {\n      var filterDiv = this.$el[0].children[i].children;\n      if (filterDiv.length == 4) {\n        var json = {};\n        json[filterDiv[1].value] = [filterDiv[0].value, filterDiv[2].value];\n        cond_exp.push(json);\n      }\n    }\n    return cond_exp;\n  },\n  destroy: function() {\n    this.undelegateEvents();\n    this.$el.off();\n    this.$el.empty();\n  },\n  renderView: function() {\n    this.$el.append(\n      this.template({\n        datas: this.field,\n        cond_exps: this.cond_exps,\n        viewType: this.viewType,\n      }),\n    );\n  },\n});\n\nmodule.exports = FieldFilterView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/create/node/modelConfig/FieldFilterView.js","const Backbone = require('backbone');\nconst NavMenu = require('models/NavMenu');\n\nconst NavMenuCollection = Backbone.Collection.extend({\n  model: NavMenu,\n  url: '',\n  //取消所有菜单激活选中状态\n  unActive: function() {\n    const activatedMenu = this.findWhere({ active: true });\n    activatedMenu && activatedMenu.set({ active: false });\n  },\n});\nmodule.exports = NavMenuCollection;\n\n\n\n// WEBPACK FOOTER //\n// ./src/collections/NavMenuCollection.js","const Backbone = require('backbone');\nconst StrategyMgrModel = require('models/strategy/StrategyMgrModel');\n\nconst StrategyMgrCollection = Backbone.Collection.extend({\n  model: StrategyMgrModel,\n});\nmodule.exports = StrategyMgrCollection;\n\n\n\n// WEBPACK FOOTER //\n// ./src/collections/strategy/StrategyMgrCollection.js","const Backbone = require('backbone');\nconst _ = require('underscore');\nconst $ = require('jquery');\nconst StrategyDetailView = require('./subviews/StrategyDetailView');\nconst StrategyHistoryView = require('./subviews/StrategyHistoryView');\nconst StrategyModelLogsView = require('./subviews/StrategyModelLogsView');\nconst DiagramView = require('views/strategy/create/DiagramView');\n\nrequire('../../../../public/assets/main.css');\nrequire('../../../../public/assets/reset.css');\nrequire('../../../../public/assets/table.css');\n\nconst StrategyDetailsMain = Backbone.View.extend({\n  initialize: function(options) {\n    _.extend(this, options);\n    this.detailView = new StrategyDetailView({\n      strategieId: this.strategieId,\n      onload: _.bind(this.loadDiagram, this),\n    });\n    this.historyView = new StrategyHistoryView({\n      strategieId: this.strategieId,\n    });\n    this.modelLogsView = new StrategyModelLogsView({\n      strategieId: this.strategieId,\n    });\n    this.diagramView = new DiagramView({\n      editModel: false,\n    });\n  },\n  loadDiagram: function() {\n    const diagramConfig = this.detailView.getDiagramConfigJSON();\n    this.diagramView.show(diagramConfig);\n  },\n  render: function() {\n    const tpl = require('templates/strategy/details/diagram.tpl');\n    const $container = $(tpl());\n    this.$el.append(this.detailView.render().el);\n    this.$el.append(this.historyView.render().el);\n    this.$el.append($container);\n    $('.container-table', $container).append(this.diagramView.render().el);\n    this.$el.append(this.modelLogsView.render().el);\n  },\n  destroy: function() {\n    this.detailView.destroy();\n    this.historyView.destroy();\n    this.modelLogsView.destroy();\n    this.diagramView.destroy();\n    this.undelegateEvents();\n    this.stopListening();\n  },\n});\n\nmodule.exports = StrategyDetailsMain;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/details/StrategyDetailsMain.js","/**\n * 节点连线Model\n * @export NodeConnection\n * @extends Backbone.Model\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\n\nconst NodeConnection = Backbone.Model.extend({\n  defaults: function() {\n    return {\n      id: _.uniqueId(),\n    };\n  },\n});\n\nmodule.exports = NodeConnection;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/NodeConnection.js","const Backbone = require('backbone');\nconst sync = Backbone.sync;\nconst API_ROOT_URL = '/irec/';\nBackbone.Model.prototype.parse = function(response, options) {\n  return response.data || response;\n};\nBackbone.Collection.prototype.parse = function(response, options) {\n  if (!response.data) {\n    // this.trigger('error', this, response, options);\n    // return [];\n  }\n  return response.data || response;\n};\n\nBackbone.sync = function(method, model, options) {\n  options.beforeSend = function() {\n    this.url =\n      API_ROOT_URL +\n      (this.url.substr(0, 1) === '/' ? this.url.substr(1) : this.url);\n  };\n  return sync.call(this, method, model, options);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/BackbonePreParse.js","const Backbone = require('backbone');\n\nconst RecommendTypeModel = Backbone.Model.extend({\n  urlRoot: 'businesses/count',\n  defaults: {\n    \"selected\":false, //选中的策略类型\n  },\n  initialize: function() {\n\n  },\n  idAttribute:\"busiCode\",//到一个从key到 id 的一个透明映射中。\n  updateSelected: function(boole){\n    this.set({\"selected\": boole });\n  }\n});\n\nmodule.exports = RecommendTypeModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/strategy/RecommendTypeModel.js","const Backbone = require('backbone');\n\nconst StrategyMgrModel = Backbone.Model.extend({\n  idAttribute:\"strategyId\",//到一个从key到 id 的一个透明映射中。\n});\n\nmodule.exports = StrategyMgrModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/strategy/StrategyMgrModel.js","/**\n * 弹窗组件\n * @export ModalView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\nconst $ = require('jquery');\nconst _ = require('underscore');\nrequire('utils/BackbonePreParse');\nrequire('bootstrap/js/modal');\n\nconst ModalView = Backbone.View.extend({\n  className: 'modal fade',\n  title: 'Modal Title',\n  template: require('templates/common/modal.tpl'),\n  showCloseButton: true,\n  backdrop: true,\n  showHeader: true,\n  width: 600,\n  buttons: [],\n  onHide: $.noop,\n  onShow: $.noop,\n  events: {\n    'click .modal-footer>.btn': '_handleButtonClick',\n  },\n  initialize: function(options) {\n    _.extend(this, options);\n    this.$el.attr({ tabindex: '-1', role: 'dialog' });\n  },\n  render: function(container) {\n    const self = this;\n    this.$el.append(\n      this.template({\n        title: this.title,\n        showCloseButton: this.showCloseButton,\n        showHeader: this.showHeader,\n        buttons: this.buttons,\n      }),\n    );\n    if (this.view && this.view instanceof Backbone.View) {\n      this.$('.modal-body').append(this.view.el);\n    } else if (this.content) {\n      this.$('.modal-body').html(this.content);\n    }\n    this.$('.modal-dialog').css({ width: this.width });\n    this.$el\n      .on('hide.bs.modal', function() {\n        self.onHide.call();\n        self.close();\n      })\n      .on('show.bs.modal', function() {\n        self.onShow.call();\n      });\n    this.$el.modal({\n      backdrop: !this.backdrop ? 'static' : true,\n      show: false,\n    });\n    return this;\n  },\n  /**\n   * 添加弹窗功能按钮\n   * @param button Object {id:'按钮编码',name:'按钮名称',handler:'按钮处理函数',primary:false}\n   */\n  addButton: function(button) {\n    this.buttons.push(button);\n  },\n  /**\n   * 添加弹窗功能按钮\n   * @param buttons  Array\n   */\n  addButtons: function(buttons) {\n    this.buttons.concat(buttons);\n  },\n  /**\n   * 设置弹窗内容展示区域\n   * @param tpl\n   * @param val\n   */\n  setContent: function(tpl, val) {\n    this.$('.modal-body').html(\n      tpl({\n        data: val,\n      }),\n    );\n  },\n  /**\n   * 设置弹窗底部功能区域\n   * @param content\n   */\n  setFooter: function(content) {\n    this.$('.modal-footer').append(content);\n  },\n  /**\n   * 打开弹窗\n   */\n  open: function() {\n    this.$el.modal('show');\n  },\n  /**\n   * 组件销毁\n   */\n  close: function() {\n    if (this.view && this.view instanceof Backbone.View) {\n      const destroyFunc = _.property('destory')(this.view);\n      if (destroyFunc && _.isFunction(destroyFunc)) {\n        this.view.destroy();\n      }\n    }\n    $(document.body).removeClass('modal-open');\n    $('.modal-backdrop').remove();\n    this.buttons = [];\n    this.$el.data('bs.modal', null);\n    this.$el.data('modal', null);\n    this.$el.off();\n    this.remove();\n  },\n  /**\n   * 处理按钮点击事件\n   * @param e\n   * @return {boolean}\n   * @private\n   */\n  _handleButtonClick: function(e) {\n    const dataId = $(e.target).attr('data-id'),\n      button = _.findWhere(this.buttons, { id: dataId });\n    if (button && button.handler) {\n      if (_.isFunction(button.handler)) {\n        const result = button.handler.apply(this);\n        if (result === true) {\n          this.$el.modal('hide');\n        }\n      }\n      if (_.isString(button.handler)) {\n        if (button.handler === 'close') {\n          this.$el.modal('hide');\n        }\n      }\n    }\n    return false;\n  },\n});\nmodule.exports = ModalView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/common/ModalView.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<div class=\"ui-tactics-container\">\\n\t<h5>策略相关模型执行状态</h5>\\n\t<div  class=\"container-table\">\\n\t\t<table class=\"common-table\">\\n\t\t\t<thead>\\n\t\t\t<tr >\\n\t\t\t\t<th style=\"width:5%;\">序号</th>\\n\t\t\t\t<th style=\"width:35%;\">模板名称</th>\\n\t\t\t\t<th style=\"width:35%;\">状态</th>\\n\t\t\t\t<th style=\"width:20%;\">更新时间</th>\\n\t\t\t</tr>\\n\t\t\t</thead>\\n\t\t\t<tbody>\\n\t\t\t';\n _.each(data,function(data,i){ ;\n__p += '\\n\t\t\t<tr class=\"content-table-tr\">\\n\t\t\t\t<td class=\"text-center\">' +\n((__t = (i++)) == null ? '' : __t) +\n'</td>\\n\t\t\t\t<td class=\"text-center\">' +\n((__t = (data.modelName)) == null ? '' : __t) +\n'</td>\\n\t\t\t\t<td class=\"text-center\">' +\n((__t = (data.dealState)) == null ? '' : __t) +\n'</td>\\n\t\t\t\t<td class=\"text-center\">' +\n((__t = (data.updateTime)) == null ? '' : __t) +\n'</td>\\n\t\t\t</tr>\\n\t\t\t';\n }) ;\n__p += '\\n\t\t\t</tbody>\\n\t\t</table>\\n\t</div>\\n</div>';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/details/modellogs.tpl\n// module id = aFww\n// module chunks = 0","/**\n * 策略流程图数据节点对象视图组件\n * @export DataNodeView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\nconst $ = require('jquery');\nconst _ = require('underscore');\nconst DataNode = require('models/DataNode');\nrequire('jquery-ui/ui/widgets/draggable');\n\nconst DataNodeView = Backbone.View.extend({\n  selector: {\n    NODE_PORT: '.node-port',\n  },\n  template: require('templates/strategy/create/strategy_datanode.tpl'),\n  events: {\n    click: 'select',\n    mouseout: '_handleMouseLeave',\n    'dblclick .data-node-input': '_handleNodeInput',\n    'dblclick .tips-content': '_handleNodeInput',\n    'click .data-node-input,.node-tips': '_handlePreventEvent',\n  },\n  initialize: function(option) {\n    _.extend(this, option);\n    this.renderDom();\n    this.$el.css({\n      position: 'absolute',\n      left: this.model.attributes.coordinate.x,\n      top: this.model.attributes.coordinate.y,\n    });\n    if (!this.model.isCalcNode()) {\n      this.$el.attr('data-toggle', 'diagram-context');\n    }\n    this.$el.addClass(this.model.isCalcNode() ? 'data-calc-node' : 'data-node');\n    this.$el.css('cursor', 'pointer');\n    this.listenTo(this.model, 'change:conf', this._handleConfChange);\n    this.listenTo(this.model, 'change:type change:status', this.renderDom);\n  },\n  render: function(container) {\n    this.$el.appendTo(container);\n    this._initNodeDraggable();\n    this.width = this.$el.outerWidth();\n    this.height = this.$el.outerHeight();\n    return this;\n  },\n  /**\n   * 渲染数据节点DOM\n   */\n  renderDom: function() {\n    this.$el.html(\n      this.template({\n        model: this.model.attributes,\n        layout: this.diagram.layout,\n        NODE_STATUS: DataNode.NODE_STATUS,\n        NODE_TYPE: DataNode.NODE_TYPE,\n      }),\n    );\n    this.$el.attr({\n      'data-id': this.model.id,\n      'data-type': this.model.get('type'),\n      title: this.model.attributes.txt,\n    });\n    this._initNodePortDraggable();\n  },\n  /**\n   * 初始化节点的拖拽事件，使节点支持拖拽移动操作\n   * @private\n   */\n  _initNodeDraggable: function() {\n    this.$el.draggable({\n      cancel: this.selector.NODE_PORT,\n      containment: 'parent',\n      start: _.bind(this._handlerNodeDragMove, this),\n      drag: _.bind(this._handlerNodeDragMove, this),\n      stop: _.bind(this._handlerNodeDragMove, this),\n    });\n  },\n  /**\n   * 初始化节点端点的拖拽事件，使端点支持拖拽，拖拽端点时，支持绘制连线\n   */\n  _initNodePortDraggable: function() {\n    this.$(this.selector.NODE_PORT).draggable({\n      containment: this.$el.parent().parent(),\n      revert: true,\n      helper: function() {\n        return '<div/>';\n      },\n      start: _.bind(this._startDrawConnection, this),\n      drag: _.bind(this._drawingConnection, this),\n      stop: _.bind(this._endDrawConnection, this),\n    });\n  },\n  /**\n   * 选中节点\n   * @param e\n   */\n  select: function(e) {\n    this.diagram.showNodeConfig(this.model.id);\n    this.$el.siblings('.selected').removeClass('selected');\n    this.$el.addClass('selected');\n    if (e) {\n      e.stopPropagation();\n    }\n  },\n  /**\n   * 取消选中节点\n   */\n  unselect: function() {\n    this.$el.removeClass('selected');\n  },\n  /**\n   * 处理数据节点的拖动移动中的事件，拖动中重新绘制与此节点相链接的连线\n   * @param e\n   * @param ui\n   * @private\n   */\n  _handlerNodeDragMove: function(e, ui) {\n    const $target = $(e.target),\n      pos = $target.position();\n    if (e.type === 'dragstart') {\n      ui.position.left = 0;\n      ui.position.top = 0;\n      $target.css('cursor', 'move');\n    } else if (e.type === 'drag') {\n      const changeLeft = ui.position.left - ui.originalPosition.left;\n      const newLeft =\n        ui.originalPosition.left + changeLeft / this.diagram.getZoomScale();\n      const changeTop = ui.position.top - ui.originalPosition.top;\n      const newTop =\n        ui.originalPosition.top + changeTop / this.diagram.getZoomScale();\n      ui.position.left = newLeft;\n      ui.position.top = newTop;\n      this.model.set(\n        'coordinate',\n        {\n          x: newLeft,\n          y: newTop,\n        },\n        { silent: true },\n      );\n      this.diagram.renderConnectionByNodeId(this.model.id);\n    } else if (e.type === 'dragstop') {\n      $(e.originalEvent.target).one('click', function(e) {\n        e.stopImmediatePropagation();\n      });\n      this.model.trigger('change change:coordinate', this.model);\n      $target.css('cursor', 'pointer');\n    }\n  },\n  /**\n   * 处理配置内容变更事件\n   * @private\n   */\n  _handleConfChange: function(model, conf, option) {\n  },\n\n  _handleMouseLeave: function() {\n    this.$el.css('cursor', '');\n  },\n  /**\n   * 开始绘制图形节点间的连线，添加临时连线端点\n   * @param e\n   * @private\n   */\n  _startDrawConnection: function(e) {\n    const $target = $(e.target),\n      $parent = $target.parent(),\n      pos_p = $parent.position(),\n      w = $parent.outerWidth(),\n      h = $parent.outerHeight(),\n      pos_s = $target.position();\n    this.$el.parent().css('cursor', 'crosshair');\n    this.tmpConnection = {\n      from: this.diagram.getConnPortCoord(\n        this.diagram.layout,\n        true,\n        pos_p.left,\n        pos_p.top,\n        w,\n        h,\n      ),\n      startCoord: {\n        sx: pos_p.left + (pos_s.left + $target.outerWidth() / 2),\n        sy: pos_p.top + (pos_s.top + $target.outerHeight() / 2),\n        x: e.clientX,\n        y: e.clientY,\n      },\n    };\n  },\n  /**\n   *连线中\n   * @param e\n   * @private\n   */\n  _drawingConnection: function(e) {\n    const $target = $(e.target);\n    const conn = this._drawTempConnection(e, $target);\n    // 判断划线是否经过数据节点\n    const result = this._allowConnect(e);\n    if (!result.allow) {\n      conn && conn.line && conn.line.stop();\n      if (result.$ele) {\n        result.$ele.css('cursor', 'not-allowed');\n      }\n    } else {\n      result.$ele.css('cursor', 'wait');\n      conn && conn.line && conn.line.animate(this.diagram.animation.line);\n    }\n  },\n\n  /**\n   * 绘制连线拖动中的临时连线\n   * @param e\n   * @returns {*|Raphael.Element}\n   * @private\n   */\n  _drawTempConnection: function(e) {\n    const startCoord = this.tmpConnection.startCoord;\n    this.tmpConnection['to'] = this.diagram.getConnPortCoord(\n      this.diagram.layout,\n      false,\n      this.tmpConnection.from.x + (e.clientX - startCoord.x),\n      this.tmpConnection.from.y + (e.clientY - startCoord.y),\n    );\n    return this.diagram.renderTempConnection(this.tmpConnection);\n  },\n  /**\n   * 结束绘制节点间的连线，添加线条结束端点circle\n   * @param e\n   * @private\n   */\n  _endDrawConnection: function(e) {\n    const self = this,\n      conn = this._drawTempConnection(e),\n      line = conn && conn.line,\n      path = line && line.attr('path');\n\n    const result = this._allowConnect(e);\n    if (!result.allow) {\n      line &&\n        line.animate({ path: path[0] }, 200, '>', function() {\n          self.diagram.removeTempConnection();\n        });\n      if (result.$ele) {\n        result.$ele.css('cursor', 'pointer');\n      }\n    } else {\n      this.diagram.addConnection(this.model.id, result.id);\n      this.diagram.removeTempConnection();\n      result.$ele.css('cursor', 'pointer');\n    }\n    this.$el.parent().css('cursor', '');\n    delete this.tmpConnection;\n  },\n  /**\n   * 判断是否拖动至数据节点或计算节点\n   * @param $el\n   * @returns {null|Object} 返回节点id、节点类型，如果未拖动到数据节点，返回null\n   * @private\n   */\n  _judgeOverDataNode: function($el) {\n    const $dataNode = $el.closest('.data-node,.data-calc-node');\n    if ($dataNode.length > 0) {\n      return {\n        id: $dataNode.attr('data-id'),\n        isCalcNode: $dataNode.hasClass('data-calc-node'),\n        $ele: $dataNode,\n      };\n    } else {\n      return null;\n    }\n  },\n  /**\n   * 判断是否允许两个节点连接\n   * @param  e\n   * @return Object\n   * @private\n   */\n  _allowConnect: function(e) {\n    const overEle = this._judgeOverDataNode($(e.originalEvent.target));\n    // 连线经过数据节点或计算节点时\n    if (!overEle) return { allow: false };\n    //自连接或者已经连接\n    if (\n      overEle.id === this.model.id ||\n      this.diagram.isConnected(this.model.id, overEle.id)\n    )\n      return { allow: false, $ele: overEle.$ele };\n    if (\n      //连线from：数据节点  to：计算节点\n      (!this.model.isCalcNode() && overEle.isCalcNode) ||\n      //连线from: 计算节点  to: 计算节点\n      (this.model.isCalcNode() && overEle.isCalcNode)\n    ) {\n      return { allow: true, $ele: overEle.$ele, id: overEle.id };\n    }\n    return { allow: false, $ele: overEle.$ele };\n  },\n  /**\n   * 阻止事件冒泡\n   * @return {boolean}\n   * @private\n   */\n  _handlePreventEvent: function() {\n    return false;\n  },\n  /**\n   * 处理计算节点名称、节点备注信息录入\n   * @param e\n   * @return {boolean}\n   * @private\n   */\n  _handleNodeInput: function(e) {\n    const $target = $(e.currentTarget),\n      $input = $('<textarea maxlength=\"18\"/>'),\n      self = this;\n    if ($target.hasClass('has-content')) {\n      $input.val($.trim($target.text()));\n    }\n    $target.html($input);\n    $input.focus().select();\n    $input\n      .click(function() {\n        $(this).focus();\n      })\n      .blur(function() {\n        let val = $.trim($(this).val());\n        if (val === '') {\n          $target.removeClass('has-content');\n          val = $target.attr('title');\n        } else {\n          $target.addClass('has-content');\n        }\n        self.model.set(\n          $target.hasClass('tips-content') ? 'desc' : 'alias',\n          val,\n        );\n        $(this).off();\n        $target.html(val);\n      });\n    return false;\n  },\n  /**\n   * 添加节点备注\n   */\n  addComment: function() {\n    this.$el.find('.node-tips').fadeIn();\n  },\n  /**\n   * 节点边框高亮闪烁动画\n   */\n  highlight: function() {\n    const self = this;\n    (function loopingFunction(times) {\n      self.$el.toggleClass('warning');\n      if (times < 10) {\n        setTimeout(function() {\n          loopingFunction(times + 1);\n        }, 300);\n      } else {\n        self.$el.removeClass('warning');\n      }\n    })(0);\n  },\n  /**\n   * 组件销毁方法\n   */\n  destroy: function() {\n    this.undelegateEvents();\n    this.stopListening();\n    if (this.$el.hasClass('ui-draggable')) {\n      this.$el.draggable('destroy');\n    }\n    if (this.$(this.selector.NODE_PORT).hasClass('ui-draggable')) {\n      this.$(this.selector.NODE_PORT).draggable('destroy');\n    }\n    this.$(this.selector.NODE_PORT).off();\n    this.$('.data-node-input').off();\n    this.$el.off();\n    this.remove();\n  },\n});\nmodule.exports = DataNodeView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/create/DataNodeView.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n\n_.each(obj,function(menu){;\n__p += '\\n\t';\nif(menu.active){;\n__p += '\\n\t<li data-value=\"' +\n((__t = (menu.id)) == null ? '' : __t) +\n'\" class=\"active\">' +\n((__t = (menu.name)) == null ? '' : __t) +\n'</li>\\n\t';\n};\n__p += '\\n\t';\nif(!menu.active){;\n__p += '\\n\t<li data-value=\"' +\n((__t = (menu.id)) == null ? '' : __t) +\n'\" >' +\n((__t = (menu.name)) == null ? '' : __t) +\n'</li>\\n\t';\n};\n__p += '\\n';\n});\n\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/main/nav_menu.tpl\n// module id = abAR\n// module chunks = 0","const Mock = require('mockjs');\nMock.mock(/\\/irec\\/businesses\\/count/, {\n  success: true,\n  message: '',\n  data: [\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      busiName: '视频推荐',\n      busiDesc: null,\n      busiIcon: 'ui-vedio',\n      count: 19,\n    },\n    {\n      busiCode: 'ffcbd942a9c54c8f8e805e88257fceb7',\n      busiName: '音乐推荐',\n      busiDesc: null,\n      busiIcon: 'ui-music',\n      count: 0,\n    },\n    {\n      busiCode: '962c3659fb4c4f9792d6a6dcd3e506f5',\n      busiName: '应用推荐',\n      busiDesc: null,\n      busiIcon: 'ui-app',\n      count: 0,\n    },\n    {\n      busiCode: '351d4e4108b340649cfa2fab9a989135',\n      busiName: '游戏推荐',\n      busiDesc: null,\n      busiIcon: 'ui-game',\n      count: 0,\n    },\n    {\n      busiCode: '1c9aeac84317474dad5e7bba880c68eb',\n      busiName: '套餐推荐',\n      busiDesc: null,\n      busiIcon: 'ui-something',\n      count: 0,\n    },\n  ],\n});\n\nMock.mock(\n  /\\/irec\\/businesses\\/4c1105f55fde46f38d4f33c1c4793c32\\/models\\/public/,\n  {\n    success: true,\n    message: '',\n    data: [\n      {\n        busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n        modelId: '61c1b7c205b944189cd242640743254c',\n        modelName: '咪咕存量用户',\n      },\n      {\n        busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n        modelId: '639029f9cc6941c49261b1981a0054ea',\n        modelName: '用户视频分类偏好',\n      },\n      {\n        busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n        modelId: '9c56c0e37fd04a08ab7a39357fb8f6d0',\n        modelName: '咪咕视频信息表',\n      },\n      {\n        busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n        modelId: 'b16e27014b4448198c7b06b330d6b1d5',\n        modelName: '物品关联列表',\n      },\n      {\n        busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n        modelId: 'c6e871dcb24e4d1993fddeada7c388eb',\n        modelName: '用户视频访问打分',\n      },\n    ],\n  },\n);\n\nMock.mock(/\\/irec\\/models\\/\\w+\\/fieldsAndLogs/, {\n  success: true,\n  message: '',\n  data: {\n    modelId: '61c1b7c205b944189cd242640743254c',\n    cycle: '1',\n    dataCount: 567890,\n    updateTime: '2017-11-05 02:11:00',\n    fieldList: [\n      { fieldDesc: '入网时长', fieldName: 'TIMELONG', fieldType: 'STRING' },\n      { fieldDesc: '电话号码', fieldName: 'PHONE', fieldType: 'STRING' },\n      { fieldDesc: '入网时间', fieldName: 'DATETIME', fieldType: 'STRING' },\n    ],\n  },\n});\n\nMock.mock(/\\/irec\\/enumDics\\/STRATEGY_STATE/, {\n  success: true,\n  message: '',\n  data: [\n    { enumGroup: 'STRATEGY_STATE', enumKey: 1, enumValue: '待执行' },\n    { enumGroup: 'STRATEGY_STATE', enumKey: 2, enumValue: '执行中' },\n    { enumGroup: 'STRATEGY_STATE', enumKey: 3, enumValue: '完成' },\n    { enumGroup: 'STRATEGY_STATE', enumKey: 4, enumValue: '错误' },\n  ],\n});\n\nMock.mock(/\\/irec\\/businesses\\/\\w+\\/strategies\\/strategyState\\/count/, {\n  success: true,\n  message: '',\n  data: [\n    { strategyState: '1', count: 18 },\n    { strategyState: '2', count: 5 },\n    { strategyState: '3', count: 3 },\n  ],\n});\n\nMock.mock(/\\/irec\\/businesses\\/\\w+\\/strategies(\\?\\S*)*/, {\n  success: true,\n  message: '',\n  data: [\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: 'f646b62434364e138472a4c8a33b2d09',\n      strategyName: '咪咕视频推荐策略测试',\n      strategyState: '1',\n      createTime: '2017-12-13',\n      cycle: 1,\n      executeState: -1,\n      endTime: '2017-12-13',\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: '325b01315d224593a003bd131ecc5370',\n      strategyName: '李裴测试1',\n      strategyState: '1',\n      createTime: '2017-12-13',\n      cycle: 1,\n      executeState: -1,\n      endTime: '2017-12-13',\n      dataCount: 4623635,\n      updateTimes: 1,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: '4bc229d5cb944d7f8fd903f4129236a0',\n      strategyName: '李裴测试2',\n      strategyState: '1',\n      createTime: '2017-12-13',\n      cycle: 1,\n      executeState: -1,\n      endTime: '2017-12-13',\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: '1234b8bb4ce2440eaa1ac48bbc595084',\n      strategyName: '李裴测试11',\n      strategyState: '1',\n      createTime: '2017-12-13 07:12:00',\n      cycle: 1,\n      executeState: -1,\n      endTime: '2017-12-13',\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: '1e14bc12bc77405ebd7d4d3feb2ed34a',\n      strategyName: '李毅测试',\n      strategyState: '1',\n      createTime: '2017-12-12 06:12:00',\n      cycle: 1,\n      executeState: -1,\n      endTime: '2017-12-13',\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: '99183b769e1a483e90736c3f3f59c857',\n      strategyName: '推荐策略测试',\n      strategyState: '1',\n      createTime: '2017-12-08 07:12:00',\n      cycle: 1,\n      executeState: 1,\n      endTime: null,\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: '7d8e19c3e2414b149e5d91f44efb8c5f',\n      strategyName: '推荐策略测试',\n      strategyState: '1',\n      createTime: '2017-12-08 07:12:00',\n      cycle: 2,\n      executeState: 1,\n      endTime: null,\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: '4e6f490a5e014886ad4516b1cae57b0c',\n      strategyName: '推荐策略测试',\n      strategyState: '1',\n      createTime: '2017-12-08 07:12:00',\n      cycle: 2,\n      executeState: 1,\n      endTime: null,\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: '80021834820f4bdfaf4af37b0c399c70',\n      strategyName: '推荐策略测试',\n      strategyState: '1',\n      createTime: '2017-12-08 07:12:00',\n      cycle: 1,\n      executeState: 1,\n      endTime: null,\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: 'a10e42cbe9d54a89893ed117c1ced4db',\n      strategyName: '测试策略',\n      strategyState: '1',\n      createTime: '2017-12-08 07:12:00',\n      cycle: 2,\n      executeState: 1,\n      endTime: null,\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: 'cb8b198a30914f21849c0cfd1f807b3b',\n      strategyName: '策略名称测试2',\n      strategyState: '2',\n      createTime: '2017-11-22 08:11:00',\n      cycle: 2,\n      executeState: 1,\n      endTime: null,\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: '3a6281fd3ff04a61bcb3563faba69d6f',\n      strategyName: '存量用户推荐策略2',\n      strategyState: '1',\n      createTime: '2017-11-21 02:11:00',\n      cycle: 2,\n      executeState: 1,\n      endTime: '2017-11-05 02:11:00',\n      dataCount: 123456,\n      updateTimes: 5,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: 'aed1809bf94c472496ba5029a168901f',\n      strategyName: '存量用户推荐策略7',\n      strategyState: '3',\n      createTime: '2017-11-21 02:11:00',\n      cycle: 1,\n      executeState: 1,\n      endTime: null,\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: '67a7036910d04079b13bced276473727',\n      strategyName: '存量用户推荐策略6',\n      strategyState: '2',\n      createTime: '2017-11-21 02:11:00',\n      cycle: 1,\n      executeState: 1,\n      endTime: null,\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: '1f6ac43d273747028859539869013bd2',\n      strategyName: '存量用户推荐策略3',\n      strategyState: '1',\n      createTime: '2017-11-21 02:11:00',\n      cycle: 1,\n      executeState: 1,\n      endTime: null,\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: 'a90cd04b9b124caf83afd78d8e26509c',\n      strategyName: '存量用户推荐策略4',\n      strategyState: '2',\n      createTime: '2017-11-21 02:11:00',\n      cycle: 1,\n      executeState: 1,\n      endTime: null,\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: '212f45ab93964040b866665296f70784',\n      strategyName: '存量用户推荐策略8',\n      strategyState: '3',\n      createTime: '2017-11-21 02:11:00',\n      cycle: 2,\n      executeState: 1,\n      endTime: null,\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: 'faf3dbe47ffd4cda8931fcba77264eb7',\n      strategyName: '存量用户推荐策略5',\n      strategyState: '2',\n      createTime: '2017-11-21 02:11:00',\n      cycle: 2,\n      executeState: 1,\n      endTime: null,\n      dataCount: null,\n      updateTimes: 0,\n    },\n    {\n      busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n      strategyId: 'd4dfc1b368244544be7fd2be425ba53c',\n      strategyName: '存量用户推荐策略9',\n      strategyState: '3',\n      createTime: '2017-11-21 02:11:00',\n      cycle: 1,\n      executeState: 1,\n      endTime: null,\n      dataCount: null,\n      updateTimes: 0,\n    },\n  ],\n});\n\nMock.mock(/\\/irec\\/strategies\\/\\w+/, {\n  success: true,\n  message: '',\n  data: {\n    strategyId: 'f646b62434364e138472a4c8a33b2d09',\n    strategyName: '咪咕视频推荐策略测试',\n    strategyConf:\n      '{\"nodes\":[{\"id\":\"100\",\"alias\":\"\",\"desc\":\"\",\"conf\":{\"fields\":[{\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}],\"cond_exp\":{\"and\":[]}},\"coordinate\":{\"x\":326,\"y\":249},\"status\":11,\"modelId\":\"639029f9cc6941c49261b1981a0054ea\",\"type\":1,\"txt\":\"用户视频分类偏好\",\"icon\":\"icon-shujumoxing-\"},{\"id\":\"105\",\"alias\":\"测试结果\",\"desc\":\"\",\"conf\":{\"cal_type\":\"join\",\"join_type\":\"INNER\",\"join_fields\":[[{\"364\":\"PHONE\"},{\"100\":\"PHONE\"},{\"1022\":\"PHONE\"}]],\"fields\":[{\"nodeId\":\"364\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"364\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"364\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"364\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"364\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"364\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"100\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"100\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"100\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"1022\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"1022\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"1022\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}]},\"coordinate\":{\"x\":566,\"y\":239},\"status\":11,\"type\":999,\"txt\":\"关联\",\"calcType\":\"join\",\"icon\":\"icon-guanlian\"},{\"id\":\"354\",\"alias\":\"\",\"desc\":\"\",\"conf\":{\"fields\":[{\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}],\"cond_exp\":{\"and\":[{\">\":[\"TIMELONG\",\"222\"]},{\">\":[\"PHONE\",\"333\"]}]}},\"coordinate\":{\"x\":54,\"y\":78},\"status\":11,\"modelId\":\"61c1b7c205b944189cd242640743254c\",\"type\":1,\"txt\":\"咪咕存量用户\",\"icon\":\"icon-shujumoxing-\"},{\"id\":\"359\",\"alias\":\"\",\"desc\":\"\",\"conf\":{},\"coordinate\":{\"x\":62,\"y\":191},\"status\":11,\"modelId\":\"639029f9cc6941c49261b1981a0054ea\",\"type\":1,\"txt\":\"用户视频分类偏好\",\"icon\":\"icon-shujumoxing-\"},{\"id\":\"364\",\"alias\":\"个性化结果集\",\"desc\":\"\",\"conf\":{\"cal_type\":\"join\",\"join_type\":\"INNER\",\"join_fields\":[[{\"354\":\"PHONE\"},{\"359\":\"PHONE\"}]],\"fields\":[{\"nodeId\":\"354\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"354\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"354\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"359\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"359\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"359\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}]},\"coordinate\":{\"x\":322,\"y\":118},\"status\":11,\"type\":99,\"txt\":\"关联\",\"calcType\":\"join\",\"icon\":\"icon-guanlian\"},{\"id\":\"1022\",\"alias\":\"\",\"desc\":\"\",\"conf\":{\"fields\":[{\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}]},\"coordinate\":{\"x\":326,\"y\":366},\"status\":11,\"modelId\":\"b16e27014b4448198c7b06b330d6b1d5\",\"type\":1,\"txt\":\"物品关联列表\",\"icon\":\"icon-shujumoxing-\"}],\"connectors\":[{\"id\":\"110\",\"from\":\"364\",\"to\":\"105\"},{\"id\":\"112\",\"from\":\"100\",\"to\":\"105\"},{\"id\":\"379\",\"from\":\"354\",\"to\":\"364\"},{\"id\":\"381\",\"from\":\"359\",\"to\":\"364\"},{\"id\":\"1027\",\"from\":\"1022\",\"to\":\"105\"}]}',\n    strategyDesc: null,\n    cycle: 1,\n    path: null,\n    strategyState: 1,\n    executeState: null,\n    busiCode: '4c1105f55fde46f38d4f33c1c4793c32',\n    state: 1,\n    creater: null,\n    createTime: '2017-12-13 08:12:00',\n    modifier: null,\n    modifyTime: '2017-12-13 08:12:00',\n    nodeList: [\n      {\n        nodeId: '100',\n        nodeName: '用户视频分类偏好',\n        nodeDesc: '',\n        nodeType: 1,\n        nodeObject: '639029f9cc6941c49261b1981a0054ea',\n        nodeConf:\n          '{\"fields\":[{\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}],\"cond_exp\":{\"and\":[]}}',\n        invokeIndex: 5,\n      },\n      {\n        nodeId: '1022',\n        nodeName: '物品关联列表',\n        nodeDesc: '',\n        nodeType: 1,\n        nodeObject: 'b16e27014b4448198c7b06b330d6b1d5',\n        nodeConf:\n          '{\"fields\":[{\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}]}',\n        invokeIndex: 6,\n      },\n      {\n        nodeId: '105',\n        nodeName: '关联',\n        nodeDesc: '',\n        nodeType: 999,\n        nodeObject: null,\n        nodeConf:\n          '{\"cal_type\":\"join\",\"join_type\":\"INNER\",\"join_fields\":[[{\"364\":\"PHONE\"},{\"100\":\"PHONE\"},{\"1022\":\"PHONE\"}]],\"fields\":[{\"nodeId\":\"364\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"364\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"364\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"364\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"364\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"364\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"100\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"100\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"100\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"1022\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"1022\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"1022\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}]}',\n        invokeIndex: 1,\n      },\n      {\n        nodeId: '354',\n        nodeName: '咪咕存量用户',\n        nodeDesc: '',\n        nodeType: 1,\n        nodeObject: '61c1b7c205b944189cd242640743254c',\n        nodeConf:\n          '{\"fields\":[{\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}],\"cond_exp\":{\"and\":[{\">\":[\"TIMELONG\",\"222\"]},{\">\":[\"PHONE\",\"333\"]}]}}',\n        invokeIndex: 3,\n      },\n      {\n        nodeId: '359',\n        nodeName: '用户视频分类偏好',\n        nodeDesc: '',\n        nodeType: 1,\n        nodeObject: '639029f9cc6941c49261b1981a0054ea',\n        nodeConf: '{}',\n        invokeIndex: 4,\n      },\n      {\n        nodeId: '364',\n        nodeName: '关联',\n        nodeDesc: '',\n        nodeType: 99,\n        nodeObject: null,\n        nodeConf:\n          '{\"cal_type\":\"join\",\"join_type\":\"INNER\",\"join_fields\":[[{\"354\":\"PHONE\"},{\"359\":\"PHONE\"}]],\"fields\":[{\"nodeId\":\"354\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"354\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"354\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"},{\"nodeId\":\"359\",\"fieldDesc\":\"入网时长\",\"fieldName\":\"TIMELONG\"},{\"nodeId\":\"359\",\"fieldDesc\":\"电话号码\",\"fieldName\":\"PHONE\"},{\"nodeId\":\"359\",\"fieldDesc\":\"入网时间\",\"fieldName\":\"DATETIME\"}]}',\n        invokeIndex: 2,\n      },\n    ],\n  },\n});\n\nMock.mock(/\\/irec\\/strategies\\/\\w+\\/history/, {\n  success: true,\n  message: '',\n  data: [\n    {\n      logId: '1',\n      endTime: '2017-10-15',\n      dataCount: '105',\n      dealState: '1',\n    },\n    {\n      logId: '2',\n      endTime: '2017-10-16',\n      dataCount: '95',\n      dealState: '1',\n    },\n    {\n      logId: '3',\n      endTime: '2017-10-17',\n      dataCount: '85',\n      dealState: '1',\n    },\n    {\n      logId: '4',\n      endTime: '2017-10-25',\n      dataCount: '75',\n      dealState: '1',\n    },\n  ],\n});\n\nMock.mock(/\\/irec\\/strategies\\/\\w+\\/modelState/, {\n  success: true,\n  message: '',\n  data: [],\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/mock/Mock_Irec.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"ui-mind-map ui-next-content\">\\n\t<form class=\"form-horizontal\">\\n\t  <div class=\"form-group\">\\n\t\t<label for=\"strategyName\" class=\"col-sm-4 control-label\">策略名称：</label>\\n\t\t<div class=\"col-sm-6\">\\n\t\t\t<input type=\"text\" class=\"form-control\" id=\"strategyName\" name=\"strategyName\"  placeholder=\"策略名称\" value=\"' +\n((__t = (data.strategyName||'')) == null ? '' : __t) +\n'\">\\n\t\t\t<span class=\"help-block hidden\"></span>\\n\t\t</div>\\n\t  </div>\\n\t  <div class=\"ui-form-line\"></div>\\n\t  <div class=\"form-group\">\\n\t\t<label for=\"cycle1\" class=\"col-sm-4 control-label\">更新周期：</label>\\n\t\t<div class=\"col-sm-6\" style=\"margin-top: -25px;\">\\n\t\t  <p class=\"mt30\">\\n\t\t\t  <input type=\"radio\" id=\"cycle1\" name=\"cycle\"  ' +\n((__t = ((!data.cycle||data.cycle=='1')?'checked':'')) == null ? '' : __t) +\n'/>\\n\t\t\t  <label for=\"cycle1\"><span>最小周期列表：</span>一天一次</label>\\n\t\t  </p>\\n\t\t  <p class=\"mt10\">\\n\t\t\t  <input type=\"radio\" id=\"cycle2\" name=\"cycle\" ' +\n((__t = ((data.cycle=='2')?'checked':'')) == null ? '' : __t) +\n'  />\\n\t\t\t  <label for=\"cycle2\"><span>最大周期列表：</span>一周一次</label></p>\\n\t\t</div>\\n\t  </div>\\n\t</form>\\n</div>\\n';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/create/strategy_save.tpl\n// module id = bHox\n// module chunks = 0","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"container-fluid ui-main ui-main-box clearfix\">\\n\t<div class=\"fleft ui-tactics-manage-menu\"  id=\"strategyLefDiv\">\\n\\n\t</div>\\n\t<div class=\"fleft ui-tactics-manage-content\" id=\"strategyDiv\">\\n\t\t<div id=\"strategyQueryDiv\">\\n\\n\t\t</div>\\n\t\t<div class=\"ui-tactics-list clearfix\" id=\"strategyDataDiv\">\\n\\n\t\t</div>\\n\t</div>\\n</div>\\n';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/manage/main.tpl\n// module id = cLf+\n// module chunks = 0","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n\nif(viewType==\"view\"){;\n__p += '\\n<div class=\"ui-input-node ui-tactics-item clearfix ui-field\" style=\"border-bottom: 0px;\">\\n\t<span class=\"fleft\" style=\"width: 39%;\">字段名</span>\\n\t<span class=\"fleft\" style=\"width: 20%;float: left;\">运算符</span>\\n\t<span class=\"fleft\" style=\"width: 30%;float: right;\">内容</span>\\n</div>\\n<table class=\"table table-striped ui-table-cell\">\\n';\n};\n__p += '\\n';\n var operations=[\">\",\"<\",\"=\"];\n  if(cond_exps!=undefined){\n\t  _.each(cond_exps.and,function(cond_exp){\n\t\t for (var key in cond_exp){ ;\n__p += '\\n\t\t\t<div class=\"filter-item\">\\n\t\t\t\t';\nif(viewType!=\"view\"){;\n__p += '\\n\t\t\t\t\t<select class=\"filter-field\">\\n\t\t\t\t\t\t';\n _.each(datas,function(data){ ;\n__p += '\\n\t\t\t\t\t\t\t';\nif(data.fieldName==cond_exp[key][0]){ ;\n__p += '\\n\t\t\t\t\t\t\t\t<option value =\"' +\n((__t = (data.fieldName)) == null ? '' : __t) +\n'\"  selected=\"selected\">' +\n((__t = (data.fieldDesc)) == null ? '' : __t) +\n'</option>\\n\t\t\t\t\t\t\t';\n } else{;\n__p += '\\n\t\t\t\t\t\t\t\t<option value =\"' +\n((__t = (data.fieldName)) == null ? '' : __t) +\n'\">' +\n((__t = (data.fieldDesc)) == null ? '' : __t) +\n'</option>\\n\t\t\t\t\t\t\t';\n };\n__p += '\\n\t\t\t\t\t\t';\n }) ;\n__p += '\\n\t\t\t\t\t</select>\\n\t\t\t\t\t<select class=\"filter-operate\">\\n\t\t\t\t\t\t';\n _.each(operations,function(operation){ ;\n__p += '\\n\t\t\t\t\t\t\t';\nif(operation==key){ ;\n__p += '\\n\t\t\t\t\t\t\t\t<option value =\"' +\n((__t = (operation)) == null ? '' : __t) +\n'\"  selected=\"selected\">' +\n((__t = (operation)) == null ? '' : __t) +\n'</option>\\n\t\t\t\t\t\t\t';\n } else{;\n__p += '\\n\t\t\t\t\t\t\t\t<option value =\"' +\n((__t = (operation)) == null ? '' : __t) +\n'\" >' +\n((__t = (operation)) == null ? '' : __t) +\n'</option>\\n\t\t\t\t\t\t\t';\n };\n__p += '\\n\t\t\t\t\t\t';\n }) ;\n__p += '\\n\t\t\t\t\t</select>\\n\t\t\t\t\t<input type=\"text\" class=\"filter-input\" value=\"' +\n((__t = (cond_exp[key][1])) == null ? '' : __t) +\n'\">\\n\t\t\t\t\t<i  class=\"iconfont icon-error filter-delete\"   title=\"删除\"></i>\\n\t\t\t\t';\n}else{;\n__p += '\\n\t\t\t\t\t  <tr>\\n\t\t\t\t\t\t<td class=\"text-center first\" style=\"width: 30%;\">' +\n((__t = (cond_exp[key][0])) == null ? '' : __t) +\n'</td>\\n\t\t\t\t\t\t<td class=\"text-center first\" style=\"width: 20%;\">' +\n((__t = (key)) == null ? '' : __t) +\n'</td>\\n\t\t\t\t\t\t<td class=\"text-center first\" style=\"width: 30%;\">' +\n((__t = (cond_exp[key][1])) == null ? '' : __t) +\n'</td>\\n\t\t\t\t\t  </tr>\\n\t\t\t\t';\n};\n__p += '\\n\t\t\t</div>\\n\t';\n }})\n\tif(viewType==\"view\"){;\n__p += '\\n\t\t</table>\\n\t';\n }\n}else{ ;\n__p += '\\n\t<div class=\"filter-item\">\\n\t\t<select class=\"filter-field\">\\n\t\t\t';\n _.each(datas,function(data){ ;\n__p += '\\n\t\t\t\t<option value =\"' +\n((__t = (data.fieldName)) == null ? '' : __t) +\n'\">' +\n((__t = (data.fieldDesc)) == null ? '' : __t) +\n'</option>\\n\t\t\t';\n }) ;\n__p += '\\n\t\t</select>\\n\t\t<select class=\"filter-operate\">\\n\t\t  ';\n _.each(operations,function(operation){ ;\n__p += '\\n\t\t\t<option value =\"' +\n((__t = (operation)) == null ? '' : __t) +\n'\" >' +\n((__t = (operation)) == null ? '' : __t) +\n'</option>\\n\t\t  ';\n }) ;\n__p += '\\n\t\t</select>\\n\t\t<input type=\"text\" class=\"filter-input\">\\n\t\t<i  class=\"iconfont icon-error filter-delete\"  title=\"删除\"></i>\\n\t</div>\\n';\n};\n__p += '\\n';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/create/node/modelConfig/fieldFilter.tpl\n// module id = eV6Y\n// module chunks = 0","/**\n * 数据节点Model\n * @export DataNode\n * @extends Backbone.Model\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\nconst _ = require('underscore');\n\nconst DataNode = Backbone.Model.extend({\n  defaults: function() {\n    return {\n      id: _.uniqueId(),\n      alias: '',\n      desc: '',\n      conf: {},\n      coordinate: { x: 0, y: 0 },\n      status: 0,\n    };\n  },\n  initialize: function() {\n    if (this.get('status') === 0) {\n      if (this.get('type') === DataNode.NODE_TYPE.MODEL) {\n        this.set('status', DataNode.NODE_STATUS.CONF_YES, { silent: true });\n      } else {\n        this.set('status', DataNode.NODE_STATUS.CONF_NOT, { silent: true });\n      }\n    }\n  },\n  /**\n   * 判断是否是操作计算节点\n   * @returns {boolean}\n   */\n  isCalcNode: function() {\n    return (\n      this.get('type').toString() === DataNode.NODE_TYPE.OUTPUT.toString() ||\n      this.get('type').toString() === DataNode.NODE_TYPE.FINAL_OUTPUT.toString()\n    );\n  },\n  /**\n   * 判断是否是模型节点\n   * @return {boolean}\n   */\n  isModelNode: function() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.MODEL.toString();\n  },\n  /**\n   * 判断是否是用户节点\n   * @return {boolean}\n   */\n  isUserNode: function() {\n    return (\n      this.get('type').toString() === DataNode.NODE_TYPE.USER_GROUP.toString()\n    );\n  },\n  /**\n   * 判断是否是物品节点\n   * @return {boolean}\n   */\n  isItemNode: function() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.ITEM.toString();\n  },\n\n  /**\n   * 判断是否是物品标签节点\n   * @return {boolean}\n   */\n  isLabelNode: function() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.LABEL.toString();\n  },\n  /**\n   * 判断是否是子策略节点\n   * @return {boolean}\n   */\n  isStrategyNode: function() {\n    return (\n      this.get('type').toString() === DataNode.NODE_TYPE.STRATEGY.toString()\n    );\n  },\n  /**\n   * 判断是否是规则节点\n   * @return {boolean}\n   */\n  isRuleNode: function() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.RULE.toString();\n  },\n  /**\n   * 判断是否是SQL节点\n   * @return {boolean}\n   */\n  isSqlNode: function() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.SQL.toString();\n  },\n  /**\n   * 判断是否是导入节点\n   * @return {boolean}\n   */\n  isImportNode: function() {\n    return this.get('type').toString() === DataNode.NODE_TYPE.IMPORT.toString();\n  },\n  /**\n   * 判断是否是最终推荐结果节点\n   * @return {boolean}\n   */\n  isFinalNode: function() {\n    return (\n      this.get('type').toString() === DataNode.NODE_TYPE.FINAL_OUTPUT.toString()\n    );\n  },\n  /**\n   * 设置为最终推荐结果节点\n   */\n  asFinalNode: function() {\n    this.set('type', DataNode.NODE_TYPE.FINAL_OUTPUT);\n  },\n  /**\n   * 取消设置为最终推荐结果节点\n   */\n  cancelAsFinalNode: function() {\n    this.set('type', DataNode.NODE_TYPE.OUTPUT);\n  },\n  /**\n   * 设置节点状态\n   * @param status\n   * @param isSilent\n   */\n  setStatus: function(status, isSilent = false) {\n    this.set('status', status, { silent: isSilent });\n  },\n  /**\n   * 清楚节点配置对象\n   */\n  clearConfig: function() {\n    if (this.get('type') !== DataNode.NODE_TYPE.MODEL) {\n      this.setStatus(DataNode.NODE_STATUS.CONF_NOT);\n    }\n    this.set('conf', {});\n  },\n  /**\n   * 获取节点输出字段\n   */\n  getOutputFields: function() {\n    const conf = this.get('conf');\n    return conf && (conf['fields'] || []);\n  },\n  /**\n   * 获取模型节点配置组件传入参数\n   */\n  getModelNodeConfigParams: function() {\n    return { modelId: this.get('modelId') };\n  },\n  /**\n   * 获取模型节点配置组件传入参数\n   * @param dataNodeCol\n   * @param nodeConnectCol\n   */\n  getCalcNodeConfigParams: function(dataNodeCol, nodeConnectCol) {\n    const parentNodes = nodeConnectCol.getFromNodesByNodeId(this.id);\n    if (parentNodes && parentNodes.length > 0) {\n      return _.reduce(\n        parentNodes,\n        function(result, nodeId) {\n          const modelNode = dataNodeCol.get(nodeId);\n          if (!modelNode) {\n            console.error('数据节点' + nodeId + '不存在');\n            return;\n          }\n          const nodeParam = {\n            node_id: modelNode.id,\n            node_name: modelNode.getName(),\n          };\n          if (modelNode.isModelNode()) {\n            nodeParam['modelId'] = modelNode.get('modelId');\n            nodeParam['fields'] = modelNode.getOutputFields() || [];\n          } else if (modelNode.isCalcNode()) {\n            nodeParam['fields'] = modelNode.getOutputFields();\n          } else {\n            console.error('此节点类型[' + this.get('type') + ']尚未实现');\n          }\n          result.push(nodeParam);\n          return result;\n        },\n        [],\n      );\n    } else {\n      console.error('操作节点不存在，或操作节点无输入节点连接!');\n      return [];\n    }\n  },\n  /**\n   * 获取模型配置输入参数\n   * @param dataNodeCol\n   * @param nodeConnectCol\n   */\n  getConfigParams: function(dataNodeCol, nodeConnectCol) {\n    let params;\n    if (this.get('type') === DataNode.NODE_TYPE.MODEL) {\n      params = this.getModelNodeConfigParams();\n    } else if (this.isCalcNode()) {\n      params = this.getCalcNodeConfigParams(dataNodeCol, nodeConnectCol);\n    } else {\n      params = {};\n    }\n    return {\n      params: params,\n      conf: this.get('conf'),\n    };\n  },\n  /**\n   * 获取模型名称\n   * @return {*}\n   */\n  getName: function() {\n    return this.get('txt');\n  },\n  /**\n   * 验证节点配置\n   * @param attrs\n   */\n  validate: function(attrs) {},\n});\nDataNode.NODE_STATUS = {\n  CONF_NOT: 10, // 未配置\n  CONF_YES: 11, //已配置\n  CONF_ERROR: -10, //配置错误\n  PROCESS_WAIT: 20, // 待处理\n  PROCESSING: 21, // 处理中\n  PROCESS_FAILURE: -20, //处理失败\n  PROCESS_SUCCESS: 22, // 处理完成\n};\nDataNode.NODE_TYPE = {\n  MODEL: 1, // 模型节点\n  USER_GROUP: 2, // 用户群节点\n  ITEM: 3, // 物品/产品节点\n  LABEL: 4, // 标签节点\n  STRATEGY: 5, // 子策略节点\n  RULE: 6, // 规则节点\n  SQL: 7, // SQL节点\n  IMPORT: 8, // 文本导入节点\n  OUTPUT: 99, //输出节点\n  FINAL_OUTPUT: 999, //最终推荐结果节点\n};\n/**\n * 根据节点类型ID，获取节点类型CODE\n * @param nodeTypeId\n */\nDataNode.getNodeTypeCode = function(nodeTypeId) {\n  return _.invert(DataNode.NODE_TYPE)[parseInt(nodeTypeId)];\n};\nmodule.exports = DataNode;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/DataNode.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<ul class=\"ui-tactics-manage-type\">\\n';\n _.each(datas,function(data){ ;\n__p += '\\n\t';\n if(data.selected){ ;\n__p += '\\n\t\t<li class=\"active\" data-value=\"' +\n((__t = (data.busiCode)) == null ? '' : __t) +\n'\">\\n\t\t\t<i class=\"' +\n((__t = (data.busiIcon)) == null ? '' : __t) +\n'\"></i>\\n\t\t\t<span>' +\n((__t = (data.busiName)) == null ? '' : __t) +\n'' +\n((__t = (data.count)) == null ? '' : __t) +\n'</span>\\n\t\t</li>\\n\t';\n }else{ ;\n__p += '\\n\t\t<li data-value=\"' +\n((__t = (data.busiCode)) == null ? '' : __t) +\n'\">\\n\t\t\t<i class=\"' +\n((__t = (data.busiIcon)) == null ? '' : __t) +\n'\"></i>\\n\t\t\t<span>' +\n((__t = (data.busiName)) == null ? '' : __t) +\n'' +\n((__t = (data.count)) == null ? '' : __t) +\n'</span>\\n\t\t</li>\\n';\n }}) ;\n__p += '\\n</ul>\\n\\n';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/manage/recommendType.tpl\n// module id = evK5\n// module chunks = 0","const Backbone = require('backbone');\nconst RecommendTypeModel = require('models/strategy/RecommendTypeModel');\n\nconst RecommendTypeCollection = Backbone.Collection.extend({\n  model: RecommendTypeModel,\n  url: 'businesses/count',\n});\nmodule.exports = RecommendTypeCollection;\n\n\n\n// WEBPACK FOOTER //\n// ./src/collections/strategy/RecommendTypeCollection.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<ul class=\"diagram-menu\">\\n\t';\n_.each(menus,function(menu){;\n__p += '\\n\t';\nif (menu.type && menu.type===\"separator\"){;\n__p += '\\n\t<li class=\"separator\"></li>\\n\t';\n}else{;\n__p += '\\n\t<li data-action=\"' +\n((__t = (menu.handler)) == null ? '' : __t) +\n'\">\\n\t\t<i class=\"iconfont ' +\n((__t = (menu.icon)) == null ? '' : __t) +\n'\"></i>\\n\t\t<span>' +\n((__t = (menu.name)) == null ? '' : __t) +\n'</span>\\n\t</li>\\n\t';\n};\n__p += '\\n\t';\n});\n__p += '\\n</ul>';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/create/context_menu.tpl\n// module id = fyoS\n// module chunks = 0","const Backbone = require('backbone');\nconst $ = require('jquery');\nconst _=require('underscore');\nconst eventAcrossView = _.extend({}, Backbone.Events);\nconst RecommendTypeView = Backbone.View.extend({\n  events:{\n    'click li': 'clickRecedType',//点击业务选项处理事件\n  },\n  template: require('templates/strategy/manage/recommendType.tpl'),\n  initialize: function(busiCode) {\n    //当数据数据加载完毕将第一条数据勾选上\n    _.extend(this,busiCode);\n    if(this.collection.length>0 && this.busiCode==null){\n      this.collection.get(this.collection.toJSON()[0].busiCode).updateSelected(true);\n    }else{\n      this.collection.get(this.busiCode).updateSelected(true);\n    }\n    this.listenTo(this.collection, 'add', this.renderView());\n    this.listenTo(this.collection, 'change', this.renderView);\n  },\n  render: function() {\n    return this;\n  },\n  renderView: function() {\n    //处理数据初始化后选中第一个;\n    this.$el.html(\n      this.template({\n        datas: this.collection.toJSON()\n      }),\n    );\n  },\n  clickRecedType: function(e) {\n    const val = $(e.currentTarget).attr('data-value');\n    //循环找出已经选择的业务修改选择状态\n    for (var i = 0; i < this.collection.length; i++) {\n        this.collection.get(this.collection.models[i].id).updateSelected(false);\n    }\n    this.collection.get(val).updateSelected(true);\n    //当点击业务菜单时候将业务ID添加在路由上面同时路由方法可以获取ID\n    //Backbone.history.navigate('strategies/manage/'+val,{ trigger: true });\n    //调用策略列表显示方法\n    Backbone.trigger('clickRecedType',val);\n  },\n  destroy: function() {\n    this.undelegateEvents();\n    this.stopListening();\n  },\n});\n\nmodule.exports = RecommendTypeView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/manage/subviews/RecommendTypeView.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<div class=\"modal-dialog\" role=\"document\" style=\"width:500px;\">\\n\t<div class=\"modal-content\">\\n\t\t<div class=\"modal-header\">\\n\t\t\t<h4 class=\"modal-title\">请选择营销推荐业务</h4>\\n\t\t</div>\\n\t\t<div class=\"modal-body\">\\n\t\t\t';\n _.each(datas,function(data,idx){ ;\n__p += '\\n\t\t\t';\n if(idx%4 === 0){;\n__p += '\\n\t\t\t<div class=\"row busi-item-row\" >\\n\t\t\t';\n};\n__p += '\\n\t\t\t\t<div class=\"col-md-3\">\\n\t\t\t\t\t<div class=\"busi-item-box\" data-id=\"' +\n((__t = (data.busiCode)) == null ? '' : __t) +\n'\">\\n\t\t\t\t\t\t<div class=\"busi-item-icon\">\\n\t\t\t\t\t\t\t<i  class=\"iconfont ' +\n((__t = (data.busiIcon)) == null ? '' : __t) +\n'\"></i>\\n\t\t\t\t\t\t</div>\\n\t\t\t\t\t\t<div class=\"busi-item-txt\">\\n\t\t\t\t\t\t\t' +\n((__t = (data.busiName)) == null ? '' : __t) +\n'\\n\t\t\t\t\t\t</div>\\n\t\t\t\t\t\t<div class=\"item-mask\">\\n\t\t\t\t\t\t\t<p>' +\n((__t = (data.busiDesc||data.busiName)) == null ? '' : __t) +\n'</p>\\n\t\t\t\t\t\t\t<a class=\"btn btn-default btn-primary btn-sm\" data-action=\"selectBusi\" role=\"button\">创建</a>\\n\t\t\t\t\t\t</div>\\n\t\t\t\t\t</div>\\n\t\t\t\t</div>\\n\t\t\t';\n if(idx%4===3){;\n__p += '\\n\t\t\t</div>\\n\t\t\t';\n};\n__p += '\\n\t\t\t';\n }) ;\n__p += '\\n\t\t</div>\\n\t</div>\\n</div>';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/create/busi-selector.tpl\n// module id = gY3Z\n// module chunks = 0","const Backbone = require('backbone');\nconst _ = require('underscore');\nconst FooterView = require('views/main/FooterView');\nconst NavMenuView = require('views/main/NavMenuView');\nrequire('bootstrap/dist/css/bootstrap.min.css');\nrequire('styles/main.scss');\nrequire('styles/iconfont/iconfont.css');\n\nconst MainView = Backbone.View.extend({\n  template: require('templates/main/layout.tpl'),\n  selector: {\n    CONTENT: '.irec-content',\n  },\n  initialize: function() {\n    this.$el.prepend(this.template());\n    this.navMenu = new NavMenuView();\n    this.$el.find('#navMenu').append(this.navMenu.render().el);\n    this.footer = new FooterView({\n      el: this.$el.find('#footer'),\n    });\n    this.currentView = null;\n  },\n  loadContentView: function(View, params) {\n    if (\n      this.currentView !== null &&\n      _.isFunction(_.property('destroy')(this.currentView))\n    ) {\n      this.currentView.destroy();\n    }\n    const options = { el: this.$(this.selector.CONTENT) };\n    this.$(this.selector.CONTENT).empty();\n    if (View && View.prototype instanceof Backbone.View) {\n      _.extend(options, params);\n      this.currentView = new View(options);\n      this.currentView.render();\n    }\n  },\n});\nmodule.exports = MainView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/MainView.js","const Backbone = require('backbone');\nconst $ = require('jquery');\nconst MainView = require('views/MainView');\nconst StrategyCreateView = require('views/strategy/create/StrategyCreateView');\n//策略管理模块\nconst StrategyManageMain = require('views/strategy/manage/StrategyManageMain');\n//策略详情模块\nconst StrategyDetailsMain = require('views/strategy/details/StrategyDetailsMain');\nconst App = require('utils/App');\n\nconst Router = Backbone.Router.extend({\n  initialize: function() {\n    this.mainView = new MainView({ el: 'body' });\n    this.on('route', function(route) {\n      Backbone.trigger('irec.navMenu', route);\n    });\n  },\n  routes: {\n    '': 'index', //首页\n    'strategies/manage': 'list_strategies', //策略列表\n    'strategies/manage/:id': 'list_strategies', //策略列表\n    'businesses/strategies': 'monitor_strategies',\n    'businesses/:id/strategies': 'monitor_strategies', //业务监控策略列表\n    'strategie/view/:id': 'view_strategy', //策略详情\n    'strategies/create/:busiCode': 'create_strategy', //创建策略\n    'strategies/create': 'create_strategy', //创建策略\n    'strategies/edit/:id': 'edit_strategy', //编辑策略\n    'models/manage': 'model_manage', //模型管理\n    'data/manage': 'data_manage', //数据管理\n    'system/manage': 'sys_manage', //系统管理\n  },\n  /**\n   * 加载策略监控列表视图组件\n   * @param id\n   */\n  list_strategies: function(id) {\n    this.mainView.loadContentView(StrategyManageMain, {\n      el: '#container',\n      busiCode: id,\n    });\n  },\n  /**\n   * 初始化首页\n   */\n  index: function() {\n    this.mainView.render();\n  },\n  /**\n   * 根据业务编码，加载创建策略视图组件\n   * @param busiCode\n   */\n  create_strategy: function(busiCode) {\n    this.mainView.loadContentView(StrategyCreateView, {\n      busiCode: busiCode || null,\n    });\n  },\n  /**\n   * 加载修改策略视图组件\n   * @param strategyId\n   */\n  edit_strategy: function(strategyId) {\n    this.mainView.loadContentView(StrategyCreateView, {\n      el: '#container',\n      strategyId: strategyId,\n    });\n  },\n  /**\n   * 加载查看策略详情视图组件\n   * @param strategieId\n   */\n  view_strategy: function(strategieId) {\n    this.mainView.loadContentView(StrategyDetailsMain, {\n      el: '#container',\n      strategieId: strategieId,\n    });\n  },\n\n  model_manage: function() {\n    App.alert('模型管理功能尚未实现!');\n    this.mainView.loadContentView(null, { el: '#container' });\n  },\n  data_manage: function() {\n    App.alert('数据管理功能尚未实现!');\n    this.mainView.loadContentView(null, { el: '#container' });\n  },\n  sys_manage: function() {\n    App.alert('系统管理功能尚未实现!');\n    this.mainView.loadContentView(null, { el: '#container' });\n  },\n});\n\nmodule.exports = Router;\n\n\n\n// WEBPACK FOOTER //\n// ./src/routers/Router.js","const Backbone = require('backbone');\n\nconst StrategyTemplateModel = Backbone.Model.extend({\n  defaults: {\n\n  }\n});\nmodule.exports = StrategyTemplateModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/strategy/StrategyTemplateModel.js","const Backbone = require('backbone');\nconst $ = require('jquery');\nconst _ = require('underscore');\nconst StrategyMgrCollection = require('collections/strategy/StrategyMgrCollection');\nconst App = require('utils/App');\nvar strategyState = ''; //策略状态查询字段\nvar strategyName = ''; //策略名称查询字段\nconst StrategyMgrView = Backbone.View.extend({\n  events: {\n    'click .enumKey': 'clickState',\n    'click [data-action=\"view\"]': 'viewDetail',\n    'click .dropdown-menu > li[data-action]': 'clickMgr',\n    'click #searchAll': 'clickSearchAll',\n    'keypress #strategyName ': 'blur',\n    'click #creationStrategy': 'creationStrategy',\n  },\n  initialize: function(options) {\n    this.collection = new StrategyMgrCollection();\n    _.extend(this, options);\n    //初始化查询div dom\n    this.$el\n      .find('#strategyQueryDiv')\n      .html(require('templates/strategy/manage/strategyQuery.tpl'));\n    this.renderView();\n    //接口业务侧数据监听点击方法\n    Backbone.on('clickRecedType', this.getRecedType, this);\n  },\n  getRecedType: function(id) {\n    this.busiCode = id;\n    this.renderView();\n  },\n  creationStrategy: function() {\n    //加载彈出層業務界面\n    Backbone.history.navigate('strategies/create/' + this.busiCode, {\n      trigger: true,\n    });\n  },\n  /**\n   * 查看策略详情\n   */\n  viewDetail: function(e) {\n    const strategyId = $(e.target).closest('.strategy-item').attr('data-id');\n    Backbone.history.navigate('strategie/view/' + strategyId, {\n      trigger: true,\n    });\n  },\n  clickMgr: function(obj) {\n    const $target = $(obj.target),\n      strategyId = $target.closest('.strategy-item').attr('data-id'),\n      action = $target.attr('data-action'),\n      lef = this,\n      ajaxType = 'PUT';\n    let url = '/irec/strategies/' + strategyId + '/action/';\n    if (action === 'suspend') {\n      //暂停\n      App.confirm('是否暂停此策略？', '将执行策略暂停操作!', function() {\n        url += 'suspend';\n        lef.handleStrategy(url, $target.text(), ajaxType);\n      });\n    } else if (action === 'continue') {\n      //继续\n      App.confirm('是否暂继续策略？', '将执行策略继续操作!', function() {\n        url += 'continue';\n        lef.handleStrategy(url, $target.text(), ajaxType);\n      });\n    } else if (action === 'stop') {\n      //停止\n      App.confirm('是否暂停止策略？', '将执行策略停止操作!', function() {\n        url += 'stop';\n        lef.handleStrategy(url, $target.text(), ajaxType);\n      });\n    } else if (action === 'update') {\n      //停止\n      Backbone.history.navigate('strategies/edit/' + strategyId, {\n        trigger: true,\n      });\n    } else if (action === 'delete') {\n      //停止\n      url = '/irec/strategies/' + strategyId;\n      App.confirm('是否删除策略？', '将执行策略删除操作!', function() {\n        lef.handleStrategy(url, $target.text(), 'delete');\n      });\n    }\n  },\n  //操作策略停止，暂停，继续\n  handleStrategy(url, handleName, ajaxType) {\n    var lef = this;\n    $.ajax({\n      url: url,\n      dataType: 'json',\n      type: ajaxType,\n      success: function(data) {\n        lef.renderView();\n        App.success(handleName + '操作成功！');\n      },\n      error: function() {\n        App.error(handleName + '操作出错！');\n      },\n    });\n  },\n  //在输入框中点击回车进入事件\n  blur: function(obj) {\n    var lef = this;\n    var $inp = $('#strategyName');\n    $inp.keypress(function(e) {\n      var key = e.which;\n      if (key == 13) {\n        strategyName = $('#strategyName').val();\n        //取消回车状态不然界面会刷新很多次\n        e.which = 0;\n        lef.renderStrategy(lef.busiCode);\n      }\n    });\n  },\n  //点击查询\n  clickSearchAll: function(obj) {\n    strategyName = $('#strategyName').val();\n    this.renderStrategy(this.busiCode);\n  },\n  //点击状态查询\n  clickState: function(obj) {\n    var $target = $(obj.target);\n    if ($target.hasClass('active')) {\n      strategyState = '';\n      $target.removeClass('active');\n    } else {\n      strategyState = $target.attr('enumKey');\n      $target.addClass('active').siblings().removeClass('active');\n    }\n    this.renderStrategy(this.busiCode);\n  },\n  render: function() {\n    return this;\n  },\n  //加载所有策略列表数据\n  renderStrategy: function(busiCode) {\n    var lef = this;\n    var url =\n      'businesses/' +\n      busiCode +\n      '/strategies?strategyState=' +\n      strategyState +\n      '&strategyName=' +\n      strategyName;\n    this.collection.fetch({\n      url: url,\n      success: function(model, response) {\n        //如果collection有数据增加调用renderStrategyView方法。\n        lef.renderStrategyView(model, busiCode);\n      },\n      error: function(arg1, arg2) {\n        alert('加载策略失败！');\n      },\n    });\n  },\n  //策略界面加载\n  renderStrategyView: function(model, busiCode) {\n    //处理数据初始化后选中第一个\n    this.$el.find('#strategyDataDiv').html(\n      require('templates/strategy/manage/strategyData.tpl')({\n        datas: model.toJSON(),\n        enumData: this.strategyStateEnum,\n      }),\n    );\n  },\n  //对比渲染策略状态界面\n  renderStateView(strategyStateData) {\n    var lef = this;\n    for (var j = 0; j < this.strategyStateEnum.length; j++) {\n      this.strategyStateEnum[j].count = 0;\n      for (var i = 0; i < strategyStateData.data.length; i++) {\n        if (\n          strategyStateData.data[i].strategyState ==\n          this.strategyStateEnum[j].enumKey\n        ) {\n          this.strategyStateEnum[j].count = strategyStateData.data[i].count;\n          break;\n        }\n      }\n    }\n    this.$el.find('#statusContent').html(\n      require('templates/strategy/manage/strategyState.tpl')({\n        datas: lef.strategyStateEnum,\n      }),\n    );\n  },\n  //加载查询状态\n  renderState: function(busiCode) {\n    var lef = this;\n    $.ajax({\n      url: '/irec/businesses/' + busiCode + '/strategies/strategyState/count',\n      dataType: 'json',\n      type: 'GET',\n      success: function(data) {\n        lef.renderStateView(data);\n      },\n      error: function() {\n        alert('加载策略状态数量出错！');\n      },\n    });\n  },\n  renderView: function() {\n    strategyState = ''; //策略状态查询字段\n    strategyName = ''; //策略名称查询字段\n    //当业务界面数据没有渲染完毕不渲染策略列表\n    if (this.recommendTypeCollection.length > 0) {\n      if (this.busiCode == undefined || this.busiCode == null) {\n        this.getRecommendTypeId(this.recommendTypeCollection.toJSON());\n      }\n      //初始化策略状态\n      this.renderState(this.busiCode);\n      //初始化策略列表\n      this.renderStrategy(this.busiCode);\n    }\n  },\n  getRecommendTypeId(models) {\n    for (var i = 0; i < models.length; i++) {\n      if (models[i].selected) {\n        this.busiCode = models[i].busiCode;\n      }\n    }\n  },\n  destroy: function() {\n    this.undelegateEvents();\n    this.stopListening();\n  },\n});\n\nmodule.exports = StrategyMgrView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/manage/subviews/StrategyMgrView.js","/**\n * 应用工具类函数\n * @export Object\n * @author liyi\n * @modifier\n */\nconst _ = require('underscore');\nconst ModalView = require('views/common/ModalView');\nconst MessageView = require('views/common/MessageView');\n\nconst confirmTpl = require('templates/common/modal-confirm.tpl');\nconst alertTpl = require('templates/common/modal-alert.tpl');\nmodule.exports = {\n  /**\n   * confirm对话框\n   * @param title  提示标题\n   * @param content 提示内容\n   * @param callback 确定回调函数\n   * @param cancelCallbak 取消回调函数\n   * @param okTxt 确定按钮显示文本\n   * @param cancelTxt 取消按钮显示文本\n   */\n  confirm: function(title, content, callback, cancelCallbak, okTxt, cancelTxt) {\n    new ModalView({\n      title: '操作确认',\n      showCloseButton: false,\n      showHeader: false,\n      content: confirmTpl({ title: title, content: content }),\n      backdrop: false,\n      width: 500,\n      buttons: [\n        {\n          id: 'ok',\n          name: okTxt || '确定',\n          handler: function() {\n            this.close();\n            _.isFunction(callback) && callback.call();\n          },\n          primary: true,\n        },\n        {\n          id: 'cancel',\n          name: cancelTxt || '取消',\n          handler: function() {\n            this.close();\n            _.isFunction(cancelCallbak) && cancelCallbak.call();\n          },\n          primary: false,\n        },\n      ],\n    })\n      .render()\n      .open();\n  },\n  /**\n   * alert对话框\n   * @param title  提示标题\n   * @param content 提示内容\n   * @param callback 确定回调函数\n   */\n  alert: function(title, content, callback) {\n    new ModalView({\n      showCloseButton: false,\n      showHeader: false,\n      content: alertTpl({ title: title, content: content }),\n      backdrop: false,\n      width: 500,\n      buttons: [\n        {\n          id: 'ok',\n          name: '确定',\n          handler: function() {\n            this.close();\n            _.isFunction(callback) && callback.call();\n          },\n          primary: true,\n        },\n      ],\n    })\n      .render()\n      .open();\n  },\n  /**\n   * 全局消息提示，警告\n   * @param msg 消息内容\n   * @param duration 显示时长（单位：秒）\n   */\n  warn: function(msg, duration) {\n    this.message(null, MessageView.TYPES.WARN, msg, duration);\n  },\n  /**\n   * 全局消息提示，信息提示\n   * @param msg 消息内容\n   * @param duration 显示时长（单位：秒）\n   */\n\n  info: function(msg, duration) {\n    this.message(null, MessageView.TYPES.INFO, msg, duration);\n  },\n  /**\n   * 全局消息提示，成功\n   * @param msg 消息内容\n   * @param duration 显示时长（单位：秒）\n   */\n\n  success: function(msg, duration) {\n    this.message(null, MessageView.TYPES.SUCCESS, msg, duration);\n  },\n  /**\n   * 全局消息提示，错误\n   * @param msg 消息内容\n   * @param duration 显示时长（单位：秒）\n   */\n  error: function(msg, duration) {\n    this.message(null, MessageView.TYPES.ERROR, msg, duration);\n  },\n  /**\n   * 全局消息提示\n   * @param container  消息DOM append\n   * @param type 消息类型\n   * @param msg 消息内容\n   * @param duration 显示时长（单位：秒）\n   */\n  message: function(container, type, msg, duration) {\n    container = container || $('.irec-content');\n    duration = duration || 3;\n    new MessageView({\n      type: type,\n      message: msg,\n      duration: duration,\n    })\n      .render(container)\n      .show();\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/App.js","const Backbone = require('backbone');\nconst $ = require('jquery');\nconst Router = require('routers/Router');\nconst Client = require('core/Client');\nrequire('./api/MockApi');\n$(function() {\n  //实例化路由對象\n  window.Router = new Router();\n  Client.setup(window);\n  //动初始化 URL 的路由 並且root 需要告诉 History 基于什么路径\n  Backbone.history.start({ pushState: true, root: '' });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const Backbone = require('backbone');\nconst $ = require('jquery');\nconst _ = require('underscore');\nconst ModelConfigModel = require('../../../../../models/strategy/ModelConfigModel');\nconst FieldFilterView = require('./FieldFilterView');\nconst App = require('utils/App');\nconst ModelConfigView = Backbone.View.extend({\n  events: {\n    'click input:checkbox': 'checkedField', //点击业务选项处理事件\n    'click #addFilter': 'addFilter', //点击业务选项处理事件\n    'click .filter-delete': 'deleteDiv',\n  },\n  template: require('templates/strategy/create/node/modelConfig/modelsField.tpl'),\n  initialize: function(options) {\n    //当数据数据加载完毕将第一条数据勾选上\n    _.extend(this, options);\n    this.modelConfigModel = new ModelConfigModel();\n    this.renderView();\n    this.listenTo(this.modelConfigModel, 'change', this.renderView);\n    //接口业务侧数据监听点击方法\n    Backbone.on('getModelConfig', this.getModelConfig, this);\n  },\n  deleteDiv: function(e) {\n    $(e.target).parent().fadeOut('fast',function(){\n      $(this).remove();\n    });\n    // App.confirm('确定删除?', '删除后需重新配置！', function() {\n    // });\n  },\n  /**\n   * 初始化过滤条件或者添加\n   */\n  initializeFilter: function(cond_exp) {\n    this.fieldFilterView = new FieldFilterView({\n      el: this.$('.filter-output'),\n      field: this.modelConfigModel.toJSON().fieldList,\n      cond_exps: cond_exp,\n      viewType: this.viewType,\n    });\n    this.fieldFilterView.render();\n  },\n  /**\n   * 添加过滤条件或者\n   */\n  addFilter: function(cond_exp) {\n    this.fieldFilterView = new FieldFilterView({\n      el: this.$('.filter-output'),\n      field: this.modelConfigModel.toJSON().fieldList,\n    });\n    this.fieldFilterView.render();\n  },\n  render: function() {\n    return this;\n  },\n  //验证数据\n  validateConfig() {\n    var bol = true;\n    this.$('#modelFieldTable').css({ border: '' });\n    this.$('#modelFieldTable').attr('title', '');\n    //判断字段是否选择\n    if (\n      this.nodeData.conf != undefined &&\n      this.nodeData.conf.fields != undefined &&\n      this.nodeData.conf.fields.length == 0\n    ) {\n      this.$('#modelFieldTable').css({ border: '2px solid red' });\n      this.$('#modelFieldTable').attr('title', '请至少选择一个条件');\n      bol = false;\n    }\n    this.$('.filter-output div input').each(function() {\n      if (this.value == '' || this.value == undefined) {\n        $(this).css({ border: '1px solid red' });\n        bol = false;\n      } else {\n        $(this).css({ border: '' });\n      }\n    });\n    return bol;\n  },\n  //获得数据\n  getModelConfigData() {\n    if (this.fieldFilterView) {\n      this.nodeData.conf.cond_exp = this.nodeData.conf.cond_exp || {};\n      this.nodeData.conf.cond_exp['and'] = this.fieldFilterView.getFilterData();\n      this.fieldFilterView.destroy();\n    } else {\n      this.nodeData.conf.cond_exp = {};\n    }\n    return this.nodeData.conf;\n  },\n  /**\n   * 初始化字段属性\n   */\n  initializeField: function(model) {\n    var fields = [];\n    for (var i = 0; i < model.fieldList.length; i++) {\n      fields.push({\n        fieldDesc: model.fieldList[i].fieldDesc,\n        fieldName: model.fieldList[i].fieldName,\n      });\n    }\n    if (this.nodeData.conf == undefined) {\n      this.nodeData.conf = {};\n    }\n    this.nodeData.conf.fields = fields;\n  },\n  //清空事件\n  destroy: function() {\n    this.undelegateEvents();\n    this.$el.off();\n    this.$el.empty();\n  },\n  //点击多选按钮事件\n  checkedField: function(e) {\n    //获取名字的对应中文\n    const name = e.currentTarget.dataset.value;\n    const desc = e.currentTarget.dataset.desc;\n    //如果传入对象里面没有字段配置那么点击取消的时候就是新增\n    for (var i = 0; i < this.nodeData.conf.fields.length; i++) {\n      if (this.nodeData.conf.fields[i].fieldName == name) {\n        this.nodeData.conf.fields.splice(i, 1);\n        return;\n      }\n    }\n    //如果没有return 就会添加这个字段\n    this.nodeData.conf.fields.push({\n      fieldDesc: desc,\n      fieldName: name,\n    });\n  },\n  //渲染模型节点界面\n  renderView: function() {\n    var lef = this;\n    this.modelConfigModel.fetch({\n      reset: true,\n      url: '/models/' + lef.nodeData.params.modelId + '/fieldsAndLogs',\n      success: function(model, response) {\n        //如果是修改就不用初始化内容\n        if (\n          lef.nodeData.conf == undefined ||\n          lef.nodeData.conf.fields == undefined\n        ) {\n          //初始化字段属性\n          lef.initializeField(response.data);\n        }\n        //处理数据初始化后选中第一个;\n        lef.$el.html(\n          lef.template({\n            datas: response.data,\n            modelsName: lef.modelsName,\n            viewType: lef.viewType,\n            fields: lef.nodeData.conf && (lef.nodeData.conf.fields || {}),\n          }),\n        );\n        //当conf没有cond_exp这个属性的时候就是初始化过滤条件组件\n        if (\n          lef.nodeData.conf != undefined &&\n          lef.nodeData.conf.cond_exp != undefined\n        ) {\n          lef.initializeFilter(lef.nodeData.conf.cond_exp);\n        }\n        lef.validateConfig();\n      },\n      error: function(arg1, arg2) {\n        alert('加载节点信息失败!');\n      },\n    });\n  },\n});\nmodule.exports = ModelConfigView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/create/node/modelConfig/ModelConfigView.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n\nif(model.type===NODE_TYPE.OUTPUT||model.type===NODE_TYPE.FINAL_OUTPUT){;\n__p += '\\n<div class=\"data-node-circle\" data-toggle=\"diagram-context\" data-id=\"' +\n((__t = (model.id)) == null ? '' : __t) +\n'\">\\n\t<div class=\"data-node-txt\" title=\"' +\n((__t = (model.txt)) == null ? '' : __t) +\n'\" data-id=\"' +\n((__t = (model.id)) == null ? '' : __t) +\n'\">\\n\t\t<i class=\"iconfont ' +\n((__t = (model.icon)) == null ? '' : __t) +\n'\"></i><span>' +\n((__t = (model.txt)) == null ? '' : __t) +\n'</span>\\n\t</div>\\n</div>\\n';\nif(model.type!==NODE_TYPE.FINAL_OUTPUT){;\n__p += '\\n<div class=\"data-node-input\" title=\"双击修改中间结果名称\">' +\n((__t = ((model.alias==='')?'双击修改中间结果名称':model.alias)) == null ? '' : __t) +\n'</div>\\n<div class=\"data-node-line\"></div>\\n';\n}else{;\n__p += '\\n<div class=\"data-node-final\">推荐结果</div>\\n<div class=\"data-node-line line-final\"></div>\\n';\n};\n__p += '\\n';\n};\n__p += '\\n';\nif(model.type!==NODE_TYPE.OUTPUT && model.type!==NODE_TYPE.FINAL_OUTPUT){;\n__p += '\\n<div class=\"data-node-txt\" title=\"' +\n((__t = (model.txt)) == null ? '' : __t) +\n'\" data-id=\"' +\n((__t = (model.id)) == null ? '' : __t) +\n'\">\\n\t<i class=\"iconfont ' +\n((__t = (model.icon)) == null ? '' : __t) +\n'\"></i><span>' +\n((__t = (model.txt)) == null ? '' : __t) +\n'</span>\\n</div>\\n';\n};\n__p += '\\n';\nif(layout === 'horizontal' && model.type!==NODE_TYPE.FINAL_OUTPUT){;\n__p += '\\n<div class=\"node-port port-left\"   data-id=\"' +\n((__t = (model.id)) == null ? '' : __t) +\n'\"></div>\\n<div class=\"node-port port-right\"  data-id=\"' +\n((__t = (model.id)) == null ? '' : __t) +\n'\"></div>\\n';\n};\n__p += '\\n';\nif(layout === 'vertical' && model.type!==NODE_TYPE.FINAL_OUTPUT){;\n__p += '\\n<div class=\"node-port port-top\"    data-id=\"' +\n((__t = (model.id)) == null ? '' : __t) +\n'\"></div>\\n<div class=\"node-port port-bottom\" data-id=\"' +\n((__t = (model.id)) == null ? '' : __t) +\n'\"></div>\\n';\n};\n__p += '\\n<div class=\"node-tips\" title=\"双击添加备注说明\">\\n\t<div class=\"tips-content\">' +\n((__t = ((model.desc==='')?'双击添加备注说明':model.desc)) == null ? '' : __t) +\n'</div>\\n\t<div class=\"tips-arrow\"></div>\\n</div>\\n';\nif(model.status){;\n__p += '\\n<div class=\"status-icon\">\\n\t';\nif(model.status === NODE_STATUS.CONF_NOT){;\n__p += '\\n\t<i class=\"iconfont icon-gaojingpeizhi icon_error\"></i>\\n\t';\n};\n__p += '\\n\t';\nif(model.status === NODE_STATUS.CONF_ERROR){;\n__p += '\\n\t<i class=\"iconfont icon-gaojingpeizhi icon_error\"></i>\\n\t';\n};\n__p += '\\n\t';\nif(model.status === NODE_STATUS.CONF_YES){;\n__p += '\\n\t<i class=\"iconfont icon-yipeizhi icon_success\"></i>\\n\t';\n};\n__p += '\\n\t';\nif(model.status === NODE_STATUS.PROCESS_WAIT){;\n__p += '\\n\t<i class=\"iconfont icon-dengdai icon_process\"></i>\\n\t';\n};\n__p += '\\n\t';\nif(model.status === NODE_STATUS.PROCESSING){;\n__p += '\\n\t<i class=\"iconfont icon-zhihangzhong2 icon_process\"></i>\\n\t';\n};\n__p += '\\n\t';\nif(model.status === NODE_STATUS.PROCESS_FAILURE){;\n__p += '\\n\t<i class=\"iconfont icon-shibai icon_error\"></i>\\n\t';\n};\n__p += '\\n\t';\nif(model.status === NODE_STATUS.PROCESS_SUCCESS){;\n__p += '\\n\t<i class=\"iconfont icon-chenggong1 icon_success\"></i>\\n\t';\n};\n__p += '\\n</div>\\n';\n};\n__p += '\\n<!--\\n<div class=\"node-setting\" id=\"dropdownMenu1\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"true\">\\n\t<i class=\"iconfont icon-shezhi\"></i>\\n</div>\\n-->\\n\\n';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/create/strategy_datanode.tpl\n// module id = mBmd\n// module chunks = 0","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<div class=\"modal-dialog\" role=\"document\">\\n\t<div class=\"modal-content\">\\n\t\t';\nif (showHeader){;\n__p += '\\n\t\t<div class=\"modal-header\">\\n\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\\n\t\t\t\t<span aria-hidden=\"true\">&times;</span>\\n\t\t\t</button>\\n\t\t\t<h4 class=\"modal-title\">' +\n((__t = (title)) == null ? '' : __t) +\n'</h4>\\n\t\t</div>\\n\t\t';\n};\n__p += '\\n\t\t<div class=\"modal-body\"></div>\\n\t\t<div class=\"modal-footer\">\\n\t\t\t';\nif (showCloseButton){;\n__p += '\\n\t\t\t<a class=\"btn btn-default btn-primary pull-right\"  role=\"button\" data-dismiss=\"modal\">关闭</a>\\n\t\t\t';\n};\n__p += '\\n\t\t\t';\n_.each(buttons,function(button){;\n__p += '\\n\t\t\t<a class=\"btn btn-default ' +\n((__t = ((button.primary===true?'btn-primary':''))) == null ? '' : __t) +\n' pull-right\" data-id=\"' +\n((__t = (button.id)) == null ? '' : __t) +\n'\" role=\"button\" >' +\n((__t = (button.name)) == null ? '' : __t) +\n'</a>\\n\t\t\t';\n});\n__p += '\\n\t\t</div>\\n\t</div>\\n</div>\\n';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/common/modal.tpl\n// module id = nwP+\n// module chunks = 0","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div id = \"titleDiv\">\\n\t<h4 class=\"ui-tactics-name clearfix\">\\n\t\t<a data-action=\"backRoute\">&lt;返回</a>\\n\t\t<span>' +\n((__t = (model.strategyName||'')) == null ? '' : __t) +\n'</span>\\n\t</h4>\\n</div>\\n<div class=\"ui-tactics-container\">\\n\t<div class=\"ui-tactics-info\">\\n\t\t<ul>\\n\t\t\t<li>\\n\t\t\t\t<label>策略ID：</label>\\n\t\t\t\t<span>' +\n((__t = (model.strategyId||'')) == null ? '' : __t) +\n'</span>\\n\t\t\t</li>\\n\t\t\t<li>\\n\t\t\t\t<label>创建人：</label>\\n\t\t\t\t<span>' +\n((__t = (model.creater||'')) == null ? '' : __t) +\n'</span>\\n\t\t\t</li>\\n\t\t\t<li>\\n\t\t\t\t<label>创建时间：</label>\\n\t\t\t\t<span>' +\n((__t = (model.createTime||'')) == null ? '' : __t) +\n'</span>\\n\t\t\t</li>\\n\t\t\t<li>\\n\t\t\t\t<label>更新周期：</label>\\n\t\t\t\t<span>' +\n((__t = (model.cycle||'')) == null ? '' : __t) +\n'</span>\\n\t\t\t</li>\\n\t\t</ul>\\n\t</div>\\n</div>\\n<div class=\"ui-tactics-container\">\\n\t<h5>最近一次更新</h5>\\n\t<div class=\"ui-tactics-info\">\\n\t\t<ul >\\n\t\t\t<li>\\n\t\t\t\t<label>更新时间：</label>\\n\t\t\t\t<span>' +\n((__t = (model.modifyTime||'')) == null ? '' : __t) +\n'</span>\\n\t\t\t</li>\\n\t\t\t<li>\\n\t\t\t\t<label>结果总数：</label>\\n\t\t\t\t<span>50,025</span>\\n\t\t\t</li>\\n\t\t</ul>\\n\t</div>\\n</div>';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/details/detail.tpl\n// module id = o8y0\n// module chunks = 0","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"message-' +\n((__t = (type)) == null ? '' : __t) +\n'\">\\n\t<i class=\"iconfont ' +\n((__t = (icon)) == null ? '' : __t) +\n'\" ></i>\\n\t<span>' +\n((__t = (message)) == null ? '' : __t) +\n'</span>\\n</div>\\n';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/common/message.tpl\n// module id = oP/2\n// module chunks = 0","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"modal-confirm\">\\n\t<i class=\"iconfont icon-bangzhu\"></i>\\n\t<span class=\"confirm-title\">' +\n((__t = (title)) == null ? '' : __t) +\n'</span>\\n\t<div class=\"confirm-content\">' +\n((__t = (content)) == null ? '' : __t) +\n'</div>\\n</div>';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/common/modal-confirm.tpl\n// module id = p2hu\n// module chunks = 0","const Backbone = require('backbone');\nconst $ = require('jquery');\nconst _ = require('underscore');\nconst StrategyHistoryModel = require('models/strategy/StrategyHistoryModel');\nconst StrategyHistoryView = Backbone.View.extend({\n  template: require('templates/strategy/details/history.tpl'),\n  events: {\n    'click [data-action=\"download\"]': 'downloadList',\n  },\n  initialize: function(options) {\n    _.extend(this, options);\n    this.model = new StrategyHistoryModel();\n    var url=\"strategies/\"+this.strategieId+\"/history\";\n    this.model.fetch({ reset: true,url:url});\n    this.listenTo(this.collection, 'reset', this.render);\n  },\n  render: function() {\n    this.$el.html(this.template({ data: this.model.toJSON() }));\n    return this;\n  },\n  downloadList: function(e) {\n    const $target = $(e.target);\n    const logId = $target.attr('data-id');\n  },\n  destroy: function() {\n    this.stopListening();\n    this.undelegateEvents();\n    this.remove();\n  },\n});\n\nmodule.exports = StrategyHistoryView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/details/subviews/StrategyHistoryView.js","const Backbone = require('backbone');\nconst RecommendTypeCollection = require('collections/strategy/RecommendTypeCollection');\nconst RecommendTypeView = require('./subviews/RecommendTypeView');\nconst StrategyMgrView = require('./subviews/StrategyMgrView');\nrequire('bootstrap/js/dropdown');\nrequire('../../../../public/assets/main.css');\nrequire('../../../../public/assets/reset.css');\nrequire('styles/strategy/strategy-manage.scss');\n// require('../../../../public/assets/js/bootstrap.min.js');\nconst _=require('underscore');\n\nconst StrategyManageMain = Backbone.View.extend({\n  initialize: function(busiCode) {\n    _.extend(this,busiCode);//将busiCode添加在this里面\n    this.recommendTypeCollection = new RecommendTypeCollection();\n    this.renderRecommendType(busiCode);//加载业务界面\n  },\n  template: require('templates/strategy/manage/main.tpl'),\n  renderRecommendType: function(busiCode) {\n    //将最外层的div添加到模板里\n    this.$el.html(\n      this.template()\n    );\n    var lef = this;\n    this.recommendTypeCollection.reset();\n    this.recommendTypeCollection.fetch({\n      reset:true,\n      success: function(model,response){\n        //加载界面左边策略类型\n        lef.recommendTypeView = new RecommendTypeView({\n          el: lef.$el.find('#strategyLefDiv'),\n          busiCode:lef.busiCode,\n          collection: lef.recommendTypeCollection,\n        });\n        lef.recommendTypeView.render();\n        lef.renderStrategyMgr();//加载策略查询界面\n      },\n      error: function(arg1,arg2){\n        alert(\"加载业务失败！\");\n      }\n    });\n\n  },\n  renderStrategyMgr: function() {\n    var lef =this;\n    $.ajax({\n      url: \"/irec/enumDics/STRATEGY_STATE\",\n      dataType: \"json\",\n      type: \"GET\",\n      success: function(data)  {\n        //加载策略界面\n        lef.strategyMgrView = new StrategyMgrView({\n          el: lef.$el.find('#strategyDiv'),\n          busiCode:this.busiCode,\n          recommendTypeCollection: lef.recommendTypeCollection,\n          strategyStateEnum:data.data\n        });\n        lef.strategyMgrView.render();\n      },\n      error: function() {\n        alert(\"渲染策略列表前,加载策略状态出错！\");\n      }\n    });\n\n  },\n  destroy: function() {\n    //this.recommendTypeView.destroy();\n    //this.strategyMgrView.destroy();\n    this.undelegateEvents();\n    this.stopListening();\n  },\n});\n\nmodule.exports = StrategyManageMain;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/manage/StrategyManageMain.js","/**\n * 策略创建视图组件\n * @export StrategyCreateView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\nconst _ = require('underscore');\nconst NodeSelectorView = require('views/strategy/create/NodeSelectorView');\nconst DiagramView = require('views/strategy/create/DiagramView');\nconst ModalView = require('views/common/ModalView');\nconst StrategyModel = require('models/strategy/StrategyModel');\nconst StrategySaveView = require('views/strategy/create/StrategySaveView');\nconst BusiSelectorView = require('views/strategy/create/BusiSelectorView');\nconst DataNodeCollection = require('collections/DataNodeCollection');\nconst NodeConnectionCollection = require('collections/NodeConnectionCollection');\nconst App = require('utils/App');\nconst StrategyCreateView = Backbone.View.extend({\n  template: require('templates/strategy/create/strategy_create.tpl'),\n  events: {\n    'click [data-action=\"save\"]': 'saveClick',\n    'click [data-action=\"back\"]': 'backClick'\n  },\n  initialize: function(options) {\n    _.extend(this, options);\n    this.$el.html(this.template());\n    this.diagram = new DiagramView();\n    Backbone.on(\n      'diagram-toolbar.fullScreen',\n      _.bind(this._handleFullDiagram, this),\n    );\n    // 根据传入的策略编码，判断是创建策略，还是修改策略\n    this.createModel = !this.strategyId;\n    if (!this.createModel) {\n      // 非创建模式（修改模式） 传入策略编码\n      this.model = new StrategyModel({\n        strategyId: this.strategyId,\n      });\n      this.listenToOnce(this.model, 'change', this.renderDiagram);\n      this.model.fetch();\n    } else {\n      this.model = new StrategyModel({ busiCode: this.busiCode });\n      this.renderDiagram();\n      // 创建模式，需传入业务编码\n      if (!this.busiCode) {\n        //如果未传入业务编码，弹出业务选取遮罩层\n        this.BusiSelectorView = new BusiSelectorView({\n          onSelect: _.bind(function(busiId) {\n            this.nodeSelector.reload(busiId);\n            this.model.set('busiCode', busiId, { silent: true });\n            this.showDiagram(busiId);\n          }, this),\n        }).render();\n      }\n    }\n  },\n  renderDiagram: function() {\n    this.renderNodeSelector();\n    this.$('.strategy-diagram').append(this.diagram.render().el);\n    if (this.createModel) {\n      // 创建模式\n      if (this.model.getBusiCode()) {\n        this.showDiagram(this.model.getBusiCode());\n      }\n    } else {\n      // 修改模式\n      this.diagram.show(this.model.get('strategyConf') || {});\n    }\n  },\n  showDiagram: function(busiCode) {\n    if (window.localStorage) {\n      const oldBusiCode = window.localStorage.getItem('diagram.busicode');\n      const configObj = {\n        nodes: DataNodeCollection.getInstance().toJSON(),\n        connectors: NodeConnectionCollection.getInstance().toJSON(),\n      };\n      if (busiCode === oldBusiCode && configObj.nodes.length > 0) {\n        App.confirm(\n          '您有上次未提交保存的画布内容，是否恢复?',\n          '',\n          _.bind(function() {\n            window.localStorage.setItem('diagram.busicode', busiCode);\n            this.diagram.show(configObj, true);\n          }, this),\n          _.bind(function() {\n            window.localStorage.clear();\n            window.localStorage.setItem('diagram.busicode', busiCode);\n            this.diagram.show(null, true);\n          }, this),\n        );\n      } else {\n        window.localStorage.clear();\n        window.localStorage.setItem('diagram.busicode', busiCode);\n        this.diagram.show(null, true);\n      }\n    } else {\n      this.diagram.show(null, false);\n    }\n  },\n  renderNodeSelector: function() {\n    this.nodeSelector = new NodeSelectorView({\n      el: this.$('.node-selector'),\n      busiCode: this.model.getBusiCode(),\n      $dropEl: this.$('.strategy-diagram'),\n      diagram: this.diagram,\n    }).render();\n    this.selectorWidth = this.$('.node-selector').outerWidth();\n  },\n  render: function() {\n    return this;\n  },\n  /**\n   * 返回\n   */\n  backClick: function() {\n    App.confirm('确定不保存此次操作？', '返回策略管理界面!', function() {\n      Backbone.history.navigate('strategies/manage', {\n        trigger: true,\n      });\n    });\n  },\n  /**\n   * 下一步和保存事件\n   */\n  saveClick: function() {\n    if (!this.diagram.loaded) {\n      App.error('画布组件尚未渲染完毕，请稍后再点击操作!');\n      return;\n    }\n    const validateResult = this.diagram.validateGrpah();\n    if (validateResult !== true) {\n      this.diagram.highlightProblemNodes(validateResult);\n    } else {\n      this._saveStrategy();\n    }\n  },\n  _saveStrategy: function() {\n    const configJson = this.diagram.getConfigJson();\n    this.model.setDiagramConf(configJson || {}, true);\n    //加载保存弹出层\n    new ModalView({\n      title: '编辑策略信息',\n      showCloseButton: false,\n      view: new StrategySaveView({\n        model: this.model,\n      }).render(),\n      buttons: [\n        {\n          id: 'saveExecute',\n          name: '保存并开始执行',\n          handler: _.bind(this.saveAndExecute, this),\n        },\n        {\n          id: 'save',\n          name: '保存',\n          handler: (function(view) {\n            return function() {\n              this.close();\n              view.save();\n            };\n          })(this),\n        },\n      ],\n    })\n      .render()\n      .open();\n  },\n  save: function() {\n    if (this.model.isValid(true)) {\n      App.confirm(\n        '确认保存',\n        `确定要${this.createModel ? '创建' : '修改'}策略 [ ${this.model.getName()} ] 么？`,\n        _.bind(function() {\n          if (this.createModel) {\n          } else {\n            this.model\n              .save(this.model.attributes, { patch: true })\n              .success(_.bind(this.saveSuccess, this))\n              .error(_.bind(this.saveFailure, this));\n          }\n          this.model\n            .save()\n            .success(_.bind(this.saveSuccess, this))\n            .error(_.bind(this.saveFailure, this));\n        }, this),\n      );\n      return true;\n    } else {\n      return false;\n    }\n  },\n  saveSuccess: function(resp) {\n    if(resp.success){\n      App.success(resp.message);\n      Backbone.history.navigate(`strategie/view/${this.model.id}`, {\n        trigger: true,\n      });\n    }else{\n      App.error(resp.message);\n    }\n    this.diagram.clearLocalStorage();\n  },\n  saveFailure: function(resp) {\n    App.error('保存失败');\n  },\n  saveAndExecute: function() {},\n  /**\n   * 切换画布全屏显示\n   * @private\n   */\n  _handleFullDiagram: function() {\n    const $selector = this.$('.node-selector');\n    if ($selector.is(':hidden')) {\n      $selector.show().animate({ width: this.selectorWidth }, 'fast');\n      this.$('.strategy-diagram').animate(\n        { 'margin-left': this.selectorWidth },\n        'fast',\n      );\n    } else {\n      $selector.hide().animate({ width: 0 }, 'fast');\n      this.$('.strategy-diagram').animate({ 'margin-left': 0 }, 'fast');\n    }\n  },\n  destroy: function() {\n    Backbone.off('diagram-toolbar.fullScreen');\n    this.undelegateEvents();\n    this.nodeSelector && this.nodeSelector.destroy();\n    this.diagram && this.diagram.destroy();\n    this.BusiSelectorView && this.BusiSelectorView.destroy();\n    this.stopListening();\n    this.$el.empty();\n  },\n});\nmodule.exports = StrategyCreateView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/create/StrategyCreateView.js","const Backbone = require('backbone');\nrequire('backbone-validation');\nconst _ = require('underscore');\nconst StrategyModel = Backbone.Model.extend({\n  defaults: {\n    strategyName: null,\n    cycle: 1,\n  },\n  idAttribute: 'strategyId',\n  validation: {\n    strategyName: [\n      {\n        required: true,\n        msg: '请输入策略名称',\n      },\n      {\n        maxLength: 30,\n        msg: '策略名称最大长度不超过30个字符',\n      },\n    ],\n  },\n  getName: function() {\n    return this.get('strategyName') || '';\n  },\n  getBusiCode: function() {\n    return this.get('busiCode');\n  },\n  url: function() {\n    const url = '/strategies';\n    return this.isNew() ? url : url + '/' + encodeURIComponent(this.id);\n  },\n  setDiagramConf: function(configJson, silent) {\n    this.set('strategyConf', JSON.stringify(configJson), {\n      silent: silent || false,\n    });\n  },\n});\nmodule.exports = StrategyModel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/strategy/StrategyModel.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<div class=\"diagram-wrapper\">\\n\t<div class=\"node-selector\"></div>\\n\t<div class=\"strategy-diagram\"></div>\\n</div>\\n<div class=\"diagram-buttons\">\\n\t<a class=\"btn btn-default btn-primary pull-right\" data-action=\"save\" role=\"button\">保存</a>\\n\t<a class=\"btn btn-default pull-right\"  role=\"button\" data-action=\"back\" >返回</a>\\n</div>';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/create/strategy_create.tpl\n// module id = r9M3\n// module chunks = 0","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n\n _.each(datas,function(data){ ;\n__p += '\\n\t';\n\n\t\tvar className=\"\";\n\t\tvar status={\n\t\t\t\"错误\":\"btn btn-default ui-btn-error\",\n\t\t\t\"执行中\":\"btn btn-default ui-btn-running\",\n\t\t\t\"待执行\":\"btn btn-default ui-btn-editing\",\n\t\t\t\"完成\":\"btn btn-default ui-btn-execution\"\n\t\t};\n\t\tclassName=status[data.enumValue];\n\t;\n__p += '\\n\t<a class=\"' +\n((__t = (className)) == null ? '' : __t) +\n' enumKey\"  enumKey=\"' +\n((__t = (data.enumKey)) == null ? '' : __t) +\n'\" href=\"javascript:;\" role=\"button\">\\n\t\t' +\n((__t = (data.enumValue)) == null ? '' : __t) +\n'\\n\t\t' +\n((__t = (data.count)) == null ? '' : __t) +\n'\\n\t</a>\\n';\n }) ;\n\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/manage/strategyState.tpl\n// module id = rlNS\n// module chunks = 0","/**\n * 数据节点Model集合\n * @export DataNodeCollection\n * @extends Backbone.Collection\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\nconst _ = require('underscore');\nconst DataNode = require('models/DataNode');\nconst util = require('utils/localStorageUtil')('DATANODE_COLLECTION:');\n\nconst DataNodeCollection = Backbone.Collection.extend({\n  model: DataNode,\n\n  initialize: function() {\n  },\n\n  initSyncLocalStorageListen:function(){\n    this.listenTo(this, 'add', util.saveModelToLocalStorage);\n    this.listenTo(this, 'remove', util.delModelFromLocalStorage);\n    this.listenTo(this, 'change', util.saveModelToLocalStorage);\n    this.listenTo(this, 'reset', util.resetModelToLocalStorage);\n  },\n  /**\n   * 根据id数组，获取所有数据节点model\n   * @param ids\n   */\n  getModelsByIdArray: function(ids) {\n    return this.filter(function(model) {\n      return _.indexOf(ids, model.id) !== -1;\n    });\n  },\n\n  /**\n   * 是否存在最终节点\n   * @return {boolean}\n   */\n  existFinalNode: function() {\n    return this.where({ type: DataNode.NODE_TYPE.FINAL_OUTPUT }).length > 0;\n  },\n  /**\n   *\n   */\n  getUnConfigNode: function() {\n    return _.union(\n      _.pluck(this.where({ status: DataNode.NODE_STATUS.CONF_NOT }), 'id'),\n      _.pluck(this.where({ status: DataNode.NODE_STATUS.CONF_ERROR }), 'id'),\n    );\n  },\n});\nDataNodeCollection.getInstance = function() {\n  const instance = new DataNodeCollection();\n  if (window.localStorage) {\n    const list = util.restoreFromLocalStorage();\n    instance.add(list, { silent: true });\n  }\n  return instance;\n};\nmodule.exports = DataNodeCollection;\n\n\n\n// WEBPACK FOOTER //\n// ./src/collections/DataNodeCollection.js","const Backbone = require('backbone');\nconst $ = require('jquery');\nconst _ = require('underscore');\nconst ModelJoinFieldView = require('./ModelJoinFieldView');\nconst ModelConfigModel = require('../../../../../models/strategy/ModelConfigModel');\nvar currentIndex;\nconst ModelJoinView = Backbone.View.extend({\n  events: {\n    'click #addJoin': 'addJoin', //点击业务选项处理事件\n  },\n  template: require('templates/strategy/create/node/modelJoin/modelJoin.tpl'),\n  initialize: function(options) {\n    //当数据数据加载完毕将第一条数据勾选上\n    _.extend(this, options);\n    currentIndex = 0;\n    this.modelConfigModel = new ModelConfigModel();\n    this.renderView();\n  },\n  /**\n   * 添加\n   */\n  addJoin: function() {\n    this.modelJoinFieldView = new ModelJoinFieldView({\n      nodeData: this.nodeData,\n      viewType: this.viewType,\n      joinItemDom:this.$el.find('.join-items')\n    });\n    this.$('.join-items').append(this.modelJoinFieldView.render().el);\n  },\n  /**\n   * 验证\n   */\n  validateConfig: function() {\n    var bol = true;\n    if (this.modelJoinFieldView != undefined) {\n      bol = this.modelJoinFieldView.validateConfig();\n    } else {\n      bol = false;\n    }\n    return bol;\n  },\n  /**\n   * 初始化关联条如果有返回值则根据返回值初始化\n   */\n  initializeField: function() {\n    //验证节点数量和关联节点数量是否一致\n    for (var i = 0; i < this.nodeData.conf.join_fields.length; i++) {\n      this.modelJoinFieldView = new ModelJoinFieldView({\n        params: this.nodeData.params,\n        join_field: this.nodeData.conf.join_fields[i],\n        viewType: this.viewType,\n        joinItemDom:this.$el.find('.join-items')\n      });\n      this.$('.join-items').append(this.modelJoinFieldView.render().el);\n    }\n  },\n  /**\n   * 获取组件内容\n   */\n  getModelConfigData() {\n    var conf = {};\n    conf.cal_type = 'join';\n    conf.join_type = this.$('.joinTypeSelect').val();\n    if (this.modelJoinFieldView) {\n      conf.join_fields = this.modelJoinFieldView.getJoinFieldData();\n    }\n    conf.fields = this.getOutputFields();\n    return conf;\n  },\n  /**\n   * 获取output_fields 返回显示字段值\n   * @returns {ModelJoinFieldView}\n   */\n  getOutputFields: function() {\n    var fields = [];\n    for (var i = 0; i < this.nodeData.params.length; i++) {\n      for (var j = 0; j < this.nodeData.params[i].fields.length; j++) {\n        var json = {};\n        json.nodeId = this.nodeData.params[i].node_id;\n        json.fieldDesc = this.nodeData.params[i].fields[j].fieldDesc;\n        json.fieldName = this.nodeData.params[i].fields[j].fieldName;\n        fields.push(json);\n      }\n    }\n    return fields;\n  },\n  //清空事件\n  destroy: function() {\n    if (this.modelJoinFieldView) {\n      this.modelJoinFieldView.destroy();\n    }\n    this.undelegateEvents();\n    this.$el.off();\n    this.$el.empty();\n  },\n  /**\n   * 验证传入参数是否有模型字段如果没有查询后填充在展示界面\n   */\n  validateModelField: function() {\n    var lef = this;\n    if (currentIndex == this.nodeData.params.length) {\n      this.$el.html(\n        this.template({\n          viewType: this.viewType,\n          nodeData: this.nodeData,\n          modelsName: this.modelsName,\n        }),\n      );\n      //如果是修改的时候进入的方法\n      if (\n        this.nodeData.conf != undefined &&\n        this.nodeData.conf.join_fields != undefined\n      ) {\n        this.initializeField();\n      }\n      this.validateConfig();\n      return;\n    }\n    for (var i = 0; i < lef.nodeData.params.length; i++) {\n        lef.modelConfigModel.fetch({\n          url: '/models/' + lef.nodeData.params[currentIndex].modelId + '/fieldsAndLogs',\n          reset: true,\n          success: function(model, response) {\n            if(response.data!=null){\n              if (lef.nodeData.params.length != currentIndex) {\n                if (\n                  lef.nodeData.params[currentIndex].fields == undefined ||\n                  lef.nodeData.params[currentIndex].fields == '' ||\n                  lef.nodeData.params[currentIndex].fields.length == 0\n                ) {\n                  for (var j = 0; j < response.data.fieldList.length; j++) {\n                    lef.nodeData.params[currentIndex].fields.push({\n                      fieldDesc: response.data.fieldList[j].fieldDesc,\n                      fieldName: response.data.fieldList[j].fieldName,\n                    });\n                  }\n                }\n                currentIndex++;\n              }\n            }else{\n              currentIndex++;\n            }\n            if (currentIndex >=lef.nodeData.params.length) {\n              lef.validateModelField();\n            }\n          },\n          error: function(arg1, arg2) {\n            alert('关联模块加载模型信息失败');\n            return;\n          },\n        });\n    }\n  },\n  //渲染关联界面\n  renderView: function() {\n    //验证传入参数是否有模型字段如果没有查询后填充在展示界面\n    var bol = true;\n    for (var i = 0; i < this.nodeData.params.length; i++) {\n      if (\n        this.nodeData.params[i].fields.fields == undefined ||\n        this.nodeData.params[i].fields == '' ||\n        this.nodeData.params[i].fields.length == 0\n      ) {\n        bol = false;\n        break;\n      }\n    }\n    if (bol) {\n      //初始化\n      this.$el.html(\n        this.template({\n          viewType: this.viewType,\n          nodeData: this.nodeData,\n          modelsName: this.modelsName,\n        }),\n      );\n      //如果是修改的时候进入的方法\n      if (\n        this.nodeData.conf != undefined &&\n        this.nodeData.conf.join_fields != undefined\n      ) {\n        this.initializeField();\n      }\n    } else {\n      return this.validateModelField();\n    }\n  },\n});\n\nmodule.exports = ModelJoinView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/create/node/modelJoin/ModelJoinView.js","const Backbone = require('backbone');\nconst FooterView = Backbone.View.extend({\n  template : require('templates/main/footer.tpl'),\n  initialize: function() {\n    this.$el.html(this.template());\n  },\n});\n\nmodule.exports = FooterView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/main/FooterView.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '';\nwith (obj) {\n__p += '<p class=\"text-center footer-text\">Copyright © 2017 Asiainfo All Rights Reserved.</p>\\n';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/main/footer.tpl\n// module id = uVyg\n// module chunks = 0","const Backbone = require('backbone');\n\nconst NavMenu = Backbone.Model.extend({\n  defaults: {\n    active: false,\n  },\n  active: function() {\n    this.set('active', true);\n  },\n});\n\nmodule.exports = NavMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/NavMenu.js","const $ = require('jquery');\nconst Backbone = require('backbone');\n\nmodule.exports = {\n  setup: function(win) {\n    $(win.document).on('click', 'a[href]:not([data-bypass])', function(evt) {\n      const href = { prop: $(this).prop('href'), attr: $(this).attr('href') };\n      const root = win.location.protocol + '//' + win.location.host + '/';\n      if (href.prop.slice(0, root.length) === root) {\n        evt.preventDefault();\n        Backbone.history.navigate(href.attr, {trigger: true, replace: true});\n      }\n    });\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/Client.js","/**\n * 策略流程图工具栏组件\n * @export DiagramToolBarView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\nconst _ = require('underscore');\nrequire('bootstrap/js/tooltip');\n\nconst DiagramToolBarView = Backbone.View.extend({\n  className: 'diagram-toolbar',\n  template: require('templates/strategy/create/diagram_toolbar.tpl'),\n  events: {\n    'click li': '_handleToolBarClick',\n  },\n  initialize: function(options) {\n    _.extend(this, options);\n    this.scale = 1.0;\n    this.layout = 'horizontal';\n  },\n  render: function() {\n    this.$el.append(this.template({ editModel: this.editModel }));\n    this.$('li').tooltip({\n      placement: 'right',\n      container: this.$el,\n    });\n    return this;\n  },\n  /**\n   * 处理功能栏按钮点击事件\n   * @param e\n   * @private\n   */\n  _handleToolBarClick: function(e) {\n    const $target = $(e.currentTarget),\n      action = $target.attr('data-action');\n    if (action && this[action] && _.isFunction(this[action])) {\n      this[action].call(this, $target);\n    }\n  },\n  /**\n   * 获取所有的工具栏处理函数ID\n   */\n  getAllHandler: function() {\n    return ['zoom', 'revert', 'changeLayout', 'clearDiagram', 'showTips'];\n  },\n  /**\n   * 画布放大\n   */\n  zoomOut: function() {\n    this.scale += 0.1;\n    this.scale = this.scale >= 1.5 ? 1.5 : this.scale;\n    Backbone.trigger('diagram-toolbar.zoom', this.scale);\n  },\n  /**\n   * 画布缩小\n   */\n  zoomIn: function() {\n    this.scale -= 0.1;\n    this.scale = this.scale <= 0.5 ? 0.5 : this.scale;\n    Backbone.trigger('diagram-toolbar.zoom', this.scale);\n  },\n  /**\n   * 还原原始画布大小\n   */\n  revert: function() {\n    Backbone.trigger('diagram-toolbar.revert');\n  },\n  /**\n   * 展示节点备注\n   */\n  showComment: function() {},\n\n  /**\n   * 画布全屏展示\n   */\n  fullScreen: function() {\n    Backbone.trigger('diagram-toolbar.fullScreen');\n  },\n  /**\n   * 修改布局方向\n   */\n  layoutDir: function($target) {\n    if (this.layout === 'horizontal') {\n      $target.find('i').removeClass('icon-layout').addClass('icon-buju');\n      this.layout = 'vertical';\n    } else {\n      $target.find('i').removeClass('icon-buju').addClass('icon-layout');\n      this.layout = 'horizontal';\n    }\n    Backbone.trigger('diagram-toolbar.changeLayout', this.layout);\n  },\n  /**\n   * 清空画布\n   */\n  clearDiagram: function() {\n    Backbone.trigger('diagram-toolbar.clearDiagram');\n  },\n\n  /**\n   * 显示使用提示\n   */\n  showTips: function() {\n    Backbone.trigger('diagram-toolbar.showTips');\n  },\n  /**\n   * 画布组件销毁\n   */\n  destroy: function() {\n    this.undelegateEvents();\n    this.stopListening();\n    this.$('li').tooltip('destroy');\n    this.$el.off();\n    this.remove();\n  },\n});\nmodule.exports = DiagramToolBarView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/create/DiagramToolbarView.js","const Backbone = require('backbone');\nconst $ = require('jquery');\nconst _ = require('underscore');\nconst StrategyTemplateModel = require('models/strategy/StrategyTemplateModel');\nconst StrategyModelLogsView = Backbone.View.extend({\n  template: require('templates/strategy/details/modellogs.tpl'),\n  initialize: function(options) {\n    _.extend(this, options);\n    this.model = new StrategyTemplateModel();\n    var url=\"strategies/\"+this.strategieId+\"/modelState\";\n    this.model.fetch({ reset: true,url:url});\n    this.listenTo(this.collection, 'reset', this.render);\n  },\n  render: function() {\n    this.$el.html(this.template({ data: this.model.toJSON() }));\n    return this;\n  },\n  destroy: function() {\n    this.stopListening();\n    this.undelegateEvents();\n    this.remove();\n  },\n});\n\nmodule.exports = StrategyModelLogsView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/details/subviews/StrategyModelLogsView.js","module.exports = function (obj) {\nobj || (obj = {});\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\nwith (obj) {\n__p += '<h5 >历史推荐数据</h5>\\n<div  class=\"container-table\">\\n\t<table class=\"common-table\">\\n\t\t<thead>\\n\t\t<tr >\\n\t\t\t<th style=\"width:5%;\">序号</th>\\n\t\t\t<th style=\"width:35%;\">数据生成时间</th>\\n\t\t\t<th style=\"width:35%;\">数据量</th>\\n\t\t\t<th style=\"width:20%;\">操作</th>\\n\t\t</tr>\\n\t\t</thead>\\n\t\t<tbody id=\"historyTbody\">\\n\t\t';\n _.each(data,function(data,i){ ;\n__p += '\\n\t\t<tr class=\"content-table-tr\">\\n\t\t\t<td class=\"text-center\">' +\n((__t = (i++)) == null ? '' : __t) +\n'</td>\\n\t\t\t<td class=\"text-center\">' +\n((__t = (data.endTime)) == null ? '' : __t) +\n'</td>\\n\t\t\t<td class=\"text-center\">' +\n((__t = (data.dataCount)) == null ? '' : __t) +\n'</td>\\n\t\t\t<td class=\"status\">\\n\t\t\t<span>\\n\t\t\t <span><a target=\"_blank\" class=\"approve-tactics\" data-action=\"download\" data-id=\"' +\n((__t = (data.logId)) == null ? '' : __t) +\n'\">下载</a></span>\\n\t\t\t</span>\\n\t\t\t</td>\\n\t\t</tr>\\n\t\t';\n }) ;\n__p += '\\n\t\t</tbody>\\n\t</table>\\n</div>\\n';\n\n}\nreturn __p\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/templates/strategy/details/history.tpl\n// module id = ykGu\n// module chunks = 0","/**\n * 策略保存视图组件\n * @export StrategySaveView\n * @extends Backbone.View\n * @author liyi\n * @modifier\n */\nconst Backbone = require('backbone');\nconst _ = require('underscore');\nconst App = require('utils/App');\nrequire('backbone-validation');\nrequire('backbone.stickit');\nBackbone.Validation.configure({\n  forceUpdate: true,\n});\n_.extend(Backbone.Validation.callbacks, {\n  valid: function(view, attr) {\n    const $el = view.$('[name=' + attr + ']'),\n      $group = $el.closest('.form-group');\n    $group.removeClass('has-error');\n    $group.find('.help-block').html('').addClass('hidden');\n  },\n  invalid: function(view, attr, error) {\n    const $el = view.$('[name=' + attr + ']'),\n      $group = $el.closest('.form-group');\n    $group.addClass('has-error');\n    $group.find('.help-block').html(error).removeClass('hidden');\n  },\n});\nconst StrategySaveView = Backbone.View.extend({\n  className: 'ui-tactics-container',\n  template: require('templates/strategy/create/strategy_save.tpl'),\n  initialize: function() {\n    this.$el.append(this.template({ data: this.model.toJSON() }));\n  },\n  bindings: {\n    '[name=strategyName]': {\n      observe: 'strategyName',\n      setOptions: {\n        validate: true,\n      },\n    },\n  },\n  render: function() {\n    Backbone.Validation.bind(this);\n    this.stickit();\n    return this;\n  },\n  setStrategyName: function(e) {\n    const $target = $(e.target),\n      fieldName = $target.attr('name');\n    this.model.set(fieldName, $(e.target).val());\n  },\n  remove: function() {\n    Backbone.Validation.unbind(this);\n    this.unstickit();\n    return Backbone.View.prototype.remove.apply(this, arguments);\n  },\n  destroy: function() {\n    this.undelegateEvents();\n    this.stopListening();\n    this.remove();\n  },\n});\nmodule.exports = StrategySaveView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/strategy/create/StrategySaveView.js"],"sourceRoot":""}