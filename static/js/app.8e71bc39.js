webpackJsonp([0],{"+Tc7":function(t,e){},"/xF0":function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="strategy-data-nodes">\n\t<h4 class="box-title">数据节点</h4>\n\t<div>\n\n\t</div>\n\t<ul class="data-nodes">\n\t',_.each(nodes,function(t,e){__p+='\n\t\t<li class="'+(null==(__t=e%2==0?"odd":"even")?"":__t)+'" data-id="'+(null==(__t=t.nodeId)?"":__t)+'">\n\t\t\t<i class="iconfont '+(null==(__t=t.icon)?"":__t)+'"></i><span>'+(null==(__t=t.nodeName)?"":__t)+"</span>\n\t\t</li>\n\t"}),__p+='\n\t</ul>\n</div>\n<div class="strategy-calc-nodes">\n\t<h4 class="box-title box-title-calc">操作节点</h4>\n\t<div class="calc-nodes">\n\t',_.each(calNodes,function(t,e){__p+="\n\t\t",e%2==0&&(__p+='\n\t\t<div class="calc-nodes-row">\n\t\t'),__p+='\n\t\t\t<div class="calc-node '+(null==(__t=e%2==0?"pull-left":"pull-right")?"":__t)+'" data-id="'+(null==(__t=t.type)?"":__t)+'" data-icon="'+(null==(__t=t.icon)?"":__t)+'" title="'+(null==(__t=t.desc)?"":__t)+'">\n\t\t\t\t<i class="iconfont '+(null==(__t=t.icon)?"":__t)+'" data-id="'+(null==(__t=t.type)?"":__t)+'"></i>\n\t\t\t\t<span>'+(null==(__t=t.name)?"":__t)+"</span>\n\t\t\t</div>\n\t\t",e%2!=0&&(__p+="\n\t\t</div>\n\t\t"),__p+="\n\t"}),__p+="\n\t</div>\n</div>\n";return __p}}).call(exports,__webpack_require__("rdLu"))},0:function(t,e,i){t.exports=i("lVK7")},"1GNk":function(t,e){},"1dB9":function(t,e){},"1qZb":function(t,e,i){"use strict";var n=i("aGLy"),o=i("rdLu"),a=i("4v29"),s=n.Collection.extend({model:a,initialize:function(t){o.extend(this,t)},url:function(){return"businesses/"+this.busiCode+"/models/public"},setBusiCode:function(t){this.busiCode=t}});t.exports=s},"2uJk":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="modal-confirm">\n\t<i class="iconfont icon-gaojing"></i>\n\t<span class="confirm-title">'+(null==(__t=title)?"":__t)+'</span>\n\t<div class="confirm-content">'+(null==(__t=content)?"":__t)+"</div>\n</div>";return __p}},"2yj7":function(t,e,i){"use strict";var n=i("rdLu");t.exports=function(t){var e={saveModelToLocalStorage:function(e){window.localStorage&&window.localStorage.setItem(t+e.id,JSON.stringify(e))},delModelFromLocalStorage:function(e){window.localStorage&&window.localStorage.removeItem(t+e.id)},resetModelToLocalStorage:function(t){e.clearLocalStorage(),n.each(t||[],function(t){e.saveModelToLocalStorage(t)})},restoreFromLocalStorage:function(){var e=[];if(window.localStorage)for(var i=0;i<window.localStorage.length;i++){var n=window.localStorage.key(i);n.substr(0,t.length)===t&&e.push(JSON.parse(window.localStorage.getItem(n)))}return e},clearLocalStorage:function(){if(window.localStorage){for(var e=[],i=0;i<window.localStorage.length;i++){var o=window.localStorage.key(i);o.substr(0,t.length)===t&&e.push(o)}n.each(e,function(t){window.localStorage.removeItem(t)})}}};return e}},"4Xlg":function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)"view"!=viewType&&(__p+='\n<span class="join-delete" id="deleteDiv" title="删除">×</span>\n'),__p+="\n",nodeData?(__p+="\n\t",_.each(nodeData.params,function(t){__p+='\n\t\t\t<div class="join-item">\n\t\t\t\t<input type="hidden"  value="'+(null==(__t=t.node_id)?"":__t)+'" />\n\t\t\t\t<span class="model-title" title="'+(null==(__t=t.node_name)?"":__t)+'">'+(null==(__t=t.node_name)?"":__t)+'：</span>\n\t\t\t\t<select name="'+(null==(__t=t.node_id)?"":__t)+'" class="selectWidth">\n\t\t\t\t\t<option value ="0">请选择</option>\n\t\t\t\t\t',_.each(t.fields,function(t){__p+='\n\t\t\t\t\t\t<option value ="'+(null==(__t=t.fieldName)?"":__t)+'">'+(null==(__t=t.fieldDesc)?"":__t)+"</option>\n\t\t\t\t\t"}),__p+='\n\t\t\t\t</select>\n\t\t\t\t<i id="deleteJoin" class="iconfont icon-error join-item-delete" nodeid="'+(null==(__t=t.node_id)?"":__t)+'"  title="删除"></i>\n\t\t\t</div>\n\t'}),__p+="\n"):(__p+="\n\t",_.each(field,function(t){__p+="\n\t\t\t";for(var e in t)__p+="\n\t\t\t\t",_.each(params,function(i){__p+="\n\t\t\t\t\t",e==i.node_id&&(__p+="\n\t\t\t\t\t\t","view"==viewType?(__p+='\n\t\t\t\t\t\t\t<div class="join-item">\n\t\t\t\t\t\t\t\t<span title="'+(null==(__t=i.node_name)?"":__t)+'" >'+(null==(__t=i.node_name)?"":__t)+"：</span>\n\t\t\t\t\t\t\t\t",_.each(i.fields,function(i){__p+="\n\t\t\t\t\t\t\t\t\t",t[e]==i.fieldName&&(__p+='\n\t\t\t\t\t\t\t\t\t\t<span title="'+(null==(__t=i.fieldName)?"":__t)+'" >'+(null==(__t=i.fieldName)?"":__t)+"</span>\n\t\t\t\t\t\t\t\t\t"),__p+="\n\t\t\t\t\t\t\t\t"}),__p+="\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t"):(__p+='\n\t\t\t\t\t\t\t<div class="join-item">\n\t\t\t\t\t\t\t\t<input type="hidden"  value="'+(null==(__t=i.node_id)?"":__t)+'" />\n\t\t\t\t\t\t\t\t<span class="model-title" title="'+(null==(__t=i.node_name)?"":__t)+'" name="'+(null==(__t=i.node_id)?"":__t)+'">'+(null==(__t=i.node_name)?"":__t)+'：</span>\n\t\t\t\t\t\t\t\t<select name="'+(null==(__t=i.node_id)?"":__t)+'"  class="selectWidth">\n\t\t\t\t\t\t\t\t\t<option value ="0" selected>请选择</option>\n\t\t\t\t\t\t\t\t\t\t',_.each(i.fields,function(i){__p+="\n\t\t\t\t\t\t\t\t\t\t\t",t[e]==i.fieldName?__p+='\n\t\t\t\t\t\t\t\t\t\t\t\t<option value ="'+(null==(__t=i.fieldName)?"":__t)+'" selected>'+(null==(__t=i.fieldDesc)?"":__t)+"</option>\n\t\t\t\t\t\t\t\t\t\t\t":__p+='\n\t\t\t\t\t\t\t\t\t\t\t\t<option value ="'+(null==(__t=i.fieldName)?"":__t)+'">'+(null==(__t=i.fieldDesc)?"":__t)+"</option>\n\t\t\t\t\t\t\t\t\t\t"}),__p+='\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<i id="deleteJoin" class="iconfont icon-error join-item-delete"  nodeid="'+(null==(__t=i.node_id)?"":__t)+'" title="删除"></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t'),__p+="\n\t\t\t\t\t"),__p+="\n\t\t\t\t"}),__p+="\n\t\t\t";__p+="\n\t"}),__p+="\n"),__p+="\n";return __p}}).call(exports,__webpack_require__("rdLu"))},"4Yid":function(t,e){t.exports={LINE:[{handler:"removeConnectorById",name:"删除连线",icon:"icon-shanchu"}],DATA_NODE:[{handler:"removeNodeById",name:"删除节点",icon:"icon-shanchu",index:10},{handler:"addComment",name:"添加备注",icon:"icon-beizhu",index:20},{type:"separator",index:30},{handler:"executeNode",name:"执行节点",icon:"icon-zhixing",index:40},{handler:"nodeConfig",name:"节点配置",icon:"icon-peizhi",index:50},{type:"separator",index:60},{handler:"viewData",name:"查看数据",icon:"icon-chakan",index:70},{handler:"exportData",name:"导出数据",icon:"icon-daochu",index:80},{handler:"viewLogs",name:"查看日志",icon:"icon-rizhi11",index:90}],OUTPUT:[{handler:"asFinalNode",name:"作为推荐结果输出",icon:"icon-tuijian",index:11}],FINAL_OUTPUT:[{handler:"cancelAsFinalNode",name:"取消推荐结果输出",icon:"icon-tuijian",index:11}]}},"4v29":function(t,e,i){"use strict";var n=i("aGLy"),o=n.Model.extend({"default":{},idAttribute:"nodeId",parse:function(t){return t.nodeName=t.nodeName||t.modelName||"",t.nodeId=t.nodeId||t.modelId||"",t.modelType=t.modelType||"1",t.nodeType=t.nodeType||1,t.icon=t.icon||"icon-shujumoxing-",delete t.modelName,t}});t.exports=o},"5nOS":function(t,e){},"67t3":function(t,e){},"6OAF":function(t,e,i){"use strict";var n=i("zNUS");i("b26c"),n.setup({timeout:"10-50"})},"7nbV":function(t,e){},"85QJ":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<header id="header-wrap" class="irec-header">\n\t<div class="container-fluid">\n\t\t<div class="irec-logo pull-left">\n\t\t\t<span class="logo pull-left"></span>\n\t\t\t<span>智能推荐中心</span>\n\t\t</div>\n\t\t<nav id="navMenu" class="irec-nav-menu pull-right"></nav>\n\t</div>\n</header>\n<div class="irec-container">\n\t<div class="irec-content" id="container"></div>\n</div>\n<footer class="irec-footer" id="footer"></footer>';return __p}},"9Mej":function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="node-title">\n\t'+(null==(__t=modelsName)?"":__t)+'\n</div>\n<ul class="node-model-log">\n\t<li class="info-label">列表数量:</li><li>'+(null==(__t=datas.dataCount)?"":__t)+'</li>\n\t<li class="info-label">更新周期：</li><li>'+(null==(__t=datas.cycle)?"":__t)+'</li>\n\t<li class="info-label">最近更新时间:</li><li>'+(null==(__t=datas.updateTime)?"":__t)+'</li>\n</ul>\n<div class="node-config-box">\n\t<div class="config-box-title">模型输出字段选择:</div>\n\t<div class="config-box-content">\n\t\t<table  id="modelFieldTable" class="table  table-striped ui-table-cell">\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>字段名称</th>\n\t\t\t\t\t<th>是否选择</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t',_.each(datas.fieldList,function(t){if(__p+='\n\t\t\t\t<tr>\n\t\t\t\t\t<td class="text-left first" style="width: 70%;">'+(null==(__t=t.fieldDesc)?"":__t)+"("+(null==(__t=t.fieldName)?"":__t)+")</td>\n\t\t\t\t\t",fields!=undefined){for(var e=!0,i=0;i<fields.length;i++){if(fields[i].fieldName==t.fieldName){__p+='\n\t\t\t\t\t<td class="text-center"><input '+(null==(__t="edit"!=viewType?"disabled":"")?"":__t)+' id="checkbox-orig" type="checkbox" data-value="'+(null==(__t=t.fieldName)?"":__t)+'" data-desc="'+(null==(__t=t.fieldDesc)?"":__t)+'" checked/></td>\n\t\t\t\t\t',e=!1;break}__p+="\n\t\t\t\t\t"}e&&(__p+='\n\t\t\t\t\t<td class="text-center"><input '+(null==(__t="edit"!=viewType?"disabled":"")?"":__t)+' id="checkbox-orig" type="checkbox" data-value="'+(null==(__t=t.fieldName)?"":__t)+'" data-desc="'+(null==(__t=t.fieldDesc)?"":__t)+'"/></td>\n\t\t\t\t\t'),__p+="\n\t\t\t\t\t"}else __p+='\n\t\t\t\t\t<td class="text-center"><input id="checkbox-orig" '+(null==(__t="edit"!=viewType?"disabled":"")?"":__t)+' type="checkbox" data-value="'+(null==(__t=t.fieldName)?"":__t)+'" data-desc="'+(null==(__t=t.fieldDesc)?"":__t)+'" checked/></td>\n\t\t\t\t\t';__p+="\n\t\t\t\t</tr>\n\t\t\t\t"}),__p+='\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>\n\n<div class="node-config-box filter-setting">\n\t<div class="config-box-title">数据条件过滤:\n\t\t',"view"!=viewType&&(__p+='\n\t\t<span class="btn-add-filter" id="addFilter">\n\t\t\t<i  class="iconfont icon-icon02"></i>添加过滤\n\t\t</span>\n\t\t'),__p+='\n\t</div>\n\t<div class="config-box-content filter-output" ></div>\n</div>\n';return __p}}).call(exports,__webpack_require__("rdLu"))},"A3K+":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<a href="#" class="close">\n&times;\n</a>\n<i class="iconfont icon-xinxi tips-icon"></i>\n<h4><span class="tips-title">策略流程图使用提示</span></h4>\n<p>连线说明:</p>\n<ol>\n<li>数据节点作为输入节点，只能与操作节点连接</li>\n<li>操作节点作为输入节点，只能与操作节点连接</li>\n</ol>\n<p>图形绘制限制：</p>\n<ol>\n<li>关联、融合的操作节点的输入节点必须大于两个</li>\n<li>操作节点不能作为初始节点</li>\n<li>流程图绘制完毕时，必须通过最后节点的菜单，添加推荐结果节点</li>\n</ol>\n';return __p}},Bjpo:function(t,e,i){"use strict";var n=i("aGLy"),o=i("7t+N"),a=i("rdLu"),s=i("euKX"),l=i("4Yid");i("1GNk");var d=n.View.extend({className:"diagram-menu-div",template:i("fyoS"),toggle:'[data-toggle="diagram-context"]',events:{"click.diagram.menu li:not(.separator)":"_handleMenuClick"},initialize:function(t){a.extend(this,t),this.menu_hanlder={},this._bind_contextmenu_event()},render:function(){return this},renderMenu:function(t,e){var i=[];if("LINE"!==t){var n=s.getNodeTypeCode(t),o=l[n],d=l.DATA_NODE;if(i=i.concat(o||[]).concat(d||[]),this.diagram&&this.diagram.hasChildNode(e)){var r=a.findWhere(i,{handler:"asFinalNode"});i=a.without(i,r)}}else i=l[t];i=a.sortBy(i,"index"),this.$el.html(this.template({menus:i}))},showMenu:function(t,e,i){if(this.$el.hasClass("opened"))this.closeMenu(t);else{var n=this.getMenuPosition(t);if(!e){var a=o(t.target).closest(".data-node,.data-calc-node");i=a.attr("data-id"),e=a.attr("data-type")}this.renderMenu(e,i),this.$el.data("data-id",i).data("data-type",e).css(n).addClass("opened").fadeIn("fast"),o("html").on("click.diagram-context",o.proxy(this.closeMenu,this))}return!1},_handleMenuClick:function(t){n.trigger("diagram:closeConfigView");var e=o(t.currentTarget).attr("data-action"),i=this.$el.data("data-id");n.trigger("diagram-menu."+e,i),this.closeMenu(t),t.stopPropagation()},closeMenu:function(t){return!this.$el.hasClass("opened")||t.target.raphaelid||o(t.target).hasClass("diagram-menu")||(this.$el.removeClass("opened").fadeOut("fast"),this.$el.removeData("data-id"),o("html").off("click.diagram-context")),!1},addMenuHandler:function(t){a.extend(this.menu_hanlder,t)},_bind_contextmenu_event:function(){o(document).on("contextmenu.diagram-context",this.toggle,o.proxy(this.showMenu,this)).on("contextmenu.diagram-context",o.proxy(this.closeMenu,this)).on("click.diagram-node",this.toggle,o.proxy(this.closeMenu,this)).on("mousedown.diagram-node",this.toggle,o.proxy(this.closeMenu,this))},getMenuPosition:function(t){var e=t.clientX,i=t.clientY,n=o(window).width(),a=o(window).height(),s=this.$el.outerWidth(),l=this.$el.outerHeight(),d=0,r=0,c=void 0;return d=i+l>a?i-l+o(window).scrollTop():i+o(window).scrollTop(),r=e+s>n&&e-s>0?e-s+o(window).scrollLeft():e+o(window).scrollLeft(),c=this.$el.parent().offset(),r-=c.left,d-=c.top,{left:r,top:d}},getAllHandler:function(){return a.reduce(a.values(l),function(t,e){return t=a.union(t,a.pluck(e,"handler")),a.without(t,undefined)},[])},destroy:function(){this.undelegateEvents(),this.$el.removeData(),delete this.menu_hanlder,o(document).off("contextmenu.diagram-context",this.toggle),o(document).off("contextmenu.diagram-context"),o(document).off("click.diagram-node",this.toggle),o(document).off("mousedown.diagram-node",this.toggle),o("html").off("click.diagram-context"),this.stopListening(),this.remove()}});t.exports=d},"C/b2":function(t,e,i){"use strict";var n=i("aGLy"),o=i("rdLu"),a=i("qWxm"),s=n.View.extend({template:i("o8y0"),events:{'click [data-action="backRoute"]':"backRoute"},initialize:function(t){this.onload=o.noop,o.extend(this,t),this.model=new a({strategyId:this.strategieId}),this.model.fetch(),this.listenTo(this.model,"change",this.renderData)},render:function(){return this},renderData:function(){this.$el.html(this.template({model:this.model.toJSON()})),this.onload&&o.isFunction(this.onload)&&this.onload.call()},getDiagramConfigJSON:function(){return this.model.get("strategyConf")||{}},backRoute:function(t){n.history.navigate("strategies/manage/"+this.model.get("busiCode"),{trigger:!0})},destroy:function(){this.stopListening(),this.undelegateEvents(),this.remove()}});t.exports=s},Fe6q:function(t,e,i){"use strict";var n=i("aGLy"),o=i("7t+N"),a=i("rdLu"),s=i("Umb4"),l=n.View.extend({tagName:"ul",events:{"click li":"menuNav"},template:i("abAR"),initialize:function(){this.collection=new s,this.collection.add([{id:"create_strategy",name:"新建策略",href:"strategies/create"},{id:"list_strategies",name:"策略管理",href:"strategies/manage"},{id:"model_manage",name:"模型管理",href:"models/manage"},{id:"data_manage",name:"数据管理",href:"data/manage"},{id:"sys_manage",name:"系统管理",href:"system/manage"}]),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"change",this.render),n.on("irec.navMenu",a.bind(function(t){this.activeMenu(t)},this))},render:function(){return this.$el.html(this.template(this.collection.toJSON())),this},menuNav:function(t){var e=o(t.currentTarget).attr("data-value"),i=this.collection.get(e);i&&(this.activeMenu(i),n.history.navigate(i.get("href"),{trigger:!0,replace:!0}),this.activeMenuId===e&&n.history.loadUrl(),this.activeMenuId=i.id)},activeMenu:function(t){var e=a.isString(t)?this.collection.get(t):t;e&&(this.collection.unActive(),e.active())}});t.exports=l},FfQT:function(t,e,i){"use strict";var n=i("aGLy"),o=i("rdLu"),a=i("7t+N");i("F8S1");var s=i("Ip8O"),l=i("t61T"),d=i("M0mP"),r=i("euKX"),c=i("aJUM"),u=i("Bjpo"),h=i("xjDc"),f=i("XqRw"),_=i("kE97"),p=i("MWdg"),m=i("GAJD");i("5nOS");var g=n.View.extend({className:"diagram-container",styles:{DRAGGING_ADD_CURSOR:"node-dragging-cursor",LINE:{stroke:"#22B1E9","stroke-width":"2",cursor:"pointer"},BG_LINE:{stroke:"#22B1E9","stroke-opacity":0,"stroke-width":"12",cursor:"pointer"},TMP_LINE:{stroke:"#22B1E9","stroke-width":"2","stroke-dasharray":"-"}},events:{"click.diagram .diagram-canvas":"closeNodeConfig"},animation:{line:s.animation({"0%":{"stroke-width":"3"},"25%":{"stroke-width":"3.2"},"50%":{"stroke-width":"3.5"},"75%":{"stroke-width":"3.2"},"100%":{"stroke-width":"3"}},500,"<>",function(){}).repeat(Infinity)},initialize:function(t){this.editModel=!0,this.layout="horizontal",this.zoomScale=1,this.collection=new l,this.connCollection=new d,o.extend(this,t),this.loaded=!1,this.dataNodeViews={},this.toolbarView=new h({editModel:this.editModel}),this.editModel&&(this.contextMenuView=new u({diagram:this})),this.nodeConfigView=new m({editModel:this.editModel,diagram:this}),n.on("diagram:closeConfigView",o.bind(this.closeNodeConfig,this)),this.bindEventHandler("diagram-toolbar",this.toolbarView.getAllHandler()),this.editModel&&this.bindEventHandler("diagram-menu",this.contextMenuView.getAllHandler()),this.diagramTipsView=new p,this.onShow=this.onShow||a.noop,this.onDestroy=this.onDestroy||a.noop},initializeListen:function(){this.collection=this.collection||new l,this.connCollection=this.connCollection||new d,this.listenTo(this.collection,"add",this.renderDataNode),this.listenTo(this.collection,"remove",this.removeDataNode),this.listenTo(this.connCollection,"add",this.renderConnectionByConnModel),this.listenTo(this.connCollection,"remove",this.removeConnection),this._renderCanvasElement(),this.loaded=!0,o.isFunction(this.onShow)&&this.onShow.apply(this)},initConnection:function(){this.initializeListen()},render:function(){return this._$canvas=a('<div class="diagram-canvas"/>'),this.$el.empty().append(this._$canvas).append(this.toolbarView.render().el).append(this.nodeConfigView.render().el).append(this.diagramTipsView.render().el),this.editModel&&this.$el.append(this.contextMenuView.render().el),this.paper=new s(this._$canvas.get(0),"100%","100%"),this.collectionSet=this.paper.set(),this.allowDiagramDrag(),this},show:function(t,e){if(console.trace("000"),!0===this.isShow)return void console.warn("画布已初始化,不能再调用show方法!");if(t){var i=t;o.isString(t)&&(i=JSON.parse(t)),this.collection.reset(i.nodes||[],{silent:!0}),this.connCollection.reset(i.connectors||[],{silent:!0})}this.initConnection(),!0===e&&(this.collection.initSyncLocalStorageListen(),this.connCollection.initSyncLocalStorageListen()),this.onShow.apply(this),this.isShow=!0},_renderCanvasElement:function(){var t=this;this.collection.each(function(e){t.renderDataNode(e)}),this.connCollection.each(function(e){t.renderConnectionByConnModel(e)})},bindEventHandler:function(t,e){var i=this;o.each(e,function(e){var a=o.property(e)(i);a&&o.isFunction(a)?n.on(t+"."+e,o.bind(a,i)):n.on(t+"."+e,function(){_.warn("此右键功能操作函数尚未实现！"),console.warn&&console.warn("此右键功能操作函数"+e+"尚未实现！")})})},clearEventHandler:function(t,e){o.each(e,function(e){n.off(t+"."+e)})},changeLayout:function(t){this.layout=t,this.reRender()},getZoomScale:function(){return this.zoomScale},zoom:function(t){this.zoomScale=t,this._$canvas.css({transform:"scale("+this.zoomScale+")"})},revert:function(){this.zoom(1),this._$canvas.animate({left:0,top:0},"fast")},reRender:function(){this.clearCanvas(),this.clearDataNode(),this._renderCanvasElement()},clearCanvas:function(){this.collectionSet&&(this.collectionSet.unhover(),this.collectionSet.unmousedown(),this.collectionSet.clear()),this.paper&&this.paper.clear()},clearDiagram:function(){this.clearCanvas(),this.clearDataNode(),this.collection&&this.collection.reset(),this.connCollection&&this.connCollection.reset()},clearDataNode:function(){o.each(o.values(this.dataNodeViews||{}),function(t){t.destroy()}),this.dataNodeViews={}},getContainerOffset:function(){return this._$canvas.offset()},getContainerSize:function(){return{width:this._$canvas.width(),height:this._$canvas.height()}},getContainerSpacing:function(){return this._spacing||(this._spacing={left:(this._$canvas.outerWidth(!0)-this._$canvas.width())/2,top:(this._$canvas.outerHeight(!0)-this._$canvas.height())/2}),this._spacing},allowDiagramDrag:function(){var t=this;this._$canvas.draggable({start:function(){t._diagramSize={width:t.$el.outerWidth(),height:t.$el.outerHeight(),canvas_width:t._$canvas.outerWidth(),canvas_height:t._$canvas.outerHeight()},a(this).addClass("grabbing")},drag:function(e,i){if(null!==t._judgeCanvasBoundary(i,a(this),100))return a(this).css("cursor","not-allowed"),!1},stop:function(e,i){var n=t._judgeCanvasBoundary(i,a(this),0);null!==n&&t._$canvas.animate({left:n.left,top:n.top}),a(this).removeClass("grabbing").css("cursor","")}})},_judgeCanvasBoundary:function(t,e,i){var n=t.position,o=this._diagramSize,a=-(o.canvas_width-o.width),s=-(o.canvas_height-o.height);if(n.left<a-i||n.left>0+i||n.top<s-i||n.top>0+i){var l=n.left,d=n.top;return n.left<a-i&&(l=a),n.left>0+i&&(l=0),n.top<s-i&&(d=s),n.top>0+i&&(d=0),{left:l,top:d}}return null},getCanvasContainer:function(){return this._$canvas},addConnection:function(t,e){this.connCollection.add({from:t,to:e})},addDataNode:function(t,e,i){this.collection.add({modelId:t.modelId,type:parseInt(t.nodeType),txt:t.nodeName,icon:t.icon,coordinate:{x:e,y:i}})},addCalcNode:function(t,e,i,n,o){this.collection.add({type:r.NODE_TYPE.OUTPUT,txt:e,calcType:t,icon:i,coordinate:{x:n,y:o}})},renderDataNode:function(t){var e=new c({model:t,diagram:this});e.render(this._$canvas),this.dataNodeViews[t.id]=e},removeNodeById:function(t){_.confirm("确定要删除该数据节点么？","删除数据节点后，将删除与此节点相关的子节点的配置信息,需对子节点进行重新配置",o.bind(this.collection.remove,this.collection,t))},removeConnectorById:function(t){var e=t.split("-");_.confirm("确定要删除该节点连线么？","删除节点连线后，将删除与此连线连接的相关子节点的配置信息,需对子节点进行重新配置",o.bind(this.connCollection.removeConnectionByFromToId,this.connCollection,e[0],e[1]))},removeDataNode:function(t){this.connCollection.removeConnectionsByNodeId(t.id);var e=this.dataNodeViews[t.id];e&&e.destroy(),delete this.dataNodeViews[t.id],_.success("删除节点 [ "+t.get("txt")+" ] 成功！")},renderConnectionByConnModel:function(t){var e=t.attributes.from,i=t.attributes.to,n=this.dataNodeViews[e],o=this.dataNodeViews[i],a="line-"+e+"-"+i,s="line-bg-"+e+"-"+i,l=this.paper.getById(a),d=this.paper.getById(s),r=this.getConnPortCoord(this.layout,!0,n.model.get("coordinate").x,n.model.get("coordinate").y,n.width,n.height,n.model.isCalcNode()),c=this.getConnPortCoord(this.layout,!1,o.model.get("coordinate").x,o.model.get("coordinate").y,o.width,o.height,o.model.isCalcNode());if(l)this.paper.connection({from:r,to:c,line:l,bg:d});else{var u=this.paper.connection(r,c,this.styles.LINE,this.styles.BG_LINE);this.collectionSet.push(u.line),u.bg&&(u.bg.id=s,this.collectionSet.push(u.bg)),u.line.id=a,this._handleCollectionEvent()}},removeConnection:function(t){var e=t.attributes.from,i=t.attributes.to,n=this.paper.getById("line-"+e+"-"+i);if(n){n.remove();var o=this.paper.getById("line-bg-"+e+"-"+i);o&&o.remove(),this.clearDescendantNodeConfByConnector(i,!0),_.success("删除连线成功！")}},clearDescendantNodeConfByConnector:function(t,e){var i=this,n=[];e&&n.push(t),n=n.concat(this.connCollection.getDescendantNodesByNodeId(t)),o.each(n,function(t){var e=i.collection.get(t);e&&e.clearConfig()})},renderConnectionByNodeId:function(t){var e=this.connCollection.getCollectionsById(t),i=this;o.each(e,function(t){i.renderConnectionByConnModel(t)})},renderTempConnection:function(t){return this.tmpConnection?(this.tmpConnection.to=t.to,this.paper.connection(this.tmpConnection)):this.tmpConnection=this.paper.connection(t.from,t.to,this.styles.TMP_LINE),this.tmpConnection},removeTempConnection:function(){this.tmpConnection&&this.tmpConnection.line&&this.tmpConnection.line.remove()&&this.tmpConnection.bg&&this.tmpConnection.bg.remove(),delete this.tmpConnection},getConnPortCoord:function(t,e,i,n){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0,a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0,s=arguments[6],l=0,d=0;return"horizontal"===t?(l=e?i+o-2:i+2,d=n+a/2):(l=i+o/2,s&&(l=i+30),d=e?n+a-2:n+2),{x:l,y:d,width:2,height:2}},showNodeConfig:function(t){if(this.collection.get(t).isCalcNode()&&!this.connCollection.allowNodeMix(t))return void _.warn("操作节点只有一个输入节点,不满足配置条件！");this.nodeConfigView.show(this.collection.get(t))},closeNodeConfig:function(){this.nodeConfigView.close(),this.$(".selected").removeClass("selected")},addComment:function(t){var e=o.isObject(t)?t.id:t,i=this.dataNodeViews[e];i&&i.addComment()},_handleCollectionEvent:function(){var t=this;this.collectionSet.unhover(),this.collectionSet.hover(function(){var t=this;"line-bg"!==this.id.substring(0,7)&&(t=this.paper.getById("line-bg"+this.id.substring(4))),t.attr("stroke-opacity","0.3")},function(){var t=this;"line-bg"!==this.id.substring(0,7)&&(t=this.paper.getById("line-bg"+this.id.substring(4))),t.attr("stroke-opacity","0")}),this.collectionSet.unmousedown(),this.collectionSet.mousedown(function(e){2===e.button&&t.contextMenuView.showMenu(e,"LINE",this.id.replace("line-bg-","").replace("line-","")),e.stopPropagation()})},nodeConfig:function(t){var e=o.isObject(t)?t.id:t,i=this.dataNodeViews[e];i&&i.select()},viewData:function(t){var e=this.collection.get(t),i=new f({title:"查看节点数据 - "+e.get("txt"),closeDestroy:!0});i.render(),i.open()},viewLogs:function(t){var e=this.collection.get(t),i=new f({title:"查看处理日志 - "+e.get("txt"),closeDestroy:!0});i.render(),i.open()},isConnected:function(t,e){return this.connCollection.isExist(t,e)},showTips:function(){this.diagramTipsView.toggle()},validateGrpah:function(){var t=[],e=this;if(0===this.collection.length)return this._validateLog([],"尚未设定策略处理流程!"),[];if(t=this.connCollection.hasSelfJoin(),t.length>0)return this._validateLog(t,"01.图形校验失败！画布上存在自连接的节点"),t;var i=this.collection.pluck("id");if((t=this.connCollection.hasIsolated(i))&&t.length>0)return this._validateLog(t,"图形校验失败！画布上存在孤立节点"),t;var n=this.connCollection.getStartNodes();if((t=o.filter(n,function(t){var i=e.collection.get(t);return i&&i.isCalcNode()}))&&t.length>0)return this._validateLog(t,"图形校验失败！画布上存在为操作节点的起始节点"),t;var a=this.connCollection.getEndNodes();if(a.length>=1&&(t=o.filter(a,function(t){var i=e.collection.get(t);return i&&!i.isFinalNode()})),t&&t.length>0)return this._validateLog(t,"图形校验失败！画布上未设置最终推荐结果输出的节点"),t;var s=o.pluck(this.collection.where({type:99}),"id");return o.each(s,function(i){var n=e.connCollection.getFromNodesByNodeId(i);n.length<2&&(t=o.union(t,n))}),t&&t.length>0?(this._validateLog(t,"图形校验失败！画布上存在操作节点仅有一个输入节点"),t):!((t=this.collection.getUnConfigNode())&&t.length>0)||(this._validateLog(t,"图形校验失败！画布上存在未配置或配置错误的节点，请配置正确后再提交!"),t)},highlightProblemNodes:function(t){var e=this;o.each(t,function(t){e.dataNodeViews[t].highlight()})},_validateLog:function(t,e){_.error(e),console.error&&console.error(e),console.table&&console.table(o.pluck(this.collection.getModelsByIdArray(t),"attributes"),["id","txt"])},hasChildNode:function(t){return this.connCollection.hasChildNode(t)},asFinalNode:function(t){if(!this.connCollection.hasChildNode(t)){if(this.collection.existFinalNode())return void _.warn("已存在推荐结果节点，同一个流程只允许有一个推荐结果输出节点!");var e=this.collection.get(t);e&&e.asFinalNode()}},clearLocalStorage:function(){window.localStorage&&window.localStorage.clear()},cancelAsFinalNode:function(t){var e=this.collection.get(t);e&&e.cancelAsFinalNode()},getConfigJson:function(){return{nodes:this.collection.toJSON(),connectors:this.connCollection.toJSON()}},destroy:function(){o.isFunction(this.onDestroy)&&this.onDestroy.apply(this),this.clearCanvas(),this.clearDataNode(),this.stopListening(),this.collection&&this.collection.stopListening().reset([],{silent:!0}),this.connCollection&&this.connCollection.stopListening().reset([],{silent:!0}),this.contextMenuView&&(this.clearEventHandler("diagram-menu",this.contextMenuView.getAllHandler()),this.contextMenuView.destroy()),this.toolbarView&&(this.clearEventHandler("diagram-toolbar",this.toolbarView.getAllHandler()),this.toolbarView.destroy()),n.off("diagram:closeConfigView"),this.diagramTipsView&&this.diagramTipsView.destroy(),this.nodeConfigView&&this.nodeConfigView.destroy(),this._$canvas&&this._$canvas.hasClass("ui-draggable")&&this._$canvas.draggable("destroy"),this.remove()}});t.exports=g},GAJD:function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o=i("aGLy"),a=i("7t+N"),s=i("rdLu"),l=i("euKX");i("F8S1");var d=i("kE97"),r=i("lvMg"),c=i("tEKr");i("x2ZJ");var u=o.View.extend({className:"diagram-node-config",initialize:function(t){var e;this.editModel=!1,s.extend(this,t),this.nodeConfig=null,this.dataNodeModel=null,this.isShow=!1,this.configViewMap=(e={},n(e,l.NODE_TYPE.MODEL,r),n(e,l.NODE_TYPE.OUTPUT,c),n(e,l.NODE_TYPE.FINAL_OUTPUT,c),e)},render:function(){return this},show:function(t){this.nodeConfig&&this.nodeConfig.destroy(),this.dataNodeModel=t;var e=this.configViewMap[t.get("type")];if(e){var i=t.getName();t.isCalcNode()&&a.trim(t.get("alias")).length>0&&(i+=" [ "+t.get("alias")+" ] "),this.nodeConfig=new e({el:this.$el,nodeData:t.getConfigParams(this.diagram.collection,this.diagram.connCollection),modelsName:i,viewType:this.editModel?"edit":"view"})}else console.error("未实现此节点类型["+t.get("type")+"]的配置视图组件");this.$el.show().animate({width:300},"fast"),this.isShow=!0},close:function(){if(this.isShow){if(this.$el.find(".selected").removeClass("selected"),this.$el.animate({width:0},"fast",function(){a(this).hide()}),this.editModel&&s.isFunction(s.property("validateConfig")(this.nodeConfig))){this.nodeConfig.validateConfig()?this.dataNodeModel.setStatus(l.NODE_STATUS.CONF_YES,!1):(this.dataNodeModel.setStatus(l.NODE_STATUS.CONF_ERROR,!1),d.error("节点 [ "+this.dataNodeModel.get("txt")+" ] 配置不正确,请检查并修正节点配置！"))}if(this.nodeConfig){if(this.editModel){var t=this.nodeConfig.getModelConfigData();this.dataNodeModel.set("conf",t||{})}this.nodeConfig.destroy(),this.nodeConfig=null}this.isShow=!1}},destroy:function(){this.nodeConfig&&this.nodeConfig.destroy(),this.undelegateEvents(),this.stopListening(),this.$el.off(),this.remove()}});t.exports=u},IMAn:function(t,e,i){"use strict";var n=i("7t+N"),o=i("aGLy"),a=i("rdLu");i("mXlc");var s=i("1qZb");i("YhFD");var l=o.View.extend({className:"node-selector",template:i("/xF0"),styles:{NODE_DRAGGING:"data-node-dragging",CALC_DRAGGING:"calc-node-dragging"},selectors:{DATA_NODE:".data-nodes li",CALC_NODE:".calc-nodes .calc-node"},initialize:function(t){a.extend(this,t),this.collection=new s({busiCode:this.busiCode}),this.listenTo(this.collection,"reset",this.renderData),this.busiCode?this.collection.fetch({reset:!0}):this.collection.reset([])},reload:function(t){this.collection.setBusiCode(t),this.collection.fetch({reset:!0})},renderData:function(){var t=[{type:"join",name:"关联",icon:"icon-guanlian",desc:"关联操作用于多个模型结果进行组合，取交集或者字段合并"},{type:"merge",name:"融合",icon:"icon-shujuronghe",desc:"融合操作用于多个模型结果加权合并、串联过滤、交叉合并等操作"},{type:"filter",name:"过滤",icon:"icon-guolv",desc:"用于对推荐结果进行产品或内容关键字或标签的过滤"},{type:"sort",name:"排序",icon:"icon-paixu",desc:"用于对推荐结果进行重排序，以使推荐结果输出的优先级顺序更精准"}];this.$el.html(this.template({nodes:this.collection.toJSON(),calNodes:t})),this.handelNodeDraggable(),this.$(".calc-node").tooltip({placement:"top",container:this.$el}),this.acceptDrop()},render:function(){return this},getNodeSelector:function(){return this.$(this.selectors.DATA_NODE+", "+this.selectors.CALC_NODE)},getModelNode:function(t){return this.collection.get(t).attributes},_getDragHelper:function(){var t=this;return function(){return n("<div/>").append(n(this).children().clone()).addClass(n(this).hasClass("calc-node")?t.styles.CALC_DRAGGING:t.styles.NODE_DRAGGING)}},_handleNodeDragging:function(t,e){var i=this.diagram.getCanvasContainer().offset();e.offset.top>=i.top&&e.offset.left>=i.left?e.helper.addClass(this.diagram.styles.DRAGGING_ADD_CURSOR):e.helper.removeClass(this.diagram.styles.DRAGGING_ADD_CURSOR)},_handleNodeDragStop:function(t,e){var i=n(t.target),o=this.diagram.getContainerOffset(),a=this.diagram.getContainerSpacing(),s=this.diagram.getZoomScale(),l=e.offset.left-o.left-a.left,d=e.offset.top-o.top-a.top,r=l/s,c=d/s;if(!i.data("_revert"))if(i.hasClass("calc-node"))this.diagram.addCalcNode(i.attr("data-id"),n.trim(i.text()),i.attr("data-icon"),r<0?0:r,c<0?0:c);else{var u=this.getModelNode(i.attr("data-id"));this.diagram.addDataNode(u,r<0?0:r,c<0?0:c)}i.removeData("_revert")},handelNodeDraggable:function(){this.getNodeSelector().draggable({revert:function(t){return n(this).data("_revert",!t),!t},helper:this._getDragHelper(),cursor:"move",scroll:!0,opacity:.5,appendTo:this.$dropEl,drag:a.bind(this._handleNodeDragging,this),stop:a.bind(this._handleNodeDragStop,this)})},acceptDrop:function(){this.$dropEl&&this.$dropEl.droppable({accept:this.getNodeSelector()})},destroy:function(){this.undelegateEvents(),this.$(".calc-node").tooltip("destroy"),this.$el.off(),this.getNodeSelector().hasClass("ui-draggable")&&this.getNodeSelector().draggable("destroy"),this.$dropEl&&this.$dropEl.hasClass("ui-droppable")&&this.$dropEl.droppable("destroy"),this.getNodeSelector().off(),this.stopListening(),this.remove()}});t.exports=l},IRzy:function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<ul>\n\x3c!--[if (gte IE 9)|!(IE)]>\x3c!--\x3e\n<li title="放大" data-action="zoomOut">\n\t<i title="放大" class="iconfont icon-fangda"></i>\n</li>\n<li title="缩小" data-action="zoomIn">\n\t<i title="缩小" class="iconfont icon-suoxiao"></i>\n</li>\n<li title="还原"  data-action="revert">\n\t<i title="还原" class="iconfont icon-huanyuan"></i>\n</li>\n\x3c!--<![endif]--\x3e\n',this.editModel&&(__p+='\n<li title="显示节点备注"  data-action="showComment">\n\t<i title="显示节点备注" class="iconfont icon-icon1"></i>\n</li>\n<li title="全屏展示"  data-action="fullScreen">\n\t<i title="全屏展示" class="iconfont icon-quanping"></i>\n</li>\n<li title="布局方式" data-action="layoutDir">\n\t<i title="布局方式" class="iconfont icon-layout"></i>\n</li>\n<li title="清空画布"  data-action="clearDiagram">\n\t<i title="清空画布" class="iconfont icon-ziyuan"></i>\n</li>\n<li title="使用提示"  data-action="showTips">\n\t<i title="使用提示" class="iconfont icon-bangzhu"></i>\n</li>\n'),__p+="\n</ul>";return __p}},IdGR:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)datas.length>0?(__p+="\n\t",_.each(datas,function(t){__p+="\n\t\t";for(var e,i,n={"错误":"fright ui-error-text","执行中":"fright ui-running-text","待执行":"fright ui-execution-text ui-editing-text","完成":"fright ui-execution-text"},o=0;o<enumData.length;o++)if(enumData[o].enumKey==t.strategyState){e=n[enumData[o].enumValue],i=enumData[o].enumValue;break}var a={1:"icon-day",2:"icon-week",3:"icon-month"},s=a[t.cycle];-1!=t.executeState&&(s+=" toggle-on"),__p+='\n\t\t<div class="strategy-item" data-id="'+(null==(__t=t.strategyId)?"":__t)+'">\n\t\t\t<h5 class="strategy-item-title">\n\t\t\t\t<span>'+(null==(__t=t.strategyName)?"":__t)+'</span>\n\t\t\t\t<span class="'+(null==(__t=e)?"":__t)+'">'+(null==(__t=i)?"":__t)+'</span>\n\t\t\t</h5>\n\t\t\t<div class="strategy-item-content">\n\t\t\t\t<ul class="item-indis">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<label>推荐用户数</label>\n\t\t\t\t\t\t<span><strong>23,333</strong> (人)</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<label>推荐条数</label>\n\t\t\t\t\t\t<span><strong>'+(null==(__t=null!=t.dataCount?t.dataCount:0)?"":__t)+'</strong> (条)</span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="item-logs">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<i class="iconfont '+(null==(__t=s)?"":__t)+'"></i>'+(null==(__t=t.updateTimes)?"":__t)+" 次\n\t\t\t\t\t</span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t最近更新时间："+(null==(__t=null!=t.endTime?t.endTime:"暂无")?"":__t)+'\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ul class="strategy-item-func">\n\t\t\t\t<li data-action="view" title="查看策略详情" class="func-item">详情</li>\n\t\t\t\t<li class="dropdown func-item" >\n\t\t\t\t\t<p data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n\t\t\t\t\t\t<span>操作</span>\n\t\t\t\t\t\t<span class="caret"></span>\n\t\t\t\t\t</p>\n\t\t\t\t\t<ul class="dropdown-menu ">\n\t\t\t\t\t\t<li data-action="update">修改</li>\n\t\t\t\t\t\t<li data-action="delete">删除</li>\n\t\t\t\t\t\t<li role="separator" class="divider"></li>\n\t\t\t\t\t\t<li data-action="suspend">暂停</li>\n\t\t\t\t\t\t<li data-action="continue">继续</li>\n\t\t\t\t\t\t<li data-action="stop">停止</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t'}),__p+="\n"):__p+='\n\t<span class="spanCenter">暂无数据！</span>\n';return __p}}).call(exports,__webpack_require__("rdLu"))},Ip8O:function(t,e,i){"use strict";var n=i("s6bQ");n.fn.connection=function(t,e,i,n){t.line&&t.from&&t.to&&(i=t,t=i.from,e=i.to);for(var o=t.getBBox?t.getBBox():t,a=e.getBBox?e.getBBox():e,s=[{x:o.x+o.width/2,y:o.y-1},{x:o.x+o.width/2,y:o.y+o.height+1},{x:o.x-1,y:o.y+o.height/2},{x:o.x+o.width+1,y:o.y+o.height/2},{x:a.x+a.width/2,y:a.y-1},{x:a.x+a.width/2,y:a.y+a.height+1},{x:a.x-1,y:a.y+a.height/2},{x:a.x+a.width+1,y:a.y+a.height/2}],l={},d=[],r=0;r<4;r++)for(var c=4;c<8;c++){var u=Math.abs(s[r].x-s[c].x),h=Math.abs(s[r].y-s[c].y);(r===c-4||(3!==r&&6!==c||s[r].x<s[c].x)&&(2!==r&&7!==c||s[r].x>s[c].x)&&(0!==r&&5!==c||s[r].y>s[c].y)&&(1!==r&&4!==c||s[r].y<s[c].y))&&(d.push(u+h),l[d[d.length-1]]=[r,c])}var f=void 0;f=0===d.length?[0,4]:l[Math.min.apply(Math,d)];var _=s[f[0]].x,p=s[f[0]].y,m=s[f[1]].x,g=s[f[1]].y,v=Math.max(Math.abs(_-m)/2,10),y=Math.max(Math.abs(p-g)/2,10),b=[_,_,_-v,_+v][f[0]].toFixed(3),N=[p-y,p+y,p,p][f[0]].toFixed(3),w=[0,0,0,0,m,m,m-v,m+v][f[1]].toFixed(3),C=[0,0,0,0,p+y,p-y,g,g][f[1]].toFixed(3),T=["M",_.toFixed(3),p.toFixed(3),"C",b,N,w,C,m.toFixed(3),g.toFixed(3)].join(",");if(!i||!i.line)return{bg:n&&this.path(T).attr(n),line:this.path(T).attr(i||{fill:"none",stroke:"#000"}),from:t,to:e};i.bg&&i.bg.attr({path:T}),i.line.attr({path:T})},t.exports=n},JMxK:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="ui-query-builder">\n\t<form class="form-inline" onsubmit="return false;">\n\t\t<div>\n\t\t\t <div class="ui-search-filter input-group  ui-search-tactics form-group">\n\t\t\t\t<input type="text" class="form-control br0" placeholder="策略名称" id="strategyName">\n\t\t\t\t<span class="glyphicon input-group-addon" id="searchAll"></span>\n\t\t\t</div>\n\t\t\t<div class="form-group ui-select-tactics">\n\t\t\t\t<button id="creationStrategy" type="button" class="btn btn-primary ui-create-tactics">创建策略</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="clearfix ui-tactics-item">\n\t\t\t<label class="ui-tactics-status fleft">状态：</label>\n\t\t\t<div class="ui-status-btn-box fleft" id="statusContent">\n\n\t\t\t</div>\n\t\t</div>\n\t</from>\n</div>';return __p}},LBT6:function(t,e){},LQyq:function(t,e,i){"use strict";var n=i("aGLy"),o=n.Model.extend({idAttribute:"modelId",setNotChecked:function(t){if(0!=this.get("fieldList").length)for(var e=0;e<this.get("fieldList").length;e++)if(this.get("fieldList")[e].fieldName==t){var i=this.get("fieldList")[e];i.checked=!this.get("fieldList")[e].checked,this.get("fieldList").splice(e,1),this.get("fieldList").push(i),this.set({fieldList:this.get("fieldList")});break}}});t.exports=o},LW5F:function(t,e,i){"use strict";(function(e){var n=i("aGLy"),o=i("rdLu");i("ok1o");var a=n.View.extend({className:"message-notice-content",template:i("oP/2"),initialize:function(t){this.type=a.TYPES.INFO,this.message="",o.extend(this,t)},render:function(t){var i=e("."+this.className);return i.length>0&&i.remove(),this.$el.html(this.template({type:this.type,icon:a.ICONS[this.type.toUpperCase()]||a.ICONS.INFO,message:this.message})),this.$el.appendTo(t),this},show:function(){var t=this,e=this.$el.outerWidth();this.$el.hide(),this.$el.css({"margin-left":-e/2,top:20}),this.$el.slideDown("fast",function(){o.delay(o.bind(t.destroy,t),1e3*t.duration)})},destroy:function(){var t=this;this.$el.slideUp("fast",function(){t.remove()})}});a.TYPES={INFO:"info",SUCCESS:"success",ERROR:"error",WARN:"warn"},a.ICONS={INFO:"icon-xinxi",SUCCESS:"icon-chenggong1",ERROR:"icon-shibai",WARN:"icon-jinggao"},t.exports=a}).call(e,i("7t+N"))},M0mP:function(t,e,i){"use strict";var n=i("aGLy"),o=i("rdLu"),a=i("VZB+"),s=i("2yj7")("NODECONNECTION_COLLECTION:"),l=n.Collection.extend({model:a,initialize:function(){},initSyncLocalStorageListen:function(){this.listenTo(this,"add",s.saveModelToLocalStorage),this.listenTo(this,"remove",s.delModelFromLocalStorage),this.listenTo(this,"change",s.saveModelToLocalStorage),this.listenTo(this,"reset",s.resetModelToLocalStorage)},getCollectionsById:function(t){return this.filter(function(e){return e.attributes.from===t||e.attributes.to===t})},removeConnectionsByNodeId:function(t){var e=this;o.each(this.getCollectionsById(t),function(t){e.remove(t)})},removeConnectionByFromToId:function(t,e){if(t||e)if(t){var i=this.where({from:t});this.remove(i)}else{var n=this.where({to:e});this.remove(n)}else{var o=this.where({from:t,to:e});this.remove(o)}},isExist:function(t,e){return this.where({from:t,to:e}).length>0},getStartNodes:function(){var t=this.pluck("from"),e=this.pluck("to");return o.difference(t,e)},getEndNodes:function(){this.pluck("from");var t=this.pluck("from"),e=this.pluck("to");return o.uniq(o.difference(e,t))},getDescendantNodesByNodeId:function(t){function e(t){var a=n.where({from:t});return o.each(a,function(t){var n=t.attributes.to;n&&i.push(n),e(n)}),i}var i=[],n=this;return e(t)},getFromNodesByNodeId:function(t){var e=this.where({to:t});return o.pluck(o.pluck(e,"attributes"),"from")},getToNodesByNodeId:function(t){var e=this.where({from:t});return o.pluck(o.pluck(e,"attributes"),"to")},hasSelfJoin:function(){return this.filter(function(t){return t.get("from")===t.get("to")})},hasChildNode:function(t){return this.getToNodesByNodeId(t).length>0},allowNodeMix:function(t){return this.getFromNodesByNodeId(t).length>=2},hasIsolated:function(t){var e=this.pluck("from"),i=this.pluck("to");return o.difference(t,o.union(e,i))}});l.getInstance=function(){var t=new l;if(window.localStorage){var e=s.restoreFromLocalStorage();t.add(e,{silent:!0})}return t},t.exports=l},MFDE:function(t,e,i){"use strict";var n=i("7t+N"),o=i("aGLy"),a=i("rdLu"),s=i("fWFK");i("LBT6");var l=o.View.extend({className:"busi-selector",template:i("gY3Z"),events:{'click [data-action="selectBusi"]':"selectBusi"},initialize:function(t){this.onSelect=a.noop,a.extend(this,t),this.recommendTypeCollection=new s,this.listenTo(this.recommendTypeCollection,"reset",this.renderSelectorView),this.recommendTypeCollection.fetch({reset:!0})},render:function(){return this.$el.html(this.template({datas:[]})),this.$backdrop=n('<div class="content-modal-backdrop"/>'),n(".irec-content").append(this.$backdrop).append(this.$el),this},renderSelectorView:function(){this.$el.html(this.template({datas:this.recommendTypeCollection.toJSON()}))},closeSelector:function(){this.destroy()},selectBusi:function(t){var e=n(t.target),i=e.closest(".busi-item-box").attr("data-id");this.closeSelector(),this.onSelect.call(null,i)},destroy:function(){this.$backdrop.remove(),this.remove()}});t.exports=l},MWdg:function(t,e,i){"use strict";var n=i("aGLy");i("lv2Q");var o=n.View.extend({className:"diagram-tips",template:i("A3K+"),events:{"click .close":"close"},initialize:function(){this.$el.addClass("alert alert-info")},render:function(){return this},show:function(){this.$el.append(this.template()),this.isShow=!0,this.$el.fadeIn("fast")},close:function(){this.$el.empty(),this.isShow=!1,this.$el.fadeOut("fast")},toggle:function(){this.isShow?this.close():this.show()},destroy:function(){this.undelegateEvents(),this.stopListening(),this.$el.off(),this.remove()}});t.exports=o},NXCX:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="ui-tactics-container">\n  <h5 >策略流程配置</h5>\n\t<div class="container-table" style="padding:0 5px;"></div>\n</div>;\n';return __p}},NXnP:function(t,e,i){"use strict";var n=i("aGLy"),o=i("7t+N"),a=i("rdLu"),s=i("kE97"),l=n.View.extend({className:"joinModelDiv",events:{"click #deleteDiv":"deleteDiv","click #deleteJoin":"deleteJoin","change .selectWidth":"changeSelect"},template:i("4Xlg"),initialize:function(t){a.extend(this,t),this.render()},changeSelect:function(t){var e=this;this.$(t.target).find("option").each(function(i,n){e.$(n).val()!=t.target.value&&e.$(n).attr("selected",!1)}),this.$(t.target).find("option[value='"+t.target.value+"']").attr("selected",!0)},validateConfig:function(){var t=!0;if(this.$el.parent().find(".joinModelDiv select").each(function(){o(this).css({border:""}),"0"==this.value&&(o(this).css({border:"1px solid red"}),o(this).attr("title","请选择关联条件!"),t=!1)}),this.join_field=this.getJoinFieldData(),this.join_field!=undefined&&this.params!=undefined){var e=this.dataValidateConfig(this.params,this.join_field);""!=e&&(t=!1,s.error(e))}return t},dataValidateConfig:function(t,e){for(var i=!0,n="",o=0;o<t.length;o++){i=!1;for(var a=0;a<e.length;a++)for(var s=0;s<e[a].length;s++){for(var l in e[a][s])if(t[o].node_id==l){i=!0;break}if(i)break}if(!i){n=t[o].node_name+"节点未在关联条件中存在！";break}}return n},getJoinFieldData:function(){var t=[];return this.joinItemDom.find(".joinModelDiv").each(function(e,i){for(var n=[],o=1;o<i.children.length;o++){var a=i.children[o].children[2].name,s=i.children[o].children[2].value,l={};l[a]=s,n.push(l)}t.push(n)}),t},render:function(){return this.$el.html(this.template({viewType:this.viewType,nodeData:this.nodeData,params:this.params,field:this.join_field})),this},deleteJoin:function(t){var e=o(t.target).parent(".join-item");2===e.siblings().length?s.error("无法删除！关联条件必须选择2个！"):e.remove()},deleteDiv:function(t){1===this.$el.parent().find(".joinModelDiv").length?s.error("至少添加一个关联条件！"):this.$el.fadeOut("fast",function(){o(this).remove()})},destroy:function(){this.undelegateEvents(),this.$el.off(),this.$el.empty()}});t.exports=l},PSHn:function(t,e,i){"use strict";var n=i("aGLy"),o=n.Model.extend({defaults:{},idAttribute:"logId"});t.exports=o},RaMd:function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="node-title">\n\t'+(null==(__t=modelsName)?"":__t)+'\n</div>\n<div class="node-config-box">\n\t<div class="config-box-title">数据源关联设置</div>\n\t<div class="config-box-content">\n\t\t',"view"==viewType?__p+='\n\t\t\t<div class="join-view-type">\n\t\t\t\t<span>关联类型：</span>\n\t\t\t\t<span>'+(null==(__t=nodeData.conf.join_type)?"":__t)+'</span>\n\t\t\t</div>\n\t\t\t<div class="join-items">\n\n\t\t\t</div>\n\t\t':__p+='\n\t\t<div class="joinType">\n\t\t\t<div class="join-row">\n\t\t\t\t<span>关联类型：</span>\n\t\t\t\t<select style="width: 60%;" class="joinTypeSelect">\n\t\t\t\t\t<option value ="INNER" '+(null==(__t=nodeData.conf&&"INNER"==nodeData.conf.join_type?"selected":"")?"":__t)+'>INNER</option>\n\t\t\t\t\t<option value ="OUTER" '+(null==(__t=nodeData.conf&&"OUTER"==nodeData.conf.join_type?"selected":"")?"":__t)+'>OUTER</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div class="join-row">\n\t\t\t\t<span id="addJoin" class="btn-add-join">\n\t\t\t\t\t<i  class="iconfont icon-icon02"></i>添加关联条件\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div class="join-items">\n\n\t\t\t</div>\n\t\t</div>\n\t\t',__p+="\n\t</div>\n</div>\n";return __p}},Sh8O:function(t,e){},StaT:function(t,e){},UL2X:function(t,e,i){"use strict";var n=i("aGLy"),o=(i("7t+N"),i("rdLu")),a=n.View.extend({events:{},template:i("eV6Y"),initialize:function(t){o.extend(this,t),this.renderView()},getFilterData:function(){for(var t=[],e=0;e<this.$el[0].children.length;e++){var i=this.$el[0].children[e].children;if(4==i.length){var n={};n[i[1].value]=[i[0].value,i[2].value],t.push(n)}}return t},destroy:function(){this.undelegateEvents(),this.$el.off(),this.$el.empty()},renderView:function(){this.$el.append(this.template({datas:this.field,cond_exps:this.cond_exps,viewType:this.viewType}))}});t.exports=a},Umb4:function(t,e,i){"use strict";var n=i("aGLy"),o=i("v2Nc"),a=n.Collection.extend({model:o,url:"",unActive:function(){var t=this.findWhere({active:!0});t&&t.set({active:!1})}});t.exports=a},UpkV:function(t,e,i){"use strict";var n=i("aGLy"),o=i("WtOp"),a=n.Collection.extend({model:o});t.exports=a},VEcT:function(t,e,i){"use strict";var n=i("aGLy"),o=i("rdLu"),a=i("7t+N"),s=i("C/b2"),l=i("pN6t"),d=i("xmkW"),r=i("FfQT");i("Sh8O"),i("7nbV"),i("+Tc7");var c=n.View.extend({initialize:function(t){o.extend(this,t),this.detailView=new s({strategieId:this.strategieId,onload:o.bind(this.loadDiagram,this)}),this.historyView=new l({strategieId:this.strategieId}),this.modelLogsView=new d({strategieId:this.strategieId}),this.diagramView=new r({editModel:!1})},loadDiagram:function(){var t=this.detailView.getDiagramConfigJSON();this.diagramView.show(t)},render:function(){var t=i("NXCX"),e=a(t());this.$el.append(this.detailView.render().el),this.$el.append(this.historyView.render().el),this.$el.append(e),a(".container-table",e).append(this.diagramView.render().el),this.$el.append(this.modelLogsView.render().el)},destroy:function(){this.detailView.destroy(),this.historyView.destroy(),this.modelLogsView.destroy(),this.diagramView.destroy(),this.undelegateEvents(),this.stopListening()}});t.exports=c},"VZB+":function(t,e,i){"use strict";(function(e){var n=i("aGLy"),o=n.Model.extend({defaults:function(){return{id:e.uniqueId()}}});t.exports=o}).call(e,i("rdLu"))},WlOc:function(t,e,i){"use strict";var n=i("aGLy"),o=n.sync;n.Model.prototype.parse=function(t,e){return t.data||t},n.Collection.prototype.parse=function(t,e){return t.data,t.data||t},n.sync=function(t,e,i){return i.beforeSend=function(){this.url="/irec/"+("/"===this.url.substr(0,1)?this.url.substr(1):this.url)},o.call(this,t,e,i)}},WqAD:function(t,e,i){"use strict";var n=i("aGLy"),o=n.Model.extend({urlRoot:"businesses/count",defaults:{selected:!1},initialize:function(){},idAttribute:"busiCode",updateSelected:function(t){this.set({selected:t})}});t.exports=o},WtOp:function(t,e,i){"use strict";var n=i("aGLy"),o=n.Model.extend({idAttribute:"strategyId"});t.exports=o},XqRw:function(t,e,i){"use strict";var n=i("aGLy"),o=i("7t+N"),a=i("rdLu");i("WlOc"),i("ok1o");var s=n.View.extend({className:"modal fade",title:"Modal Title",template:i("nwP+"),showCloseButton:!0,backdrop:!0,showHeader:!0,width:600,buttons:[],onHide:o.noop,onShow:o.noop,events:{"click .modal-footer>.btn":"_handleButtonClick"},initialize:function(t){a.extend(this,t),this.$el.attr({tabindex:"-1",role:"dialog"})},render:function(t){var e=this;return this.$el.append(this.template({title:this.title,showCloseButton:this.showCloseButton,showHeader:this.showHeader,buttons:this.buttons})),this.view&&this.view instanceof n.View?this.$(".modal-body").append(this.view.el):this.content&&this.$(".modal-body").html(this.content),this.$(".modal-dialog").css({width:this.width}),this.$el.on("hide.bs.modal",function(){e.onHide.call(),e.close()}).on("show.bs.modal",function(){e.onShow.call()}),this.$el.modal({backdrop:!!this.backdrop||"static",show:!1}),this},addButton:function(t){this.buttons.push(t)},addButtons:function(t){this.buttons.concat(t)},setContent:function(t,e){this.$(".modal-body").html(t({data:e}))},setFooter:function(t){this.$(".modal-footer").append(t)},open:function(){this.$el.modal("show")},close:function(){if(this.view&&this.view instanceof n.View){var t=a.property("destory")(this.view);t&&a.isFunction(t)&&this.view.destroy()}o(document.body).removeClass("modal-open"),o(".modal-backdrop").remove(),this.buttons=[],this.$el.data("bs.modal",null),this.$el.data("modal",null),this.$el.off(),this.remove()},_handleButtonClick:function(t){var e=o(t.target).attr("data-id"),i=a.findWhere(this.buttons,{id:e});if(i&&i.handler){if(a.isFunction(i.handler)){!0===i.handler.apply(this)&&this.$el.modal("hide")}a.isString(i.handler)&&"close"===i.handler&&this.$el.modal("hide")}return!1}});t.exports=s},YhFD:function(t,e){},aFww:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="ui-tactics-container">\n\t<h5>策略相关模型执行状态</h5>\n\t<div  class="container-table">\n\t\t<table class="common-table">\n\t\t\t<thead>\n\t\t\t<tr >\n\t\t\t\t<th style="width:5%;">序号</th>\n\t\t\t\t<th style="width:35%;">模板名称</th>\n\t\t\t\t<th style="width:35%;">状态</th>\n\t\t\t\t<th style="width:20%;">更新时间</th>\n\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t',_.each(data,function(t,e){__p+='\n\t\t\t<tr class="content-table-tr">\n\t\t\t\t<td class="text-center">'+(null==(__t=e++)?"":__t)+'</td>\n\t\t\t\t<td class="text-center">'+(null==(__t=t.modelName)?"":__t)+'</td>\n\t\t\t\t<td class="text-center">'+(null==(__t=t.dealState)?"":__t)+'</td>\n\t\t\t\t<td class="text-center">'+(null==(__t=t.updateTime)?"":__t)+"</td>\n\t\t\t</tr>\n\t\t\t"}),__p+="\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>";return __p}}).call(exports,__webpack_require__("rdLu"))},aJUM:function(t,e,i){"use strict";var n=i("aGLy"),o=i("7t+N"),a=i("rdLu"),s=i("euKX");i("F8S1");var l=n.View.extend({selector:{NODE_PORT:".node-port"},template:i("mBmd"),events:{click:"select",mouseout:"_handleMouseLeave","dblclick .data-node-input":"_handleNodeInput","dblclick .tips-content":"_handleNodeInput","click .data-node-input,.node-tips":"_handlePreventEvent"},initialize:function(t){a.extend(this,t),this.renderDom(),this.$el.css({position:"absolute",left:this.model.attributes.coordinate.x,top:this.model.attributes.coordinate.y}),this.model.isCalcNode()||this.$el.attr("data-toggle","diagram-context"),this.$el.addClass(this.model.isCalcNode()?"data-calc-node":"data-node"),this.$el.css("cursor","pointer"),this.listenTo(this.model,"change:conf",this._handleConfChange),this.listenTo(this.model,"change:type change:status",this.renderDom)},render:function(t){return this.$el.appendTo(t),this._initNodeDraggable(),this.width=this.$el.outerWidth(),this.height=this.$el.outerHeight(),this},renderDom:function(){this.$el.html(this.template({model:this.model.attributes,layout:this.diagram.layout,NODE_STATUS:s.NODE_STATUS,NODE_TYPE:s.NODE_TYPE})),this.$el.attr({"data-id":this.model.id,"data-type":this.model.get("type"),title:this.model.attributes.txt}),this._initNodePortDraggable()},_initNodeDraggable:function(){this.$el.draggable({cancel:this.selector.NODE_PORT,containment:"parent",start:a.bind(this._handlerNodeDragMove,this),drag:a.bind(this._handlerNodeDragMove,this),stop:a.bind(this._handlerNodeDragMove,this)})},_initNodePortDraggable:function(){this.$(this.selector.NODE_PORT).draggable({containment:this.$el.parent().parent(),revert:!0,helper:function(){return"<div/>"},start:a.bind(this._startDrawConnection,this),drag:a.bind(this._drawingConnection,this),stop:a.bind(this._endDrawConnection,this)})},select:function(t){this.diagram.showNodeConfig(this.model.id),this.$el.siblings(".selected").removeClass("selected"),this.$el.addClass("selected"),t&&t.stopPropagation()},unselect:function(){this.$el.removeClass("selected")},_handlerNodeDragMove:function(t,e){var i=o(t.target);i.position();if("dragstart"===t.type)e.position.left=0,e.position.top=0,i.css("cursor","move");else if("drag"===t.type){var n=e.position.left-e.originalPosition.left,a=e.originalPosition.left+n/this.diagram.getZoomScale(),s=e.position.top-e.originalPosition.top,l=e.originalPosition.top+s/this.diagram.getZoomScale();e.position.left=a,e.position.top=l,this.model.set("coordinate",{x:a,y:l},{silent:!0}),this.diagram.renderConnectionByNodeId(this.model.id)}else"dragstop"===t.type&&(o(t.originalEvent.target).one("click",function(t){t.stopImmediatePropagation()}),this.model.trigger("change change:coordinate",this.model),i.css("cursor","pointer"))},_handleConfChange:function(t,e,i){},_handleMouseLeave:function(){this.$el.css("cursor","")},_startDrawConnection:function(t){var e=o(t.target),i=e.parent(),n=i.position(),a=i.outerWidth(),s=i.outerHeight(),l=e.position();this.$el.parent().css("cursor","crosshair"),this.tmpConnection={from:this.diagram.getConnPortCoord(this.diagram.layout,!0,n.left,n.top,a,s),startCoord:{sx:n.left+(l.left+e.outerWidth()/2),sy:n.top+(l.top+e.outerHeight()/2),x:t.clientX,y:t.clientY}}},_drawingConnection:function(t){var e=o(t.target),i=this._drawTempConnection(t,e),n=this._allowConnect(t);n.allow?(n.$ele.css("cursor","wait"),i&&i.line&&i.line.animate(this.diagram.animation.line)):(i&&i.line&&i.line.stop(),n.$ele&&n.$ele.css("cursor","not-allowed"))},_drawTempConnection:function(t){var e=this.tmpConnection.startCoord;return this.tmpConnection.to=this.diagram.getConnPortCoord(this.diagram.layout,!1,this.tmpConnection.from.x+(t.clientX-e.x),this.tmpConnection.from.y+(t.clientY-e.y)),this.diagram.renderTempConnection(this.tmpConnection)},_endDrawConnection:function(t){var e=this,i=this._drawTempConnection(t),n=i&&i.line,o=n&&n.attr("path"),a=this._allowConnect(t);a.allow?(this.diagram.addConnection(this.model.id,a.id),this.diagram.removeTempConnection(),a.$ele.css("cursor","pointer")):(n&&n.animate({path:o[0]},200,">",function(){e.diagram.removeTempConnection()}),a.$ele&&a.$ele.css("cursor","pointer")),this.$el.parent().css("cursor",""),delete this.tmpConnection},_judgeOverDataNode:function(t){var e=t.closest(".data-node,.data-calc-node");return e.length>0?{id:e.attr("data-id"),isCalcNode:e.hasClass("data-calc-node"),$ele:e}:null},_allowConnect:function(t){var e=this._judgeOverDataNode(o(t.originalEvent.target));return e?e.id===this.model.id||this.diagram.isConnected(this.model.id,e.id)?{allow:!1,$ele:e.$ele}:!this.model.isCalcNode()&&e.isCalcNode||this.model.isCalcNode()&&e.isCalcNode?{allow:!0,$ele:e.$ele,id:e.id}:{allow:!1,$ele:e.$ele}:{allow:!1}},_handlePreventEvent:function(){return!1},_handleNodeInput:function(t){var e=o(t.currentTarget),i=o('<textarea maxlength="18"/>'),n=this;return e.hasClass("has-content")&&i.val(o.trim(e.text())),e.html(i),i.focus().select(),i.click(function(){o(this).focus()}).blur(function(){var t=o.trim(o(this).val());""===t?(e.removeClass("has-content"),t=e.attr("title")):e.addClass("has-content"),n.model.set(e.hasClass("tips-content")?"desc":"alias",t),o(this).off(),e.html(t)}),!1},addComment:function(){this.$el.find(".node-tips").fadeIn()},highlight:function(){var t=this;!function e(i){t.$el.toggleClass("warning"),i<10?setTimeout(function(){e(i+1)},300):t.$el.removeClass("warning")}(0)},destroy:function(){this.undelegateEvents(),this.stopListening(),this.$el.hasClass("ui-draggable")&&this.$el.draggable("destroy"),this.$(this.selector.NODE_PORT).hasClass("ui-draggable")&&this.$(this.selector.NODE_PORT).draggable("destroy"),this.$(this.selector.NODE_PORT).off(),this.$(".data-node-input").off(),this.$el.off(),this.remove()}});t.exports=l},abAR:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)_.each(obj,function(t){__p+="\n\t",t.active&&(__p+='\n\t<li data-value="'+(null==(__t=t.id)?"":__t)+'" class="active">'+(null==(__t=t.name)?"":__t)+"</li>\n\t"),__p+="\n\t",t.active||(__p+='\n\t<li data-value="'+(null==(__t=t.id)?"":__t)+'" >'+(null==(__t=t.name)?"":__t)+"</li>\n\t"),__p+="\n"});return __p}}).call(exports,__webpack_require__("rdLu"))},b26c:function(t,e,i){"use strict";var n=i("zNUS");n.mock(/\/irec\/businesses\/count/,{success:!0,message:"",data:[{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",busiName:"视频推荐",busiDesc:null,busiIcon:"ui-vedio",count:19},{busiCode:"ffcbd942a9c54c8f8e805e88257fceb7",busiName:"音乐推荐",busiDesc:null,busiIcon:"ui-music",count:0},{busiCode:"962c3659fb4c4f9792d6a6dcd3e506f5",busiName:"应用推荐",busiDesc:null,busiIcon:"ui-app",count:0},{busiCode:"351d4e4108b340649cfa2fab9a989135",busiName:"游戏推荐",busiDesc:null,busiIcon:"ui-game",count:0},{busiCode:"1c9aeac84317474dad5e7bba880c68eb",busiName:"套餐推荐",busiDesc:null,busiIcon:"ui-something",count:0}]}),n.mock(/\/irec\/businesses\/4c1105f55fde46f38d4f33c1c4793c32\/models\/public/,{success:!0,message:"",data:[{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",modelId:"61c1b7c205b944189cd242640743254c",modelName:"咪咕存量用户"},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",modelId:"639029f9cc6941c49261b1981a0054ea",modelName:"用户视频分类偏好"},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",modelId:"9c56c0e37fd04a08ab7a39357fb8f6d0",modelName:"咪咕视频信息表"},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",modelId:"b16e27014b4448198c7b06b330d6b1d5",modelName:"物品关联列表"},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",modelId:"c6e871dcb24e4d1993fddeada7c388eb",modelName:"用户视频访问打分"}]}),n.mock(/\/irec\/models\/\w+\/fieldsAndLogs/,{success:!0,message:"",data:{modelId:"61c1b7c205b944189cd242640743254c",cycle:"1",dataCount:567890,updateTime:"2017-11-05 02:11:00",fieldList:[{fieldDesc:"入网时长",fieldName:"TIMELONG",fieldType:"STRING"},{fieldDesc:"电话号码",fieldName:"PHONE",fieldType:"STRING"},{fieldDesc:"入网时间",fieldName:"DATETIME",fieldType:"STRING"}]}}),n.mock(/\/irec\/enumDics\/STRATEGY_STATE/,{success:!0,message:"",data:[{enumGroup:"STRATEGY_STATE",enumKey:1,enumValue:"待执行"},{enumGroup:"STRATEGY_STATE",enumKey:2,enumValue:"执行中"},{enumGroup:"STRATEGY_STATE",enumKey:3,enumValue:"完成"},{enumGroup:"STRATEGY_STATE",enumKey:4,enumValue:"错误"}]}),n.mock(/\/irec\/businesses\/\w+\/strategies\/strategyState\/count/,{success:!0,message:"",data:[{strategyState:"1",count:18},{strategyState:"2",count:5},{strategyState:"3",count:3}]}),n.mock(/\/irec\/businesses\/\w+\/strategies(\?\S*)*/,{success:!0,message:"",data:[{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"f646b62434364e138472a4c8a33b2d09",strategyName:"咪咕视频推荐策略测试",strategyState:"1",createTime:"2017-12-13",cycle:1,executeState:-1,endTime:"2017-12-13",dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"325b01315d224593a003bd131ecc5370",strategyName:"李裴测试1",strategyState:"1",createTime:"2017-12-13",cycle:1,executeState:-1,endTime:"2017-12-13",dataCount:4623635,updateTimes:1},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"4bc229d5cb944d7f8fd903f4129236a0",strategyName:"李裴测试2",strategyState:"1",createTime:"2017-12-13",cycle:1,executeState:-1,endTime:"2017-12-13",dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"1234b8bb4ce2440eaa1ac48bbc595084",strategyName:"李裴测试11",strategyState:"1",createTime:"2017-12-13 07:12:00",cycle:1,executeState:-1,endTime:"2017-12-13",dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"1e14bc12bc77405ebd7d4d3feb2ed34a",strategyName:"李毅测试",strategyState:"1",createTime:"2017-12-12 06:12:00",cycle:1,executeState:-1,endTime:"2017-12-13",dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"99183b769e1a483e90736c3f3f59c857",strategyName:"推荐策略测试",strategyState:"1",createTime:"2017-12-08 07:12:00",cycle:1,executeState:1,endTime:null,dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"7d8e19c3e2414b149e5d91f44efb8c5f",strategyName:"推荐策略测试",strategyState:"1",createTime:"2017-12-08 07:12:00",cycle:2,executeState:1,endTime:null,dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"4e6f490a5e014886ad4516b1cae57b0c",strategyName:"推荐策略测试",strategyState:"1",createTime:"2017-12-08 07:12:00",cycle:2,executeState:1,endTime:null,dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"80021834820f4bdfaf4af37b0c399c70",strategyName:"推荐策略测试",strategyState:"1",createTime:"2017-12-08 07:12:00",cycle:1,executeState:1,endTime:null,dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"a10e42cbe9d54a89893ed117c1ced4db",strategyName:"测试策略",strategyState:"1",createTime:"2017-12-08 07:12:00",cycle:2,executeState:1,endTime:null,dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"cb8b198a30914f21849c0cfd1f807b3b",strategyName:"策略名称测试2",strategyState:"2",createTime:"2017-11-22 08:11:00",cycle:2,executeState:1,endTime:null,dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"3a6281fd3ff04a61bcb3563faba69d6f",strategyName:"存量用户推荐策略2",strategyState:"1",createTime:"2017-11-21 02:11:00",cycle:2,executeState:1,endTime:"2017-11-05 02:11:00",dataCount:123456,updateTimes:5},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"aed1809bf94c472496ba5029a168901f",strategyName:"存量用户推荐策略7",strategyState:"3",createTime:"2017-11-21 02:11:00",cycle:1,executeState:1,endTime:null,dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"67a7036910d04079b13bced276473727",strategyName:"存量用户推荐策略6",strategyState:"2",createTime:"2017-11-21 02:11:00",cycle:1,executeState:1,endTime:null,dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"1f6ac43d273747028859539869013bd2",strategyName:"存量用户推荐策略3",strategyState:"1",createTime:"2017-11-21 02:11:00",cycle:1,executeState:1,endTime:null,dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"a90cd04b9b124caf83afd78d8e26509c",strategyName:"存量用户推荐策略4",strategyState:"2",createTime:"2017-11-21 02:11:00",cycle:1,executeState:1,endTime:null,dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"212f45ab93964040b866665296f70784",strategyName:"存量用户推荐策略8",strategyState:"3",createTime:"2017-11-21 02:11:00",cycle:2,executeState:1,endTime:null,dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"faf3dbe47ffd4cda8931fcba77264eb7",strategyName:"存量用户推荐策略5",strategyState:"2",createTime:"2017-11-21 02:11:00",cycle:2,executeState:1,endTime:null,dataCount:null,updateTimes:0},{busiCode:"4c1105f55fde46f38d4f33c1c4793c32",strategyId:"d4dfc1b368244544be7fd2be425ba53c",strategyName:"存量用户推荐策略9",strategyState:"3",createTime:"2017-11-21 02:11:00",cycle:1,executeState:1,endTime:null,dataCount:null,updateTimes:0}]}),n.mock(/\/irec\/strategies\/\w+/,{success:!0,message:"",data:{strategyId:"f646b62434364e138472a4c8a33b2d09",strategyName:"咪咕视频推荐策略测试",strategyConf:'{"nodes":[{"id":"100","alias":"","desc":"","conf":{"fields":[{"fieldDesc":"入网时长","fieldName":"TIMELONG"},{"fieldDesc":"电话号码","fieldName":"PHONE"},{"fieldDesc":"入网时间","fieldName":"DATETIME"}],"cond_exp":{"and":[]}},"coordinate":{"x":326,"y":249},"status":11,"modelId":"639029f9cc6941c49261b1981a0054ea","type":1,"txt":"用户视频分类偏好","icon":"icon-shujumoxing-"},{"id":"105","alias":"测试结果","desc":"","conf":{"cal_type":"join","join_type":"INNER","join_fields":[[{"364":"PHONE"},{"100":"PHONE"},{"1022":"PHONE"}]],"fields":[{"nodeId":"364","fieldDesc":"入网时长","fieldName":"TIMELONG"},{"nodeId":"364","fieldDesc":"电话号码","fieldName":"PHONE"},{"nodeId":"364","fieldDesc":"入网时间","fieldName":"DATETIME"},{"nodeId":"364","fieldDesc":"入网时长","fieldName":"TIMELONG"},{"nodeId":"364","fieldDesc":"电话号码","fieldName":"PHONE"},{"nodeId":"364","fieldDesc":"入网时间","fieldName":"DATETIME"},{"nodeId":"100","fieldDesc":"入网时长","fieldName":"TIMELONG"},{"nodeId":"100","fieldDesc":"电话号码","fieldName":"PHONE"},{"nodeId":"100","fieldDesc":"入网时间","fieldName":"DATETIME"},{"nodeId":"1022","fieldDesc":"电话号码","fieldName":"PHONE"},{"nodeId":"1022","fieldDesc":"入网时长","fieldName":"TIMELONG"},{"nodeId":"1022","fieldDesc":"入网时间","fieldName":"DATETIME"}]},"coordinate":{"x":566,"y":239},"status":11,"type":999,"txt":"关联","calcType":"join","icon":"icon-guanlian"},{"id":"354","alias":"","desc":"","conf":{"fields":[{"fieldDesc":"入网时长","fieldName":"TIMELONG"},{"fieldDesc":"电话号码","fieldName":"PHONE"},{"fieldDesc":"入网时间","fieldName":"DATETIME"}],"cond_exp":{"and":[{">":["TIMELONG","222"]},{">":["PHONE","333"]}]}},"coordinate":{"x":54,"y":78},"status":11,"modelId":"61c1b7c205b944189cd242640743254c","type":1,"txt":"咪咕存量用户","icon":"icon-shujumoxing-"},{"id":"359","alias":"","desc":"","conf":{},"coordinate":{"x":62,"y":191},"status":11,"modelId":"639029f9cc6941c49261b1981a0054ea","type":1,"txt":"用户视频分类偏好","icon":"icon-shujumoxing-"},{"id":"364","alias":"个性化结果集","desc":"","conf":{"cal_type":"join","join_type":"INNER","join_fields":[[{"354":"PHONE"},{"359":"PHONE"}]],"fields":[{"nodeId":"354","fieldDesc":"入网时长","fieldName":"TIMELONG"},{"nodeId":"354","fieldDesc":"电话号码","fieldName":"PHONE"},{"nodeId":"354","fieldDesc":"入网时间","fieldName":"DATETIME"},{"nodeId":"359","fieldDesc":"入网时长","fieldName":"TIMELONG"},{"nodeId":"359","fieldDesc":"电话号码","fieldName":"PHONE"},{"nodeId":"359","fieldDesc":"入网时间","fieldName":"DATETIME"}]},"coordinate":{"x":322,"y":118},"status":11,"type":99,"txt":"关联","calcType":"join","icon":"icon-guanlian"},{"id":"1022","alias":"","desc":"","conf":{"fields":[{"fieldDesc":"电话号码","fieldName":"PHONE"},{"fieldDesc":"入网时长","fieldName":"TIMELONG"},{"fieldDesc":"入网时间","fieldName":"DATETIME"}]},"coordinate":{"x":326,"y":366},"status":11,"modelId":"b16e27014b4448198c7b06b330d6b1d5","type":1,"txt":"物品关联列表","icon":"icon-shujumoxing-"}],"connectors":[{"id":"110","from":"364","to":"105"},{"id":"112","from":"100","to":"105"},{"id":"379","from":"354","to":"364"},{"id":"381","from":"359","to":"364"},{"id":"1027","from":"1022","to":"105"}]}',strategyDesc:null,cycle:1,path:null,strategyState:1,executeState:null,busiCode:"4c1105f55fde46f38d4f33c1c4793c32",state:1,creater:null,createTime:"2017-12-13 08:12:00",modifier:null,modifyTime:"2017-12-13 08:12:00",nodeList:[{nodeId:"100",nodeName:"用户视频分类偏好",nodeDesc:"",nodeType:1,nodeObject:"639029f9cc6941c49261b1981a0054ea",nodeConf:'{"fields":[{"fieldDesc":"入网时长","fieldName":"TIMELONG"},{"fieldDesc":"电话号码","fieldName":"PHONE"},{"fieldDesc":"入网时间","fieldName":"DATETIME"}],"cond_exp":{"and":[]}}',invokeIndex:5},{nodeId:"1022",nodeName:"物品关联列表",nodeDesc:"",nodeType:1,nodeObject:"b16e27014b4448198c7b06b330d6b1d5",nodeConf:'{"fields":[{"fieldDesc":"电话号码","fieldName":"PHONE"},{"fieldDesc":"入网时长","fieldName":"TIMELONG"},{"fieldDesc":"入网时间","fieldName":"DATETIME"}]}',invokeIndex:6},{nodeId:"105",nodeName:"关联",nodeDesc:"",nodeType:999,nodeObject:null,nodeConf:'{"cal_type":"join","join_type":"INNER","join_fields":[[{"364":"PHONE"},{"100":"PHONE"},{"1022":"PHONE"}]],"fields":[{"nodeId":"364","fieldDesc":"入网时长","fieldName":"TIMELONG"},{"nodeId":"364","fieldDesc":"电话号码","fieldName":"PHONE"},{"nodeId":"364","fieldDesc":"入网时间","fieldName":"DATETIME"},{"nodeId":"364","fieldDesc":"入网时长","fieldName":"TIMELONG"},{"nodeId":"364","fieldDesc":"电话号码","fieldName":"PHONE"},{"nodeId":"364","fieldDesc":"入网时间","fieldName":"DATETIME"},{"nodeId":"100","fieldDesc":"入网时长","fieldName":"TIMELONG"},{"nodeId":"100","fieldDesc":"电话号码","fieldName":"PHONE"},{"nodeId":"100","fieldDesc":"入网时间","fieldName":"DATETIME"},{"nodeId":"1022","fieldDesc":"电话号码","fieldName":"PHONE"},{"nodeId":"1022","fieldDesc":"入网时长","fieldName":"TIMELONG"},{"nodeId":"1022","fieldDesc":"入网时间","fieldName":"DATETIME"}]}',invokeIndex:1},{nodeId:"354",nodeName:"咪咕存量用户",nodeDesc:"",nodeType:1,nodeObject:"61c1b7c205b944189cd242640743254c",nodeConf:'{"fields":[{"fieldDesc":"入网时长","fieldName":"TIMELONG"},{"fieldDesc":"电话号码","fieldName":"PHONE"},{"fieldDesc":"入网时间","fieldName":"DATETIME"}],"cond_exp":{"and":[{">":["TIMELONG","222"]},{">":["PHONE","333"]}]}}',invokeIndex:3},{nodeId:"359",nodeName:"用户视频分类偏好",nodeDesc:"",nodeType:1,nodeObject:"639029f9cc6941c49261b1981a0054ea",nodeConf:"{}",invokeIndex:4},{nodeId:"364",nodeName:"关联",nodeDesc:"",nodeType:99,nodeObject:null,nodeConf:'{"cal_type":"join","join_type":"INNER","join_fields":[[{"354":"PHONE"},{"359":"PHONE"}]],"fields":[{"nodeId":"354","fieldDesc":"入网时长","fieldName":"TIMELONG"},{"nodeId":"354","fieldDesc":"电话号码","fieldName":"PHONE"},{"nodeId":"354","fieldDesc":"入网时间","fieldName":"DATETIME"},{"nodeId":"359","fieldDesc":"入网时长","fieldName":"TIMELONG"},{"nodeId":"359","fieldDesc":"电话号码","fieldName":"PHONE"},{"nodeId":"359","fieldDesc":"入网时间","fieldName":"DATETIME"}]}',invokeIndex:2}]}}),n.mock(/\/irec\/strategies\/\w+\/history/,{success:!0,message:"",data:[{logId:"1",endTime:"2017-10-15",dataCount:"105",dealState:"1"},{logId:"2",endTime:"2017-10-16",dataCount:"95",dealState:"1"},{logId:"3",endTime:"2017-10-17",dataCount:"85",dealState:"1"},{logId:"4",endTime:"2017-10-25",dataCount:"75",dealState:"1"}]}),n.mock(/\/irec\/strategies\/\w+\/modelState/,{success:!0,message:"",data:[]})},bHox:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="ui-mind-map ui-next-content">\n\t<form class="form-horizontal">\n\t  <div class="form-group">\n\t\t<label for="strategyName" class="col-sm-4 control-label">策略名称：</label>\n\t\t<div class="col-sm-6">\n\t\t\t<input type="text" class="form-control" id="strategyName" name="strategyName"  placeholder="策略名称" value="'+(null==(__t=data.strategyName||"")?"":__t)+'">\n\t\t\t<span class="help-block hidden"></span>\n\t\t</div>\n\t  </div>\n\t  <div class="ui-form-line"></div>\n\t  <div class="form-group">\n\t\t<label for="cycle1" class="col-sm-4 control-label">更新周期：</label>\n\t\t<div class="col-sm-6" style="margin-top: -25px;">\n\t\t  <p class="mt30">\n\t\t\t  <input type="radio" id="cycle1" name="cycle"  '+(null==(__t=data.cycle&&"1"!=data.cycle?"":"checked")?"":__t)+'/>\n\t\t\t  <label for="cycle1"><span>最小周期列表：</span>一天一次</label>\n\t\t  </p>\n\t\t  <p class="mt10">\n\t\t\t  <input type="radio" id="cycle2" name="cycle" '+(null==(__t="2"==data.cycle?"checked":"")?"":__t)+'  />\n\t\t\t  <label for="cycle2"><span>最大周期列表：</span>一周一次</label></p>\n\t\t</div>\n\t  </div>\n\t</form>\n</div>\n';return __p}},"cLf+":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="container-fluid ui-main ui-main-box clearfix">\n\t<div class="fleft ui-tactics-manage-menu"  id="strategyLefDiv">\n\n\t</div>\n\t<div class="fleft ui-tactics-manage-content" id="strategyDiv">\n\t\t<div id="strategyQueryDiv">\n\n\t\t</div>\n\t\t<div class="ui-tactics-list clearfix" id="strategyDataDiv">\n\n\t\t</div>\n\t</div>\n</div>\n';return __p}},eV6Y:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){"view"==viewType&&(__p+='\n<div class="ui-input-node ui-tactics-item clearfix ui-field" style="border-bottom: 0px;">\n\t<span class="fleft" style="width: 39%;">字段名</span>\n\t<span class="fleft" style="width: 20%;float: left;">运算符</span>\n\t<span class="fleft" style="width: 30%;float: right;">内容</span>\n</div>\n<table class="table table-striped ui-table-cell">\n'),__p+="\n";var operations=[">","<","="];cond_exps!=undefined?(_.each(cond_exps.and,function(t){for(var e in t)__p+='\n\t\t\t<div class="filter-item">\n\t\t\t\t',"view"!=viewType?(__p+='\n\t\t\t\t\t<select class="filter-field">\n\t\t\t\t\t\t',_.each(datas,function(i){__p+="\n\t\t\t\t\t\t\t",i.fieldName==t[e][0]?__p+='\n\t\t\t\t\t\t\t\t<option value ="'+(null==(__t=i.fieldName)?"":__t)+'"  selected="selected">'+(null==(__t=i.fieldDesc)?"":__t)+"</option>\n\t\t\t\t\t\t\t":__p+='\n\t\t\t\t\t\t\t\t<option value ="'+(null==(__t=i.fieldName)?"":__t)+'">'+(null==(__t=i.fieldDesc)?"":__t)+"</option>\n\t\t\t\t\t\t\t",__p+="\n\t\t\t\t\t\t"}),__p+='\n\t\t\t\t\t</select>\n\t\t\t\t\t<select class="filter-operate">\n\t\t\t\t\t\t',_.each(operations,function(t){__p+="\n\t\t\t\t\t\t\t",__p+=t==e?'\n\t\t\t\t\t\t\t\t<option value ="'+(null==(__t=t)?"":__t)+'"  selected="selected">'+(null==(__t=t)?"":__t)+"</option>\n\t\t\t\t\t\t\t":'\n\t\t\t\t\t\t\t\t<option value ="'+(null==(__t=t)?"":__t)+'" >'+(null==(__t=t)?"":__t)+"</option>\n\t\t\t\t\t\t\t",__p+="\n\t\t\t\t\t\t"}),__p+='\n\t\t\t\t\t</select>\n\t\t\t\t\t<input type="text" class="filter-input" value="'+(null==(__t=t[e][1])?"":__t)+'">\n\t\t\t\t\t<i  class="iconfont icon-error filter-delete"   title="删除"></i>\n\t\t\t\t'):__p+='\n\t\t\t\t\t  <tr>\n\t\t\t\t\t\t<td class="text-center first" style="width: 30%;">'+(null==(__t=t[e][0])?"":__t)+'</td>\n\t\t\t\t\t\t<td class="text-center first" style="width: 20%;">'+(null==(__t=e)?"":__t)+'</td>\n\t\t\t\t\t\t<td class="text-center first" style="width: 30%;">'+(null==(__t=t[e][1])?"":__t)+"</td>\n\t\t\t\t\t  </tr>\n\t\t\t\t",__p+="\n\t\t\t</div>\n\t"}),"view"==viewType&&(__p+="\n\t\t</table>\n\t")):(__p+='\n\t<div class="filter-item">\n\t\t<select class="filter-field">\n\t\t\t',_.each(datas,function(t){__p+='\n\t\t\t\t<option value ="'+(null==(__t=t.fieldName)?"":__t)+'">'+(null==(__t=t.fieldDesc)?"":__t)+"</option>\n\t\t\t"}),__p+='\n\t\t</select>\n\t\t<select class="filter-operate">\n\t\t  ',_.each(operations,function(t){__p+='\n\t\t\t<option value ="'+(null==(__t=t)?"":__t)+'" >'+(null==(__t=t)?"":__t)+"</option>\n\t\t  "}),__p+='\n\t\t</select>\n\t\t<input type="text" class="filter-input">\n\t\t<i  class="iconfont icon-error filter-delete"  title="删除"></i>\n\t</div>\n'),__p+="\n"}return __p}}).call(exports,__webpack_require__("rdLu"))},euKX:function(t,e,i){"use strict";var n=i("aGLy"),o=i("rdLu"),a=n.Model.extend({defaults:function(){return{id:o.uniqueId(),alias:"",desc:"",conf:{},coordinate:{x:0,y:0},status:0}},initialize:function(){0===this.get("status")&&(this.get("type")===a.NODE_TYPE.MODEL?this.set("status",a.NODE_STATUS.CONF_YES,{silent:!0}):this.set("status",a.NODE_STATUS.CONF_NOT,{silent:!0}))},isCalcNode:function(){return this.get("type").toString()===a.NODE_TYPE.OUTPUT.toString()||this.get("type").toString()===a.NODE_TYPE.FINAL_OUTPUT.toString()},isModelNode:function(){return this.get("type").toString()===a.NODE_TYPE.MODEL.toString()},isUserNode:function(){return this.get("type").toString()===a.NODE_TYPE.USER_GROUP.toString()},isItemNode:function(){return this.get("type").toString()===a.NODE_TYPE.ITEM.toString()},isLabelNode:function(){return this.get("type").toString()===a.NODE_TYPE.LABEL.toString()},isStrategyNode:function(){return this.get("type").toString()===a.NODE_TYPE.STRATEGY.toString()},isRuleNode:function(){return this.get("type").toString()===a.NODE_TYPE.RULE.toString()},isSqlNode:function(){return this.get("type").toString()===a.NODE_TYPE.SQL.toString()},isImportNode:function(){return this.get("type").toString()===a.NODE_TYPE.IMPORT.toString()},isFinalNode:function(){return this.get("type").toString()===a.NODE_TYPE.FINAL_OUTPUT.toString()},asFinalNode:function(){this.set("type",a.NODE_TYPE.FINAL_OUTPUT)},cancelAsFinalNode:function(){this.set("type",a.NODE_TYPE.OUTPUT)},setStatus:function(t){var e=arguments.length>1&&arguments[1]!==undefined&&arguments[1];this.set("status",t,{silent:e})},clearConfig:function(){this.get("type")!==a.NODE_TYPE.MODEL&&this.setStatus(a.NODE_STATUS.CONF_NOT),this.set("conf",{})},getOutputFields:function(){var t=this.get("conf");return t&&(t.fields||[])},getModelNodeConfigParams:function(){return{modelId:this.get("modelId")}},getCalcNodeConfigParams:function(t,e){var i=e.getFromNodesByNodeId(this.id);return i&&i.length>0?o.reduce(i,function(e,i){var n=t.get(i);if(!n)return void console.error("数据节点"+i+"不存在");var o={node_id:n.id,node_name:n.getName()};return n.isModelNode()?(o.modelId=n.get("modelId"),o.fields=n.getOutputFields()||[]):n.isCalcNode()?o.fields=n.getOutputFields():console.error("此节点类型["+this.get("type")+"]尚未实现"),e.push(o),e},[]):(console.error("操作节点不存在，或操作节点无输入节点连接!"),[])},getConfigParams:function(t,e){var i=void 0;return i=this.get("type")===a.NODE_TYPE.MODEL?this.getModelNodeConfigParams():this.isCalcNode()?this.getCalcNodeConfigParams(t,e):{},{params:i,conf:this.get("conf")}},getName:function(){return this.get("txt")},validate:function(t){}});a.NODE_STATUS={CONF_NOT:10,CONF_YES:11,CONF_ERROR:-10,PROCESS_WAIT:20,PROCESSING:21,PROCESS_FAILURE:-20,PROCESS_SUCCESS:22},a.NODE_TYPE={MODEL:1,USER_GROUP:2,ITEM:3,LABEL:4,STRATEGY:5,RULE:6,SQL:7,IMPORT:8,OUTPUT:99,FINAL_OUTPUT:999},a.getNodeTypeCode=function(t){return o.invert(a.NODE_TYPE)[parseInt(t)]},t.exports=a},evK5:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<ul class="ui-tactics-manage-type">\n',_.each(datas,function(t){__p+="\n\t",t.selected?__p+='\n\t\t<li class="active" data-value="'+(null==(__t=t.busiCode)?"":__t)+'">\n\t\t\t<i class="'+(null==(__t=t.busiIcon)?"":__t)+'"></i>\n\t\t\t<span>'+(null==(__t=t.busiName)?"":__t)+(null==(__t=t.count)?"":__t)+"</span>\n\t\t</li>\n\t":__p+='\n\t\t<li data-value="'+(null==(__t=t.busiCode)?"":__t)+'">\n\t\t\t<i class="'+(null==(__t=t.busiIcon)?"":__t)+'"></i>\n\t\t\t<span>'+(null==(__t=t.busiName)?"":__t)+(null==(__t=t.count)?"":__t)+"</span>\n\t\t</li>\n"}),__p+="\n</ul>\n\n";return __p}}).call(exports,__webpack_require__("rdLu"))},fWFK:function(t,e,i){"use strict";var n=i("aGLy"),o=i("WqAD"),a=n.Collection.extend({model:o,url:"businesses/count"});t.exports=a},fyoS:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<ul class="diagram-menu">\n\t',_.each(menus,function(t){__p+="\n\t",t.type&&"separator"===t.type?__p+='\n\t<li class="separator"></li>\n\t':__p+='\n\t<li data-action="'+(null==(__t=t.handler)?"":__t)+'">\n\t\t<i class="iconfont '+(null==(__t=t.icon)?"":__t)+'"></i>\n\t\t<span>'+(null==(__t=t.name)?"":__t)+"</span>\n\t</li>\n\t",__p+="\n\t"}),__p+="\n</ul>";return __p}}).call(exports,__webpack_require__("rdLu"))},gPQY:function(t,e,i){"use strict";var n=i("aGLy"),o=i("7t+N"),a=i("rdLu"),s=(a.extend({},n.Events),n.View.extend({events:{"click li":"clickRecedType"},template:i("evK5"),initialize:function(t){a.extend(this,t),this.collection.length>0&&null==this.busiCode?this.collection.get(this.collection.toJSON()[0].busiCode).updateSelected(!0):this.collection.get(this.busiCode).updateSelected(!0),this.listenTo(this.collection,"add",this.renderView()),this.listenTo(this.collection,"change",this.renderView)},render:function(){return this},renderView:function(){this.$el.html(this.template({datas:this.collection.toJSON()}))},clickRecedType:function(t){for(var e=o(t.currentTarget).attr("data-value"),i=0;i<this.collection.length;i++)this.collection.get(this.collection.models[i].id).updateSelected(!1);this.collection.get(e).updateSelected(!0),n.trigger("clickRecedType",e)},destroy:function(){this.undelegateEvents(),this.stopListening()}}));t.exports=s},gY3Z:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="modal-dialog" role="document" style="width:500px;">\n\t<div class="modal-content">\n\t\t<div class="modal-header">\n\t\t\t<h4 class="modal-title">请选择营销推荐业务</h4>\n\t\t</div>\n\t\t<div class="modal-body">\n\t\t\t',_.each(datas,function(t,e){__p+="\n\t\t\t",e%4==0&&(__p+='\n\t\t\t<div class="row busi-item-row" >\n\t\t\t'),__p+='\n\t\t\t\t<div class="col-md-3">\n\t\t\t\t\t<div class="busi-item-box" data-id="'+(null==(__t=t.busiCode)?"":__t)+'">\n\t\t\t\t\t\t<div class="busi-item-icon">\n\t\t\t\t\t\t\t<i  class="iconfont '+(null==(__t=t.busiIcon)?"":__t)+'"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="busi-item-txt">\n\t\t\t\t\t\t\t'+(null==(__t=t.busiName)?"":__t)+'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="item-mask">\n\t\t\t\t\t\t\t<p>'+(null==(__t=t.busiDesc||t.busiName)?"":__t)+'</p>\n\t\t\t\t\t\t\t<a class="btn btn-default btn-primary btn-sm" data-action="selectBusi" role="button">创建</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',e%4==3&&(__p+="\n\t\t\t</div>\n\t\t\t"),__p+="\n\t\t\t"}),__p+="\n\t\t</div>\n\t</div>\n</div>";return __p}}).call(exports,__webpack_require__("rdLu"))},h2Q7:function(t,e,i){"use strict";var n=i("aGLy"),o=i("rdLu"),a=i("u6y5"),s=i("Fe6q");i("qb6w"),i("67t3"),i("1dB9");var l=n.View.extend({template:i("85QJ"),selector:{CONTENT:".irec-content"},initialize:function(){this.$el.prepend(this.template()),this.navMenu=new s,this.$el.find("#navMenu").append(this.navMenu.render().el),this.footer=new a({el:this.$el.find("#footer")}),this.currentView=null},loadContentView:function(t,e){null!==this.currentView&&o.isFunction(o.property("destroy")(this.currentView))&&this.currentView.destroy();var i={el:this.$(this.selector.CONTENT)};this.$(this.selector.CONTENT).empty(),t&&t.prototype instanceof n.View&&(o.extend(i,e),this.currentView=new t(i),this.currentView.render())}});t.exports=l},hvIA:function(t,e,i){"use strict";var n=i("aGLy"),o=(i("7t+N"),i("h2Q7")),a=i("q22K"),s=i("pwsA"),l=i("VEcT"),d=i("kE97"),r=n.Router.extend({initialize:function(){this.mainView=new o({el:"body"}),this.on("route",function(t){n.trigger("irec.navMenu",t)})},routes:{"":"index","strategies/manage":"list_strategies","strategies/manage/:id":"list_strategies","businesses/strategies":"monitor_strategies","businesses/:id/strategies":"monitor_strategies","strategie/view/:id":"view_strategy","strategies/create/:busiCode":"create_strategy","strategies/create":"create_strategy","strategies/edit/:id":"edit_strategy","models/manage":"model_manage","data/manage":"data_manage","system/manage":"sys_manage"},list_strategies:function(t){this.mainView.loadContentView(s,{el:"#container",busiCode:t})},index:function(){this.mainView.render()},create_strategy:function(t){this.mainView.loadContentView(a,{busiCode:t||null})},edit_strategy:function(t){this.mainView.loadContentView(a,{el:"#container",strategyId:t})},view_strategy:function(t){this.mainView.loadContentView(l,{el:"#container",strategieId:t})},model_manage:function(){d.alert("模型管理功能尚未实现!"),this.mainView.loadContentView(null,{el:"#container"})},data_manage:function(){d.alert("数据管理功能尚未实现!"),this.mainView.loadContentView(null,{el:"#container"})},sys_manage:function(){d.alert("系统管理功能尚未实现!"),this.mainView.loadContentView(null,{el:"#container"})}});t.exports=r},i9yh:function(t,e,i){"use strict";var n=i("aGLy"),o=n.Model.extend({defaults:{}});t.exports=o},iIyS:function(t,e,i){"use strict";var n=i("aGLy"),o=i("7t+N"),a=i("rdLu"),s=i("UpkV"),l=i("kE97"),d="",r="",c=n.View.extend({events:{"click .enumKey":"clickState",'click [data-action="view"]':"viewDetail","click .dropdown-menu > li[data-action]":"clickMgr","click #searchAll":"clickSearchAll","keypress #strategyName ":"blur","click #creationStrategy":"creationStrategy"},initialize:function(t){this.collection=new s,a.extend(this,t),this.$el.find("#strategyQueryDiv").html(i("JMxK")),this.renderView(),n.on("clickRecedType",this.getRecedType,this)},getRecedType:function(t){this.busiCode=t,this.renderView()},creationStrategy:function(){n.history.navigate("strategies/create/"+this.busiCode,{trigger:!0})},viewDetail:function(t){var e=o(t.target).closest(".strategy-item").attr("data-id");n.history.navigate("strategie/view/"+e,{trigger:!0})},clickMgr:function(t){var e=o(t.target),i=e.closest(".strategy-item").attr("data-id"),a=e.attr("data-action"),s=this,d="/irec/strategies/"+i+"/action/";"suspend"===a?l.confirm("是否暂停此策略？","将执行策略暂停操作!",function(){d+="suspend",s.handleStrategy(d,e.text(),"PUT")}):"continue"===a?l.confirm("是否暂继续策略？","将执行策略继续操作!",function(){d+="continue",s.handleStrategy(d,e.text(),"PUT")}):"stop"===a?l.confirm("是否暂停止策略？","将执行策略停止操作!",function(){d+="stop",s.handleStrategy(d,e.text(),"PUT")}):"update"===a?n.history.navigate("strategies/edit/"+i,{trigger:!0}):"delete"===a&&(d="/irec/strategies/"+i,l.confirm("是否删除策略？","将执行策略删除操作!",function(){s.handleStrategy(d,e.text(),"delete")}))},handleStrategy:function(t,e,i){var n=this;o.ajax({url:t,dataType:"json",type:i,success:function(t){n.renderView(),l.success(e+"操作成功！")},error:function(){l.error(e+"操作出错！")}})},blur:function(t){var e=this;o("#strategyName").keypress(function(t){13==t.which&&(r=o("#strategyName").val(),t.which=0,e.renderStrategy(e.busiCode))})},clickSearchAll:function(t){r=o("#strategyName").val(),this.renderStrategy(this.busiCode)},clickState:function(t){var e=o(t.target);e.hasClass("active")?(d="",e.removeClass("active")):(d=e.attr("enumKey"),e.addClass("active").siblings().removeClass("active")),this.renderStrategy(this.busiCode)},render:function(){return this},renderStrategy:function(t){var e=this,i="businesses/"+t+"/strategies?strategyState="+d+"&strategyName="+r;this.collection.fetch({url:i,success:function(i,n){e.renderStrategyView(i,t)},error:function(t,e){alert("加载策略失败！")}})},renderStrategyView:function(t,e){this.$el.find("#strategyDataDiv").html(i("IdGR")({datas:t.toJSON(),enumData:this.strategyStateEnum}))},renderStateView:function(t){for(var e=this,n=0;n<this.strategyStateEnum.length;n++){this.strategyStateEnum[n].count=0;for(var o=0;o<t.data.length;o++)if(t.data[o].strategyState==this.strategyStateEnum[n].enumKey){this.strategyStateEnum[n].count=t.data[o].count;break}}this.$el.find("#statusContent").html(i("rlNS")({datas:e.strategyStateEnum}))},renderState:function(t){var e=this;o.ajax({url:"/irec/businesses/"+t+"/strategies/strategyState/count",dataType:"json",type:"GET",success:function(t){e.renderStateView(t)},error:function(){alert("加载策略状态数量出错！")}})},renderView:function(){d="",r="",this.recommendTypeCollection.length>0&&(this.busiCode!=undefined&&null!=this.busiCode||this.getRecommendTypeId(this.recommendTypeCollection.toJSON()),this.renderState(this.busiCode),this.renderStrategy(this.busiCode))},getRecommendTypeId:function(t){for(var e=0;e<t.length;e++)t[e].selected&&(this.busiCode=t[e].busiCode)},destroy:function(){this.undelegateEvents(),this.stopListening()}});t.exports=c},kE97:function(t,e,i){"use strict";(function(e){var n=i("rdLu"),o=i("XqRw"),a=i("LW5F"),s=i("p2hu"),l=i("2uJk");t.exports={confirm:function(t,e,i,a,l,d){new o({title:"操作确认",showCloseButton:!1,showHeader:!1,content:s({title:t,content:e}),backdrop:!1,width:500,buttons:[{id:"ok",name:l||"确定",handler:function(){this.close(),n.isFunction(i)&&i.call()},primary:!0},{id:"cancel",name:d||"取消",handler:function(){this.close(),n.isFunction(a)&&a.call()},primary:!1}]}).render().open()},alert:function(t,e,i){new o({showCloseButton:!1,showHeader:!1,content:l({title:t,content:e}),backdrop:!1,width:500,buttons:[{id:"ok",name:"确定",handler:function(){this.close(),n.isFunction(i)&&i.call()},primary:!0}]}).render().open()},warn:function(t,e){this.message(null,a.TYPES.WARN,t,e)},info:function(t,e){this.message(null,a.TYPES.INFO,t,e)},success:function(t,e){this.message(null,a.TYPES.SUCCESS,t,e)},error:function(t,e){this.message(null,a.TYPES.ERROR,t,e)},message:function(t,i,n,o){t=t||e(".irec-content"),o=o||3,new a({type:i,message:n,duration:o}).render(t).show()}}}).call(e,i("7t+N"))},lVK7:function(t,e,i){"use strict";var n=i("aGLy"),o=i("7t+N"),a=i("hvIA"),s=i("xdsZ");i("6OAF"),o(function(){window.Router=new a,s.setup(window),n.history.start({pushState:!0,root:""})})},lvMg:function(t,e,i){"use strict";var n=i("aGLy"),o=i("7t+N"),a=i("rdLu"),s=i("LQyq"),l=i("UL2X"),d=(i("kE97"),n.View.extend({events:{"click input:checkbox":"checkedField","click #addFilter":"addFilter","click .filter-delete":"deleteDiv"},template:i("9Mej"),initialize:function(t){a.extend(this,t),this.modelConfigModel=new s,this.renderView(),this.listenTo(this.modelConfigModel,"change",this.renderView),n.on("getModelConfig",this.getModelConfig,this)},deleteDiv:function(t){o(t.target).parent().fadeOut("fast",function(){o(this).remove()})},initializeFilter:function(t){this.fieldFilterView=new l({el:this.$(".filter-output"),field:this.modelConfigModel.toJSON().fieldList,cond_exps:t,viewType:this.viewType}),this.fieldFilterView.render()},addFilter:function(t){this.fieldFilterView=new l({el:this.$(".filter-output"),field:this.modelConfigModel.toJSON().fieldList}),this.fieldFilterView.render()},render:function(){return this},validateConfig:function(){var t=!0;return this.$("#modelFieldTable").css({border:""}),this.$("#modelFieldTable").attr("title",""),this.nodeData.conf!=undefined&&this.nodeData.conf.fields!=undefined&&0==this.nodeData.conf.fields.length&&(this.$("#modelFieldTable").css({border:"2px solid red"}),this.$("#modelFieldTable").attr("title","请至少选择一个条件"),t=!1),this.$(".filter-output div input").each(function(){""==this.value||this.value==undefined?(o(this).css({border:"1px solid red"}),t=!1):o(this).css({border:""})}),t},getModelConfigData:function(){return this.fieldFilterView?(this.nodeData.conf.cond_exp=this.nodeData.conf.cond_exp||{},this.nodeData.conf.cond_exp.and=this.fieldFilterView.getFilterData(),this.fieldFilterView.destroy()):this.nodeData.conf.cond_exp={},this.nodeData.conf},initializeField:function(t){for(var e=[],i=0;i<t.fieldList.length;i++)e.push({fieldDesc:t.fieldList[i].fieldDesc,fieldName:t.fieldList[i].fieldName});this.nodeData.conf==undefined&&(this.nodeData.conf={}),this.nodeData.conf.fields=e},destroy:function(){this.undelegateEvents(),this.$el.off(),this.$el.empty()},checkedField:function(t){for(var e=t.currentTarget.dataset.value,i=t.currentTarget.dataset.desc,n=0;n<this.nodeData.conf.fields.length;n++)if(this.nodeData.conf.fields[n].fieldName==e)return void this.nodeData.conf.fields.splice(n,1);this.nodeData.conf.fields.push({fieldDesc:i,fieldName:e})},renderView:function(){var t=this;this.modelConfigModel.fetch({reset:!0,url:"/models/"+t.nodeData.params.modelId+"/fieldsAndLogs",success:function(e,i){t.nodeData.conf!=undefined&&t.nodeData.conf.fields!=undefined||t.initializeField(i.data),t.$el.html(t.template({datas:i.data,modelsName:t.modelsName,viewType:t.viewType,fields:t.nodeData.conf&&(t.nodeData.conf.fields||{})})),t.nodeData.conf!=undefined&&t.nodeData.conf.cond_exp!=undefined&&t.initializeFilter(t.nodeData.conf.cond_exp),t.validateConfig()},error:function(t,e){alert("加载节点信息失败!")}})}}));t.exports=d},mBmd:function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)model.type!==NODE_TYPE.OUTPUT&&model.type!==NODE_TYPE.FINAL_OUTPUT||(__p+='\n<div class="data-node-circle" data-toggle="diagram-context" data-id="'+(null==(__t=model.id)?"":__t)+'">\n\t<div class="data-node-txt" title="'+(null==(__t=model.txt)?"":__t)+'" data-id="'+(null==(__t=model.id)?"":__t)+'">\n\t\t<i class="iconfont '+(null==(__t=model.icon)?"":__t)+'"></i><span>'+(null==(__t=model.txt)?"":__t)+"</span>\n\t</div>\n</div>\n",model.type!==NODE_TYPE.FINAL_OUTPUT?__p+='\n<div class="data-node-input" title="双击修改中间结果名称">'+(null==(__t=""===model.alias?"双击修改中间结果名称":model.alias)?"":__t)+'</div>\n<div class="data-node-line"></div>\n':__p+='\n<div class="data-node-final">推荐结果</div>\n<div class="data-node-line line-final"></div>\n',__p+="\n"),__p+="\n",model.type!==NODE_TYPE.OUTPUT&&model.type!==NODE_TYPE.FINAL_OUTPUT&&(__p+='\n<div class="data-node-txt" title="'+(null==(__t=model.txt)?"":__t)+'" data-id="'+(null==(__t=model.id)?"":__t)+'">\n\t<i class="iconfont '+(null==(__t=model.icon)?"":__t)+'"></i><span>'+(null==(__t=model.txt)?"":__t)+"</span>\n</div>\n"),__p+="\n","horizontal"===layout&&model.type!==NODE_TYPE.FINAL_OUTPUT&&(__p+='\n<div class="node-port port-left"   data-id="'+(null==(__t=model.id)?"":__t)+'"></div>\n<div class="node-port port-right"  data-id="'+(null==(__t=model.id)?"":__t)+'"></div>\n'),__p+="\n","vertical"===layout&&model.type!==NODE_TYPE.FINAL_OUTPUT&&(__p+='\n<div class="node-port port-top"    data-id="'+(null==(__t=model.id)?"":__t)+'"></div>\n<div class="node-port port-bottom" data-id="'+(null==(__t=model.id)?"":__t)+'"></div>\n'),__p+='\n<div class="node-tips" title="双击添加备注说明">\n\t<div class="tips-content">'+(null==(__t=""===model.desc?"双击添加备注说明":model.desc)?"":__t)+'</div>\n\t<div class="tips-arrow"></div>\n</div>\n',model.status&&(__p+='\n<div class="status-icon">\n\t',model.status===NODE_STATUS.CONF_NOT&&(__p+='\n\t<i class="iconfont icon-gaojingpeizhi icon_error"></i>\n\t'),__p+="\n\t",model.status===NODE_STATUS.CONF_ERROR&&(__p+='\n\t<i class="iconfont icon-gaojingpeizhi icon_error"></i>\n\t'),__p+="\n\t",model.status===NODE_STATUS.CONF_YES&&(__p+='\n\t<i class="iconfont icon-yipeizhi icon_success"></i>\n\t'),__p+="\n\t",model.status===NODE_STATUS.PROCESS_WAIT&&(__p+='\n\t<i class="iconfont icon-dengdai icon_process"></i>\n\t'),__p+="\n\t",model.status===NODE_STATUS.PROCESSING&&(__p+='\n\t<i class="iconfont icon-zhihangzhong2 icon_process"></i>\n\t'),__p+="\n\t",model.status===NODE_STATUS.PROCESS_FAILURE&&(__p+='\n\t<i class="iconfont icon-shibai icon_error"></i>\n\t'),__p+="\n\t",model.status===NODE_STATUS.PROCESS_SUCCESS&&(__p+='\n\t<i class="iconfont icon-chenggong1 icon_success"></i>\n\t'),__p+="\n</div>\n"),__p+='\n\x3c!--\n<div class="node-setting" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">\n\t<i class="iconfont icon-shezhi"></i>\n</div>\n--\x3e\n\n';return __p}},"nwP+":function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="modal-dialog" role="document">\n\t<div class="modal-content">\n\t\t',showHeader&&(__p+='\n\t\t<div class="modal-header">\n\t\t\t<button type="button" class="close" data-dismiss="modal" aria-label="Close">\n\t\t\t\t<span aria-hidden="true">&times;</span>\n\t\t\t</button>\n\t\t\t<h4 class="modal-title">'+(null==(__t=title)?"":__t)+"</h4>\n\t\t</div>\n\t\t"),__p+='\n\t\t<div class="modal-body"></div>\n\t\t<div class="modal-footer">\n\t\t\t',showCloseButton&&(__p+='\n\t\t\t<a class="btn btn-default btn-primary pull-right"  role="button" data-dismiss="modal">关闭</a>\n\t\t\t'),__p+="\n\t\t\t",_.each(buttons,function(t){__p+='\n\t\t\t<a class="btn btn-default '+(null==(__t=!0===t.primary?"btn-primary":"")?"":__t)+' pull-right" data-id="'+(null==(__t=t.id)?"":__t)+'" role="button" >'+(null==(__t=t.name)?"":__t)+"</a>\n\t\t\t"}),__p+="\n\t\t</div>\n\t</div>\n</div>\n";return __p}}).call(exports,__webpack_require__("rdLu"))},o8y0:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div id = "titleDiv">\n\t<h4 class="ui-tactics-name clearfix">\n\t\t<a data-action="backRoute">&lt;返回</a>\n\t\t<span>'+(null==(__t=model.strategyName||"")?"":__t)+'</span>\n\t</h4>\n</div>\n<div class="ui-tactics-container">\n\t<div class="ui-tactics-info">\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<label>策略ID：</label>\n\t\t\t\t<span>'+(null==(__t=model.strategyId||"")?"":__t)+"</span>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<label>创建人：</label>\n\t\t\t\t<span>"+(null==(__t=model.creater||"")?"":__t)+"</span>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<label>创建时间：</label>\n\t\t\t\t<span>"+(null==(__t=model.createTime||"")?"":__t)+"</span>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<label>更新周期：</label>\n\t\t\t\t<span>"+(null==(__t=model.cycle||"")?"":__t)+'</span>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>\n<div class="ui-tactics-container">\n\t<h5>最近一次更新</h5>\n\t<div class="ui-tactics-info">\n\t\t<ul >\n\t\t\t<li>\n\t\t\t\t<label>更新时间：</label>\n\t\t\t\t<span>'+(null==(__t=model.modifyTime||"")?"":__t)+"</span>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<label>结果总数：</label>\n\t\t\t\t<span>50,025</span>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>";return __p}},"oP/2":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="message-'+(null==(__t=type)?"":__t)+'">\n\t<i class="iconfont '+(null==(__t=icon)?"":__t)+'" ></i>\n\t<span>'+(null==(__t=message)?"":__t)+"</span>\n</div>\n";return __p}},p2hu:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="modal-confirm">\n\t<i class="iconfont icon-bangzhu"></i>\n\t<span class="confirm-title">'+(null==(__t=title)?"":__t)+'</span>\n\t<div class="confirm-content">'+(null==(__t=content)?"":__t)+"</div>\n</div>";return __p}},pN6t:function(t,e,i){"use strict";var n=i("aGLy"),o=i("7t+N"),a=i("rdLu"),s=i("PSHn"),l=n.View.extend({template:i("ykGu"),events:{'click [data-action="download"]':"downloadList"},initialize:function(t){a.extend(this,t),this.model=new s;var e="strategies/"+this.strategieId+"/history";this.model.fetch({reset:!0,url:e}),this.listenTo(this.collection,"reset",this.render)},render:function(){return this.$el.html(this.template({data:this.model.toJSON()})),this},downloadList:function(t){var e=o(t.target);e.attr("data-id")},destroy:function(){this.stopListening(),this.undelegateEvents(),this.remove()}});t.exports=l},pwsA:function(t,e,i){"use strict";(function(e){var n=i("aGLy"),o=i("fWFK"),a=i("gPQY"),s=i("iIyS");i("442e"),i("Sh8O"),i("7nbV"),i("StaT");var l=i("rdLu"),d=n.View.extend({initialize:function(t){l.extend(this,t),this.recommendTypeCollection=new o,this.renderRecommendType(t)},template:i("cLf+"),renderRecommendType:function(t){this.$el.html(this.template());var e=this;this.recommendTypeCollection.reset(),this.recommendTypeCollection.fetch({reset:!0,success:function(t,i){e.recommendTypeView=new a({el:e.$el.find("#strategyLefDiv"),busiCode:e.busiCode,collection:e.recommendTypeCollection}),e.recommendTypeView.render(),e.renderStrategyMgr()},error:function(t,e){alert("加载业务失败！")}})},renderStrategyMgr:function(){var t=this;e.ajax({url:"/irec/enumDics/STRATEGY_STATE",dataType:"json",type:"GET",success:function(e){t.strategyMgrView=new s({el:t.$el.find("#strategyDiv"),busiCode:this.busiCode,recommendTypeCollection:t.recommendTypeCollection,strategyStateEnum:e.data}),t.strategyMgrView.render()},error:function(){alert("渲染策略列表前,加载策略状态出错！")}})},destroy:function(){this.undelegateEvents(),this.stopListening()}});t.exports=d}).call(e,i("7t+N"))},q22K:function(t,e,i){"use strict";var n=i("aGLy"),o=i("rdLu"),a=i("IMAn"),s=i("FfQT"),l=i("XqRw"),d=i("qWxm"),r=i("zaJj"),c=i("MFDE"),u=i("t61T"),h=i("M0mP"),f=i("kE97"),_=n.View.extend({template:i("r9M3"),events:{'click [data-action="save"]':"saveClick",'click [data-action="back"]':"backClick"},initialize:function(t){o.extend(this,t),this.$el.html(this.template()),this.diagram=new s,n.on("diagram-toolbar.fullScreen",o.bind(this._handleFullDiagram,this)),this.createModel=!this.strategyId,this.createModel?(this.model=new d({busiCode:this.busiCode}),this.renderDiagram(),this.busiCode||(this.BusiSelectorView=new c({onSelect:o.bind(function(t){this.nodeSelector.reload(t),this.model.set("busiCode",t,{silent:!0}),this.showDiagram(t)},this)}).render())):(this.model=new d({strategyId:this.strategyId}),this.listenToOnce(this.model,"change",this.renderDiagram),this.model.fetch())},renderDiagram:function(){this.renderNodeSelector(),this.$(".strategy-diagram").append(this.diagram.render().el),this.createModel?this.model.getBusiCode()&&this.showDiagram(this.model.getBusiCode()):this.diagram.show(this.model.get("strategyConf")||{})},showDiagram:function(t){if(window.localStorage){var e=window.localStorage.getItem("diagram.busicode"),i={nodes:u.getInstance().toJSON(),connectors:h.getInstance().toJSON()};t===e&&i.nodes.length>0?f.confirm("您有上次未提交保存的画布内容，是否恢复?","",o.bind(function(){window.localStorage.setItem("diagram.busicode",t),this.diagram.show(i,!0)},this),o.bind(function(){window.localStorage.clear(),window.localStorage.setItem("diagram.busicode",t),this.diagram.show(null,!0)},this)):(window.localStorage.clear(),window.localStorage.setItem("diagram.busicode",t),this.diagram.show(null,!0))}else this.diagram.show(null,!1)},renderNodeSelector:function(){this.nodeSelector=new a({el:this.$(".node-selector"),busiCode:this.model.getBusiCode(),$dropEl:this.$(".strategy-diagram"),diagram:this.diagram}).render(),this.selectorWidth=this.$(".node-selector").outerWidth()},render:function(){return this},backClick:function(){f.confirm("确定不保存此次操作？","返回策略管理界面!",function(){n.history.navigate("strategies/manage",{trigger:!0})})},saveClick:function(){if(!this.diagram.loaded)return void f.error("画布组件尚未渲染完毕，请稍后再点击操作!");var t=this.diagram.validateGrpah();!0!==t?this.diagram.highlightProblemNodes(t):this._saveStrategy()},_saveStrategy:function(){var t=this.diagram.getConfigJson();this.model.setDiagramConf(t||{},!0),new l({title:"编辑策略信息",showCloseButton:!1,view:new r({model:this.model}).render(),buttons:[{id:"saveExecute",name:"保存并开始执行",handler:o.bind(this.saveAndExecute,this)},{id:"save",name:"保存",handler:function(t){return function(){this.close(),t.save()}}(this)}]}).render().open()},save:function(){return!!this.model.isValid(!0)&&(f.confirm("确认保存","确定要"+(this.createModel?"创建":"修改")+"策略 [ "+this.model.getName()+" ] 么？",o.bind(function(){this.createModel||this.model.save(this.model.attributes,{patch:!0}).success(o.bind(this.saveSuccess,this)).error(o.bind(this.saveFailure,this)),this.model.save().success(o.bind(this.saveSuccess,this)).error(o.bind(this.saveFailure,this))},this)),!0)},saveSuccess:function(t){t.success?(f.success(t.message),n.history.navigate("strategie/view/"+this.model.id,{trigger:!0})):f.error(t.message),this.diagram.clearLocalStorage()},saveFailure:function(t){f.error("保存失败")},saveAndExecute:function(){},_handleFullDiagram:function(){var t=this.$(".node-selector");t.is(":hidden")?(t.show().animate({width:this.selectorWidth},"fast"),this.$(".strategy-diagram").animate({"margin-left":this.selectorWidth},"fast")):(t.hide().animate({width:0},"fast"),this.$(".strategy-diagram").animate({"margin-left":0},"fast"))},destroy:function(){n.off("diagram-toolbar.fullScreen"),this.undelegateEvents(),this.nodeSelector&&this.nodeSelector.destroy(),this.diagram&&this.diagram.destroy(),this.BusiSelectorView&&this.BusiSelectorView.destroy(),this.stopListening(),this.$el.empty()}});t.exports=_},qWxm:function(t,e,i){"use strict";var n=i("aGLy");i("6Ai3");var o=(i("rdLu"),n.Model.extend({defaults:{strategyName:null,cycle:1},idAttribute:"strategyId",validation:{strategyName:[{required:!0,msg:"请输入策略名称"},{maxLength:30,msg:"策略名称最大长度不超过30个字符"}]},getName:function(){return this.get("strategyName")||""},getBusiCode:function(){return this.get("busiCode")},url:function(){var t="/strategies";return this.isNew()?t:t+"/"+encodeURIComponent(this.id)},setDiagramConf:function(t,e){this.set("strategyConf",JSON.stringify(t),{silent:e||!1})}}));t.exports=o},qb6w:function(t,e){},r9M3:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="diagram-wrapper">\n\t<div class="node-selector"></div>\n\t<div class="strategy-diagram"></div>\n</div>\n<div class="diagram-buttons">\n\t<a class="btn btn-default btn-primary pull-right" data-action="save" role="button">保存</a>\n\t<a class="btn btn-default pull-right"  role="button" data-action="back" >返回</a>\n</div>';return __p}},rlNS:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)_.each(datas,function(t){__p+="\n\t";var e="";e={"错误":"btn btn-default ui-btn-error","执行中":"btn btn-default ui-btn-running","待执行":"btn btn-default ui-btn-editing","完成":"btn btn-default ui-btn-execution"}[t.enumValue],__p+='\n\t<a class="'+(null==(__t=e)?"":__t)+' enumKey"  enumKey="'+(null==(__t=t.enumKey)?"":__t)+'" href="javascript:;" role="button">\n\t\t'+(null==(__t=t.enumValue)?"":__t)+"\n\t\t"+(null==(__t=t.count)?"":__t)+"\n\t</a>\n"});return __p}}).call(exports,__webpack_require__("rdLu"))},t61T:function(t,e,i){"use strict";var n=i("aGLy"),o=i("rdLu"),a=i("euKX"),s=i("2yj7")("DATANODE_COLLECTION:"),l=n.Collection.extend({model:a,initialize:function(){},initSyncLocalStorageListen:function(){this.listenTo(this,"add",s.saveModelToLocalStorage),this.listenTo(this,"remove",s.delModelFromLocalStorage),this.listenTo(this,"change",s.saveModelToLocalStorage),this.listenTo(this,"reset",s.resetModelToLocalStorage)},getModelsByIdArray:function(t){return this.filter(function(e){return-1!==o.indexOf(t,e.id)})},existFinalNode:function(){return this.where({type:a.NODE_TYPE.FINAL_OUTPUT}).length>0},getUnConfigNode:function(){return o.union(o.pluck(this.where({status:a.NODE_STATUS.CONF_NOT}),"id"),o.pluck(this.where({status:a.NODE_STATUS.CONF_ERROR}),"id"))}});l.getInstance=function(){var t=new l;if(window.localStorage){var e=s.restoreFromLocalStorage();t.add(e,{silent:!0})}return t},t.exports=l},tEKr:function(t,e,i){"use strict";var n,o=i("aGLy"),a=(i("7t+N"),i("rdLu")),s=i("NXnP"),l=i("LQyq"),d=o.View.extend({events:{"click #addJoin":"addJoin"},template:i("RaMd"),initialize:function(t){a.extend(this,t),n=0,this.modelConfigModel=new l,this.renderView()},addJoin:function(){this.modelJoinFieldView=new s({nodeData:this.nodeData,viewType:this.viewType,joinItemDom:this.$el.find(".join-items")}),this.$(".join-items").append(this.modelJoinFieldView.render().el)},validateConfig:function(){return this.modelJoinFieldView!=undefined&&this.modelJoinFieldView.validateConfig()},initializeField:function(){for(var t=0;t<this.nodeData.conf.join_fields.length;t++)this.modelJoinFieldView=new s({params:this.nodeData.params,join_field:this.nodeData.conf.join_fields[t],viewType:this.viewType,joinItemDom:this.$el.find(".join-items")}),this.$(".join-items").append(this.modelJoinFieldView.render().el)},getModelConfigData:function(){var t={};return t.cal_type="join",t.join_type=this.$(".joinTypeSelect").val(),this.modelJoinFieldView&&(t.join_fields=this.modelJoinFieldView.getJoinFieldData()),t.fields=this.getOutputFields(),t},getOutputFields:function(){for(var t=[],e=0;e<this.nodeData.params.length;e++)for(var i=0;i<this.nodeData.params[e].fields.length;i++){var n={};n.nodeId=this.nodeData.params[e].node_id,n.fieldDesc=this.nodeData.params[e].fields[i].fieldDesc,n.fieldName=this.nodeData.params[e].fields[i].fieldName,t.push(n)}return t},destroy:function(){this.modelJoinFieldView&&this.modelJoinFieldView.destroy(),this.undelegateEvents(),this.$el.off(),this.$el.empty()},validateModelField:function(){var t=this;if(n==this.nodeData.params.length)return this.$el.html(this.template({viewType:this.viewType,nodeData:this.nodeData,modelsName:this.modelsName})),this.nodeData.conf!=undefined&&this.nodeData.conf.join_fields!=undefined&&this.initializeField(),void this.validateConfig();for(var e=0;e<t.nodeData.params.length;e++)t.modelConfigModel.fetch({url:"/models/"+t.nodeData.params[n].modelId+"/fieldsAndLogs",reset:!0,success:function(e,i){if(null!=i.data){if(t.nodeData.params.length!=n){if(t.nodeData.params[n].fields==undefined||""==t.nodeData.params[n].fields||0==t.nodeData.params[n].fields.length)for(var o=0;o<i.data.fieldList.length;o++)t.nodeData.params[n].fields.push({fieldDesc:i.data.fieldList[o].fieldDesc,fieldName:i.data.fieldList[o].fieldName});n++}}else n++;n>=t.nodeData.params.length&&t.validateModelField()},error:function(t,e){alert("关联模块加载模型信息失败")}})},renderView:function(){for(var t=!0,e=0;e<this.nodeData.params.length;e++)if(this.nodeData.params[e].fields.fields==undefined||""==this.nodeData.params[e].fields||0==this.nodeData.params[e].fields.length){t=!1;break}if(!t)return this.validateModelField();this.$el.html(this.template({viewType:this.viewType,nodeData:this.nodeData,modelsName:this.modelsName})),this.nodeData.conf!=undefined&&this.nodeData.conf.join_fields!=undefined&&this.initializeField()}});t.exports=d},u6y5:function(t,e,i){"use strict";var n=i("aGLy"),o=n.View.extend({template:i("uVyg"),initialize:function(){this.$el.html(this.template())}});t.exports=o},uVyg:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<p class="text-center footer-text">Copyright © 2017 Asiainfo All Rights Reserved.</p>\n';return __p}},v2Nc:function(t,e,i){"use strict";var n=i("aGLy"),o=n.Model.extend({defaults:{active:!1},active:function(){this.set("active",!0)}});t.exports=o},x2ZJ:function(t,e){},xdsZ:function(t,e,i){"use strict";var n=i("7t+N"),o=i("aGLy");t.exports={setup:function(t){n(t.document).on("click","a[href]:not([data-bypass])",function(e){var i={prop:n(this).prop("href"),attr:n(this).attr("href")},a=t.location.protocol+"//"+t.location.host+"/";i.prop.slice(0,a.length)===a&&(e.preventDefault(),o.history.navigate(i.attr,{trigger:!0,replace:!0}))})}}},xjDc:function(t,e,i){"use strict";(function(e){var n=i("aGLy"),o=i("rdLu");i("mXlc");var a=n.View.extend({className:"diagram-toolbar",template:i("IRzy"),events:{"click li":"_handleToolBarClick"},initialize:function(t){o.extend(this,t),this.scale=1,this.layout="horizontal"},render:function(){return this.$el.append(this.template({editModel:this.editModel})),this.$("li").tooltip({placement:"right",container:this.$el}),this},_handleToolBarClick:function(t){var i=e(t.currentTarget),n=i.attr("data-action");n&&this[n]&&o.isFunction(this[n])&&this[n].call(this,i)},getAllHandler:function(){return["zoom","revert","changeLayout","clearDiagram","showTips"]},zoomOut:function(){this.scale+=.1,this.scale=this.scale>=1.5?1.5:this.scale,n.trigger("diagram-toolbar.zoom",this.scale)},zoomIn:function(){this.scale-=.1,this.scale=this.scale<=.5?.5:this.scale,n.trigger("diagram-toolbar.zoom",this.scale)},revert:function(){n.trigger("diagram-toolbar.revert")},showComment:function(){},fullScreen:function(){n.trigger("diagram-toolbar.fullScreen")},layoutDir:function(t){"horizontal"===this.layout?(t.find("i").removeClass("icon-layout").addClass("icon-buju"),this.layout="vertical"):(t.find("i").removeClass("icon-buju").addClass("icon-layout"),this.layout="horizontal"),n.trigger("diagram-toolbar.changeLayout",this.layout)},clearDiagram:function(){n.trigger("diagram-toolbar.clearDiagram")},showTips:function(){n.trigger("diagram-toolbar.showTips")},destroy:function(){this.undelegateEvents(),this.stopListening(),this.$("li").tooltip("destroy"),this.$el.off(),this.remove()}});t.exports=a}).call(e,i("7t+N"))},xmkW:function(t,e,i){"use strict";var n=i("aGLy"),o=(i("7t+N"),i("rdLu")),a=i("i9yh"),s=n.View.extend({template:i("aFww"),initialize:function(t){o.extend(this,t),this.model=new a;var e="strategies/"+this.strategieId+"/modelState";this.model.fetch({reset:!0,url:e}),this.listenTo(this.collection,"reset",this.render)},render:function(){return this.$el.html(this.template({data:this.model.toJSON()})),this},destroy:function(){this.stopListening(),this.undelegateEvents(),this.remove()}});t.exports=s},ykGu:function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<h5 >历史推荐数据</h5>\n<div  class="container-table">\n\t<table class="common-table">\n\t\t<thead>\n\t\t<tr >\n\t\t\t<th style="width:5%;">序号</th>\n\t\t\t<th style="width:35%;">数据生成时间</th>\n\t\t\t<th style="width:35%;">数据量</th>\n\t\t\t<th style="width:20%;">操作</th>\n\t\t</tr>\n\t\t</thead>\n\t\t<tbody id="historyTbody">\n\t\t',_.each(data,function(t,e){__p+='\n\t\t<tr class="content-table-tr">\n\t\t\t<td class="text-center">'+(null==(__t=e++)?"":__t)+'</td>\n\t\t\t<td class="text-center">'+(null==(__t=t.endTime)?"":__t)+'</td>\n\t\t\t<td class="text-center">'+(null==(__t=t.dataCount)?"":__t)+'</td>\n\t\t\t<td class="status">\n\t\t\t<span>\n\t\t\t <span><a target="_blank" class="approve-tactics" data-action="download" data-id="'+(null==(__t=t.logId)?"":__t)+'">下载</a></span>\n\t\t\t</span>\n\t\t\t</td>\n\t\t</tr>\n\t\t'}),__p+="\n\t\t</tbody>\n\t</table>\n</div>\n";return __p}}).call(exports,__webpack_require__("rdLu"))},zaJj:function(t,e,i){"use strict";(function(e){var n=i("aGLy"),o=i("rdLu");i("kE97");i("6Ai3"),i("QddB"),n.Validation.configure({forceUpdate:!0}),o.extend(n.Validation.callbacks,{valid:function(t,e){var i=t.$("[name="+e+"]"),n=i.closest(".form-group");n.removeClass("has-error"),n.find(".help-block").html("").addClass("hidden")},invalid:function(t,e,i){var n=t.$("[name="+e+"]"),o=n.closest(".form-group");o.addClass("has-error"),o.find(".help-block").html(i).removeClass("hidden")}});var a=n.View.extend({className:"ui-tactics-container",template:i("bHox"),initialize:function(){this.$el.append(this.template({data:this.model.toJSON()}))},bindings:{"[name=strategyName]":{observe:"strategyName",setOptions:{validate:!0}}},render:function(){return n.Validation.bind(this),this.stickit(),this},setStrategyName:function(t){var i=e(t.target),n=i.attr("name");this.model.set(n,e(t.target).val())},remove:function(){return n.Validation.unbind(this),this.unstickit(),n.View.prototype.remove.apply(this,arguments)},destroy:function(){this.undelegateEvents(),this.stopListening(),this.remove()}});t.exports=a}).call(e,i("7t+N"))}},[0]);
//# sourceMappingURL=app.8e71bc39.js.map